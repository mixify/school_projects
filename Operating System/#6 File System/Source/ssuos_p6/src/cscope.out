cscope 15 $HOME/Documents/ssuos_p6/src               0000271528
	@boot/i386/boot1.asm

1 
	g‹g
 0x9000

3 
IDT
 
	gequ
 0x40000

5 [
BITS
 16]

7 
	g˛i
 ; 
CÀ¨
 
I¡îru±
 
Fœg


9 
mov
 
	gax
, 0xb800

10 
mov
 
	ges
, 
ax


11 
mov
 
	gax
, 0x00

12 
mov
 
	gbx
, 0

13 
mov
 
	gcx
, 80*25*2

14 
	gCLS
:

15 
mov
 [
es
:
bx
], 
ax


16 
add
 
	gbx
, 1

17 
lo›
 
CLS


19 
	gInôülize_PIC
:

20 ;
	gICW1
 - Îëê Í∞úÏùò 
	gPIC
Î•º Ï¥àÍ∏∞Ìôî

21 
mov
 
	gÆ
, 0x11

22 
	gout
 0x20, 
Æ


23 
	gout
 0xa0, 
	gÆ


25 ;
	gICW2
 - Î∞úÏÉùÎêú Ïù∏ÌÑ∞ÎüΩÌä∏ Î≤àÌò∏Ïóê ÏñºÎßàÎ•º ÎçîÌï†ÏßÄ Í≤∞Ï†ï

26 
mov
 
	gÆ
, 0x20

27 
	gout
 0x21, 
Æ


28 
mov
 
	gÆ
, 0x28

29 
	gout
 0xa1, 
	gÆ


31 ;
	gICW3
 - ÎßàÏä§ÌÑ∞/Ïä¨Î†àÏù¥Î∏å Ïó∞Í≤∞ ÌïÄ Ï†ïÎ≥¥ Ï†ÑÎã¨

32 
mov
 
	gÆ
, 0x04

33 
	gout
 0x21, 
Æ


34 
mov
 
	gÆ
, 0x02

35 
	gout
 0xa1, 
	gÆ


37 ;
	gICW4
 - Í∏∞ÌÉÄ ÏòµÏÖò

38 
mov
 
	gÆ
, 0x01

39 
	gout
 0x21, 
Æ


40 
	gout
 0xa1, 
Æ


42 
mov
 
	gÆ
, 0xFF

43 ;
	gout
 0x21, 
Æ


44 
	gout
 0xa1, 
Æ


46 
	gInôülize_Sîül_p‹t
:

47 
x‹
 
ax
,áx

48 
x‹
 
	gdx
, 
dx


49 
mov
 
	gÆ
, 0xe3

52 
	gREADY_TO_PRINT
:

53 
x‹
 
si
, si

54 
x‹
 
	gbh
, 
bh


55 
	gPRINT_TO_SERIAL
:

56 
mov
 
Æ
, [
msgRMode
+
si
]

57 
mov
 
	gah
, 0x01

59 
add
 
	gsi
, 1

60 
cmp
 
	gÆ
, 0

61 
j√
 
PRINT_TO_SERIAL


62 
	gPRINT_NEW_LINE
:

63 
mov
 
Æ
, 0x0a

64 
mov
 
	gah
, 0x01

66 
mov
 
	gÆ
, 0x0d

67 
mov
 
	gah
, 0x01

70 ;
°i


72 
	gA˘iv©e_A20G©e
:

73 
mov
 
ax
, 0x2401

76 ;
	gDëe˘ög_Mem‹y
:

77 ; 
mov
 
	gax
, 0xe801

80 
	gPROTECTED
:

81 
x‹
 
ax
,áx

82 
mov
 
	gds
, 
ax


84 
ˇŒ
 
SETUP_GDT


86 
mov
 
	góx
, 
¸0


87 
‹
 
	góx
, 1

88 
mov
 
	g¸0
, 
óx


90 
jmp
 
	g$
+2

91 
n›


92 
n›


93 
jmp
 
	gCODEDESCRIPTOR
:
ENTRY32


95 
SETUP_GDT
:

96 
lgdt
 [
GDT_DESC
]

97 
ªt


99 [
BITS
 32]

101 
ENTRY32
:

102 
mov
 
ax
, 0x10

103 
mov
 
	gds
, 
ax


104 
mov
 
	ges
, 
ax


105 
mov
 
	gfs
, 
ax


106 
mov
 
	ggs
, 
ax


108 
mov
 
	gss
, 
ax


109 
mov
 
	ge•
, 0xFFFE

110 
mov
 
	gebp
, 0xFFFE

112 
mov
 
	gedi
, 80*2

113 
Àa
 
	gesi
, [
msgPMode
]

114 
ˇŒ
 
	gPRINT


116 ;
IDT
 
TABLE


117 
˛d


118 
mov
 
	gax
, 
IDTDESCRIPTOR


119 
mov
 
	ges
, 
ax


120 
x‹
 
	góx
, 
óx


121 
x‹
 
	gecx
, 
ecx


122 
mov
 
	gax
, 256

123 
mov
 
	gedi
, 0

125 
	gIDT_LOOP
:

126 
Àa
 
esi
, [
IDT_IGNORE
]

127 
mov
 
	gcx
, 8

128 
ªp
 
movsb


129 
dec
 
ax


130 
jnz
 
IDT_LOOP


132 
	glidt
 [
IDTR
]

134 
°i


135 
jmp
 
	gCODEDESCRIPTOR
:0x10000

138 
PRINT
:

139 
push
 
óx


140 
push
 
ebx


141 
push
 
edx


142 
push
 
es


143 
mov
 
ax
, 
VIDEODESCRIPTOR


144 
mov
 
	ges
, 
ax


145 
	gPRINT_LOOP
:

146 
‹
 
Æ
,ál

147 
jz
 
PRINT_END


148 
mov
 
	gÆ
, 
	gbyã
[
esi
]

149 
mov
 
	gbyã
 [
es
:
edi
], 
Æ


150 
öc
 
edi


151 
mov
 
	gbyã
 [
es
:
edi
], 0x07

153 
	gOUT_TO_SERIAL
:

154 
mov
 
bl
, 
Æ


155 
mov
 
	gdx
, 0x3fd

156 
	gCHECK_LINE_STATUS
:

157 
ö
 
Æ
, 
dx


158 
™d
 
	gÆ
, 0x20

159 
cmp
 
	gÆ
, 0

160 
jz
 
CHECK_LINE_STATUS


161 
mov
 
	gdx
, 0x3f8

162 
mov
 
	gÆ
, 
bl


163 
out
 
	gdx
, 
Æ


165 
öc
 
esi


166 
öc
 
edi


167 
jmp
 
PRINT_LOOP


168 
	gPRINT_END
:

169 
LINE_FEED
:

170 
mov
 
dx
, 0x3fd

171 
ö
 
	gÆ
, 
dx


172 
™d
 
	gÆ
, 0x20

173 
cmp
 
	gÆ
, 0

174 
jz
 
LINE_FEED


175 
mov
 
	gdx
, 0x3f8

176 
mov
 
	gÆ
, 0x0a

177 
out
 
	gdx
, 
Æ


178 
	gCARRIAGE_RETURN
:

179 
mov
 
dx
, 0x3fd

180 
ö
 
	gÆ
, 
dx


181 
™d
 
	gÆ
, 0x20

182 
cmp
 
	gÆ
, 0

183 
jz
 
CARRIAGE_RETURN


184 
mov
 
	gdx
, 0x3f8

185 
mov
 
	gÆ
, 0x0d

186 
out
 
	gdx
, 
Æ


188 
p›
 
es


189 
p›
 
edx


190 
p›
 
ebx


191 
p›
 
óx


192 
ªt


194 
	gGDT_DESC
:

195 
dw
 
GDT_END
 - 
GDT
 - 1

196 
dd
 
GDT


197 
GDT
:

198 
NULLDESCRIPTOR
 
equ
 0x00

199 
dw
 0

200 
dw
 0

201 
db
 0

202 
db
 0

203 
db
 0

204 
db
 0

205 
CODEDESCRIPTOR
 
equ
 0x08

206 
dw
 0xffff

207 
dw
 0x0000

208 
db
 0x00

209 
db
 0x9a

210 
db
 0xcf

211 
db
 0x00

212 
DATADESCRIPTOR
 
equ
 0x10

213 
dw
 0xffff

214 
dw
 0x0000

215 
db
 0x00

216 
db
 0x92

217 
db
 0xcf

218 
db
 0x00

219 
VIDEODESCRIPTOR
 
equ
 0x18

220 
dw
 0xffff

221 
dw
 0x8000

222 
db
 0x0b

223 
db
 0x92

224 
db
 0x40

225 ;
	gdb
 0xcf

226 
	gdb
 0x00

227 
IDTDESCRIPTOR
 
	gequ
 0x20

228 
	gdw
 0xffff

229 
	gdw
 0x0000

230 
	gdb
 0x02

231 
	gdb
 0x92

232 
	gdb
 0xcf

233 
	gdb
 0x00

234 
	gGDT_END
:

235 
IDTR
:

236 
dw
 256*8-1

237 
dd
 
IDT


239 
IDT_IGNORE
:

240 
dw
 
ISR_IGNORE


241 
dw
 
CODEDESCRIPTOR


242 
db
 0

243 
db
 0x8E

244 
dw
 0x0000

245 
ISR_IGNORE
:

246 
push
 
gs


247 
push
 
fs


248 
push
 
es


249 
push
 
ds


250 
pushad


251 
pushfd


252 
˛i


253 
n›


254 
°i


255 
p›fd


256 
p›ad


257 
p›
 
ds


258 
p›
 
es


259 
p›
 
fs


260 
p›
 
gs


261 
úë


263 
msgRMode
 
db
 "Real Mode", 0

264 
msgPMode
 
	gdb
 "Protected Mode", 0

266 
	gtimes
 2048-(
	g$
-
	g$$
Ë
	gdb
 0x00

	@boot/i386/bootloader.asm

1 
	g‹g
 0x7c00¬†¬†

3 
KER_SIZ
 
	gequ
 0x80

5 [
BITS
 16]

7 
	gSTART
:

8 
jmp
 
BOOT1_LOAD
 ;
	gBOOT1_LOAD
Î°ú Ï†êÌîÑ

10 
	gBOOT1_LOAD
:

11 
mov
 
ax
, 0x0900

12 
mov
 
	ges
, 
ax


13 
mov
 
	gbx
, 0x0

15 ;0x13 Ïù∏ÌÑ∞ÎüΩÌä∏Îäî 
DISK
 
	gI
/
	gO
, 64ÎπÑÌä∏Ï±Ö 
	gp136
 Ï∞∏Ï°∞

16 
mov
 
	gah
, 2 ;0x13 Ïù∏ÌÑ∞ÎüΩÌä∏ Ìò∏Ï∂úÏãúáhÏóê Ï†ÄÏû•Îêú Í∞íÏóê Îî∞Îùº ÏàòÌñâÎêòÎäî Í≤∞Í≥ºÍ∞Ä Îã§Î¶Ñ. 2Îäî ÏÑπÌÑ∞ ÏùΩÍ∏∞

17 
mov
 
	gÆ
, 0x4 ;al ÏùΩÏùÑ ÏÑπÌÑ∞ ÏàòÎ•º ÏßÄÏ†ï 1~128 ÏÇ¨Ïù¥Ïùò Í∞íÏùÑ ÏßÄÏ†ï Í∞ÄÎä•

18 
mov
 
	gch
, 0 ;Ïã§Î¶∞Îçî Î≤àÌò∏ 
	g˛
Ïùò ÏÉÅÏúÑ 2ÎπÑÌä∏ÍπåÏßÄ ÏÇ¨Ïö©Í∞ÄÎä• ÌïòÏó¨ ÌëúÌòÑ

19 
mov
 
	g˛
, 2 ;ÏùΩÍ∏∞ ÏãúÏûëÌï† ÏÑπÌÑ∞Ïùò Î≤àÌò∏ 1~18 ÏÇ¨Ïù¥Ïùò Í∞í, 1ÏóêÎäî Î∂ÄÌä∏Î°úÎçîÍ∞Ä ÏûàÏúºÎãà 2Ïù¥ÏÉÅÎ∂ÄÌÑ∞

20 
mov
 
	gdh
, 0 ;ÏùΩÍ∏∞ ÏãúÏûëÌï† Ìó§Îìú Î≤àÌò∏ 1~15 Í∞í

21 
mov
 
	gdl
, 0x80 ;ÎìúÎùºÏù¥Î∏å Î≤àÌò∏. 0x00 - ÌîåÎ°úÌîº; 0x80 - Ï≤´ Î≤àÏß∏ ÌïòÎìú, 0x81 - Îëê Î≤àÏß∏ ÌïòÎìú

24 
jc
 
	gBOOT1_LOAD
 ;
	gC¨ry
 ÌîåÎûòÍ∑∏ Î∞úÏÉùÏãú(=
Eº‹
) Îã§Ïãú ÏãúÎèÑ

26 
KERNEL_LOAD
:

27 
mov
 
ax
, 0x1000 ; ÎîîÏä§ÌÅ¨Ïóê ÏûàÎäî Ïª§ÎÑê Ïù¥ÎØ∏ÏßÄÎ•º 0X10000 Î≤àÏßÄÏóê Ïò¨Î¶¨Í∏∞ ÏúÑÌï¥ 
	gax
Ïóê 0x1000 Ï†ÄÏû•(
	g£gmít
 Î†àÏßÄÏä§ÌÑ∞Îäî Ï£ºÏÜå Ïó∞ÏÇ∞Ïãú 16ÎπÑÌä∏ ÎçîÌï¥Ïßê)

28 
mov
 
	ges
, 
	gax
 ; ÏÑ∏Í∑∏Î®ºÌä∏ Î†àÏßÄÏä§ÌÑ∞ÏóêÎäî ÏßÅÏ†ë Ï£ºÏÜå Í∞íÏùÑ ÎåÄÏûÖ Î™ª ÌïòÍ≥† Î≤îÏö© Î†àÏßÄÏä§ÌÑ∞Î•º ÌÜµÌï¥ÏÑúÎßå ÏûÖÎ†• Í∞ÄÎä•(Ïù∏ÌÖî ÏÑ§Í≥Ñ, 
	g˝u
 ÌöåÎ°úÏôÄ Í¥ÄÎ†®)

29 
mov
 
	gbx
, 0x0 ; bx Ï¥àÍ∏∞Ìôî

31 
mov
 
	gah
, 2 ;
READ


32 
mov
 
	gÆ
, 
	gKER_SIZ
 ;
SECTOR
 
COUNT


33 
mov
 
	gch
, 0 ;
CYLINDER
 
NUMBER


34 
mov
 
	g˛
, 0x6 ;
SECTOR
 
SEEK


35 
mov
 
	gdh
, 0 ;
HEAD


36 
mov
 
	gdl
, 0x80 ;
HARD
 
DRIVE


39 
jc
 
KERNEL_LOAD


41 
	gjmp
 0x0900:0x0000

43 
times
 510-(
$
-
$$
Ë
db
 0x00

44 
dw
 0xaa55

	@kernel/arch/Main.c

1 
	~<öãºu±.h
>

2 
	~<devi˚/c⁄sﬁe.h
>

3 
	~<devi˚/block.h
>

4 
	~<ty≥.h
>

5 
	~<devi˚/kbd.h
>

6 
	~<devi˚/io.h
>

7 
	~<devi˚/pô.h
>

8 
	~<°d¨g.h
>

9 
	~<ssulib.h
>

10 
	~<mem/∑gög.h
>

11 
	~<¥oc/¥oc.h
>

12 
	~<mem/mm.h
>

13 
	~<sysˇŒ.h
>

14 
	~<devi˚/kbd.h
>

15 
	~<devi˚/©a.h
>

16 
	~<fûesys/fs.h
>

18 
	~<synch.h
>

19 
	~<mem/∑Œoc.h
>

21 
maö_öô
();

22 
¥öt_c⁄åibut‹s
();

24 c⁄° * 
	gVERSION
 = "0.1.06";

25 c⁄° * 
	gAUTHOR
 = "OSLAB";

26 c⁄° * 
	gMODIFIER
 = "You";

28 
	$ssuos_maö
()

30 
	`maö_öô
();

32 
	`idÀ
(
NULL
);

35 
	}
}

37 
	$maö_öô
()

39 
	`öå_dißbÀ
();

42 
	`öô_c⁄sﬁe
();

44 
	`¥öt_c⁄åibut‹s
();

46 
	`dëe˘_mem
();

47 
	`¥ötk
("%s", "Memory Detecting\n");

48 
	`¥ötk
("-Mem‹y sizê%u Kbyãs\n", 
	`mem_size
()/1024);

50 
	`öô_pô
();

51 
	`¥ötk
("%s", "PIT Intialization\n");

53 
	`öô_sysˇŒ
();

54 
	`¥ötk
("%s", "System call Intialization\n");

56 
	`öô_öå
();

57 
	`¥ötk
("%s", "Interrupt Initialization\n");

59 
	`öô_kbd
();

61 
	`öô_∑Œoc
();

62 
	`¥ötk
("%s" "Palloc Initialization\n");

64 
	`öô_∑gög
();

65 
	`¥ötk
("%s", "Paging Initialization\n");

67 
	`öô_¥oc
();

68 
	`¥ötk
("%s", "Process Intialization\n");

70 
	`öå_íabÀ
();

72 
	`öô_©a
();

73 
	`¥ötk
("%s", "ATA device Intialization\n");

75 
	`öô_fûesy°em
();

77 
	`¥ötk
("========== initialization complete ==========\n\n");

80 #ifde‡
SCREEN_SCROLL


81 
	`ª‰eshS¸ìn
();

83 
	}
}

85 
	$¥öt_c⁄åibut‹s
()

87 
	`¥ötk
("%s", "SSUOS main start!!!!\n");

88 
	`¥ötk
(" ______ ______ __ __ ______ ______ \n");

89 
	`¥ötk
(" / \\ / \\ / | / | / \\ / \\ \n");

90 
	`¥ötk
(" /$$$$$$ |/$$$$$$ |$$ | $$ | /$$$$$$ |/$$$$$$ |\n");

91 
	`¥ötk
(" $$ \\__$$/ $$ \\__$$/ $$ | $$ | $$ | $$ |$$ \\__$$/ \n");

92 
	`¥ötk
(" $$ \\ $$ \\ $$ | $$ | $$ | $$ |$$ \\ \n");

93 
	`¥ötk
(" $$$$$$ | $$$$$$ |$$ | $$ | $$ | $$ | $$$$$$ |\n");

94 
	`¥ötk
(" / \\__$$ |/ \\__$$ |$$ \\__$$ | $$ \\__$$ |/ \\__$$ |\n");

95 
	`¥ötk
(" $$ $$/ $$ $$/ $$ $$/ $$ $$/ $$ $$/ \n");

96 
	`¥ötk
(" $$$$$$/ $$$$$$/ $$$$$$/ $$$$$$/ $$$$$$/ \n");

97 
	`¥ötk
("\n");

98 
	`¥ötk
("****************Made by OSLAB in SoongSil University*********************\n");

99 
	`¥ötk
("\n");

100 
	`¥ötk
("contributors : Yunkyu Lee , Minwoo Jang , Sanghun Choi , Eunseok Choi\n");

101 
	`¥ötk
(" Hyunho Ji , Giwook Kang , Kisu Kim , Seonguk Lee \n");

102 
	`¥ötk
(" Gibeom Byeon, Jeonghwan Lee, Kyoungmin Kim, Myungjoon Shon\n");

103 
	`¥ötk
(" Hansol Lee , Jinwoo Lee , Mhanwoo Heo\n");

104 
	`¥ötk
("\n");

105 
	`¥ötk
("************************ Professor. Jiman Hong ************************\n");

106 
	`¥ötk
(" \n");

107 
	}
}

	@kernel/arch/do_syscall.c

1 
	~<¥oc/sched.h
>

2 
	~<¥oc/¥oc.h
>

3 
	~<devi˚/devi˚.h
>

4 
	~<öãºu±.h
>

5 
	~<devi˚/kbd.h
>

7 
pid_t
 
	$do_f‹k
(
¥oc_func
 
func
, * 
aux
)

9 
pid_t
 
pid
;

10 
¥oc_›ti⁄
 
›t
;

12 
›t
.
¥i‹ôy
 = 
cur_¥o˚ss
->Öriority;

13 
pid
 = 
	`¥oc_¸óã
(
func
, &
›t
, 
aux
);

15  
pid
;

16 
	}
}

18 
	$do_exô
(
°©us
)

20 
cur_¥o˚ss
->
exô_°©us
 = 
°©us
;

21 
	`¥oc_‰ì
();

22 
	`do_sched_⁄_ªtu∫
();

23 
	}
}

25 
pid_t
 
	$do_waô
(*
°©us
)

27 
cur_¥o˚ss
->
chûd_pid
 != -1)

28 
	`scheduÀ
();

31 
pid
 = 
cur_¥o˚ss
->
chûd_pid
;

32 
cur_¥o˚ss
->
chûd_pid
 = -1;

34 
¥o˚ss
 
¥ocs
[];

35 
¥ocs
[
pid
].
°©e
 = 
PROC_UNUSED
;

37 if(!
°©us
)

38 *
°©us
 = 
¥ocs
[
pid
].
exô_°©us
;

40  
pid
;

41 
	}
}

43 
	$do_shutdown
()

45 
	`dev_shutdown
();

47 
	}
}

49 
	$do_ssuªad
()

51  
	`kbd_ªad_ch¨
();

52 
	}
}

	@kernel/arch/i386/crset.asm

1 [
SECTION
 .
ãxt
]

3 [
GLOBAL
 
ªad_¸0
]

4 
	gªad_¸0
:

5 
push
 
ebp


6 
mov
 
ebp
, 
e•


7 
mov
 
	góx
, 
¸0


8 
p›
 
ebp


9 
	gªä


11 [
GLOBAL
 
wrôe_¸0
]

12 
	gwrôe_¸0
:

13 
push
 
ebp


14 
mov
 
ebp
, 
e•


15 
mov
 
	góx
, 
	gdw‹d
[
ebp
+8]

16 
mov
 
	g¸0
, 
óx


17 
p›
 
ebp


18 
	gªä


20 [
GLOBAL
 
ªad_¸3
]

21 
	gªad_¸3
:

22 
push
 
ebp


23 
mov
 
ebp
, 
e•


24 
mov
 
	góx
, 
¸3


25 
p›
 
ebp


26 
	gªä


28 [
GLOBAL
 
wrôe_¸3
]

29 
	gwrôe_¸3
:

30 
push
 
ebp


31 
mov
 
ebp
, 
e•


32 
mov
 
	góx
, 
	gdw‹d
[
ebp
+8]

33 
mov
 
	g¸3
, 
óx


34 
p›
 
ebp


35 
	gªä


	@kernel/arch/i386/intr-stubs.S

2 .
	gãxt


17 .
func
 
öå_íåy


18 
	göå_íåy
:

20 
pushl
 %
ds


21 
pushl
 %
es


22 
pushl
 %
fs


23 
pushl
 %
gs


24 
pushÆ


27 
˛d


31 
ÀÆ
 56(%
e•
), %
ebp


34 
	gpushl
 %
	ge•


35 .
globl
 
öå_comm⁄


36 
ˇŒ
 
öå_comm⁄


37 
addl
 
	g$4
, %
	ge•


38 .
	gídfunc


48 .
globl
 
	göå_exô


49 .
func
 
öå_exô


50 
	göå_exô
:

52 
p›Æ


53 
p›l
 %
gs


54 
p›l
 %
fs


55 
p›l
 %
es


56 
p›l
 %
ds


60 
addl
 
$12
, %
e•


63 
	gúë


64 .
	gídfunc


92 .
	gd©a


93 .
globl
 
öå_°ubs


94 
	göå_°ubs
:

98 
	#zîo
 \

99 
pushl
 %
ebp
; \

100 
pushl
 
$0


	)

104 
	#REAL
 \

105 
	`pushl
 (%
e•
); \

106 
movl
 %
ebp
, 4(%
e•
)

	)

111 
	#STUB
(
NUMBER
, 
TYPE
) \

112 .
ãxt
; \

113 .
func
 
öå
##
NUMBER
##
_°ub
; \

114 
öå
##
NUMBER
##
_°ub
: \

115 
TYPE
; \

116 
push
 
$0x
##
NUMBER
; \

117 
jmp
 
öå_íåy
; \

118 .
ídfunc
; \

120 .
d©a
; \

121 .
öå
##
NUMBER
##
_°ub
;

	)

124 
	$STUB
(00, 
zîo
Ë
	$STUB
(01, 
zîo
Ë
	$STUB
(02, 
zîo
Ë
	$STUB
(03, 
zîo
)

125 
	$STUB
(04, 
zîo
Ë
	$STUB
(05, 
zîo
Ë
	$STUB
(06, 
zîo
Ë
	$STUB
(07, 
zîo
)

126 
	$STUB
(08, 
REAL
Ë
	$STUB
(09, 
zîo
Ë
	$STUB
(0a, 
REAL
Ë
	$STUB
(0b, 
REAL
)

127 
	$STUB
(0c, 
zîo
Ë
	$STUB
(0d, 
REAL
Ë
	$STUB
(0e, 
REAL
Ë
	$STUB
(0f, 
zîo
)

129 
	$STUB
(10, 
zîo
Ë
	$STUB
(11, 
REAL
Ë
	$STUB
(12, 
zîo
Ë
	$STUB
(13, 
zîo
)

130 
	$STUB
(14, 
zîo
Ë
	$STUB
(15, 
zîo
Ë
	$STUB
(16, 
zîo
Ë
	$STUB
(17, 
zîo
)

131 
	$STUB
(18, 
REAL
Ë
	$STUB
(19, 
zîo
Ë
	$STUB
(1a, 
REAL
Ë
	$STUB
(1b, 
REAL
)

132 
	$STUB
(1c, 
zîo
Ë
	$STUB
(1d, 
REAL
Ë
	$STUB
(1e, 
REAL
Ë
	$STUB
(1f, 
zîo
)

134 
	$STUB
(20, 
zîo
Ë
	$STUB
(21, 
zîo
Ë
	$STUB
(22, 
zîo
Ë
	$STUB
(23, 
zîo
)

135 
	$STUB
(24, 
zîo
Ë
	$STUB
(25, 
zîo
Ë
	$STUB
(26, 
zîo
Ë
	$STUB
(27, 
zîo
)

136 
	$STUB
(28, 
zîo
Ë
	$STUB
(29, 
zîo
Ë
	$STUB
(2a, 
zîo
Ë
	$STUB
(2b, 
zîo
)

137 
	$STUB
(2c, 
zîo
Ë
	$STUB
(2d, 
zîo
Ë
	$STUB
(2e, 
zîo
Ë
	$STUB
(2f, 
zîo
)

139 
	$STUB
(30, 
zîo
Ë
	$STUB
(31, 
zîo
Ë
	$STUB
(32, 
zîo
Ë
	$STUB
(33, 
zîo
)

140 
	$STUB
(34, 
zîo
Ë
	$STUB
(35, 
zîo
Ë
	$STUB
(36, 
zîo
Ë
	$STUB
(37, 
zîo
)

141 
	$STUB
(38, 
zîo
Ë
	$STUB
(39, 
zîo
Ë
	$STUB
(3a, 
zîo
Ë
	$STUB
(3b, 
zîo
)

142 
	$STUB
(3c, 
zîo
Ë
	$STUB
(3d, 
zîo
Ë
	$STUB
(3e, 
zîo
Ë
	$STUB
(3f, 
zîo
)

144 
	$STUB
(40, 
zîo
Ë
	$STUB
(41, 
zîo
Ë
	$STUB
(42, 
zîo
Ë
	$STUB
(43, 
zîo
)

145 
	$STUB
(44, 
zîo
Ë
	$STUB
(45, 
zîo
Ë
	$STUB
(46, 
zîo
Ë
	$STUB
(47, 
zîo
)

146 
	$STUB
(48, 
zîo
Ë
	$STUB
(49, 
zîo
Ë
	$STUB
(4a, 
zîo
Ë
	$STUB
(4b, 
zîo
)

147 
	$STUB
(4c, 
zîo
Ë
	$STUB
(4d, 
zîo
Ë
	$STUB
(4e, 
zîo
Ë
	$STUB
(4f, 
zîo
)

149 
	$STUB
(50, 
zîo
Ë
	$STUB
(51, 
zîo
Ë
	$STUB
(52, 
zîo
Ë
	$STUB
(53, 
zîo
)

150 
	$STUB
(54, 
zîo
Ë
	$STUB
(55, 
zîo
Ë
	$STUB
(56, 
zîo
Ë
	$STUB
(57, 
zîo
)

151 
	$STUB
(58, 
zîo
Ë
	$STUB
(59, 
zîo
Ë
	$STUB
(5a, 
zîo
Ë
	$STUB
(5b, 
zîo
)

152 
	$STUB
(5c, 
zîo
Ë
	$STUB
(5d, 
zîo
Ë
	$STUB
(5e, 
zîo
Ë
	$STUB
(5f, 
zîo
)

154 
	$STUB
(60, 
zîo
Ë
	$STUB
(61, 
zîo
Ë
	$STUB
(62, 
zîo
Ë
	$STUB
(63, 
zîo
)

155 
	$STUB
(64, 
zîo
Ë
	$STUB
(65, 
zîo
Ë
	$STUB
(66, 
zîo
Ë
	$STUB
(67, 
zîo
)

156 
	$STUB
(68, 
zîo
Ë
	$STUB
(69, 
zîo
Ë
	$STUB
(6a, 
zîo
Ë
	$STUB
(6b, 
zîo
)

157 
	$STUB
(6c, 
zîo
Ë
	$STUB
(6d, 
zîo
Ë
	$STUB
(6e, 
zîo
Ë
	$STUB
(6f, 
zîo
)

159 
	$STUB
(70, 
zîo
Ë
	$STUB
(71, 
zîo
Ë
	$STUB
(72, 
zîo
Ë
	$STUB
(73, 
zîo
)

160 
	$STUB
(74, 
zîo
Ë
	$STUB
(75, 
zîo
Ë
	$STUB
(76, 
zîo
Ë
	$STUB
(77, 
zîo
)

161 
	$STUB
(78, 
zîo
Ë
	$STUB
(79, 
zîo
Ë
	$STUB
(7a, 
zîo
Ë
	$STUB
(7b, 
zîo
)

162 
	$STUB
(7c, 
zîo
Ë
	$STUB
(7d, 
zîo
Ë
	$STUB
(7e, 
zîo
Ë
	`STUB
(7f, zero)

	@kernel/arch/i386/io.asm

1 [
SECTION
 .
ãxt
]

2 [
GLOBAL
 
öb
]

3 
	göb
:

4 
push
 
ebp


5 
mov
 
ebp
, 
e•


7 
x‹
 
	góx
, 
óx


8 
mov
 
	gdx
, 
	gw‹d
[
ebp
+8]

9 
ö
 
	gÆ
, 
dx


11 
p›
 
ebp


12 
	gªt


13 [
GLOBAL
 
outb
]

14 
	goutb
:

15 
push
 
ebp


16 
mov
 
ebp
, 
e•


18 
mov
 
	gÆ
, 
	gbyã
 [
ebp
+12]

19 
mov
 
	gdx
, 
	gw‹d
 [
ebp
+8]

20 
out
 
	gdx
, 
Æ


22 
p›
 
ebp


23 
	gªt


25 [
GLOBAL
 
öl
]

26 
	göl
:

27 
push
 
ebp


28 
mov
 
ebp
, 
e•


29 
push
 
edx


31 
mov
 
	gdx
, 
	gw‹d
 [
ebp
+8]

32 
x‹
 
	góx
, 
óx


34 
ö
 
	góx
, 
dx


35 
p›
 
edx


36 
mov
 
	ge•
, 
ebp


37 
p›
 
ebp


38 
	gªt


40 [
GLOBAL
 
oué
]

41 
	goué
:

42 
push
 
ebp


43 
mov
 
ebp
, 
e•


44 
push
 
edx


45 
push
 
óx


47 
mov
 
	gdx
, 
	gw‹d
 [
ebp
+8]

48 
mov
 
	góx
, 
	gdw‹d
 [
ebp
+12]

49 
out
 
	gdx
, 
óx


51 
p›
 
óx


52 
p›
 
edx


53 
mov
 
	ge•
, 
ebp


54 
p›
 
ebp


55 
	gªt


57 [
GLOBAL
 
iowaô
]

58 
	giowaô
:

59 
push
 
ax


61 
x‹
 
ax
,áx

62 
	gout
 0x80, 
Æ


64 
p›
 
ax


65 
	gªt


	@kernel/arch/i386/mem.asm

1 [
SECTION
 .
ãxt
]

3 [
GLOBAL
 
gëMemSize
]

4 
	ggëMemSize
:

5 
push
 
ecx


6 
push
 
edx


7 
x‹
 
ecx
, 
	gecx
 ;
˛ór
 
Æl
 
	gªgi°îs
. 
This
 
is
 
√eded
 
ã°ög
 
œãr


8 
x‹
 
	gedx
, 
edx


9 
mov
 
	gax
, 0xe801

11 
	gjc
 .
îr‹


12 
cmp
 
	gah
, 0x86 ;
unsuµ‹ãd
 
fun˘i⁄


13 
	gje
 .
îr‹


14 
cmp
 
	gah
, 0x80 ;
övÆid
 
comm™d


15 
	gje
 .
îr‹


16 
	gjcxz
 .
	gu£_ax
 ;
bios
 
may
 
have
 
°‹ed
 
ô
 
ö
 
	gax
,
bx
 
‹
 
	gcx
,
	gdx
. 
ã°
 
cx
 
	gis
 0

17 
p›
 
edx


18 
p›
 
ecx


19 
ªt


21 
mov
 
	gax
, 
	gcx
 ;
ôs
 
	gnŸ
, 
so
 
ô
 
should
 
c⁄èö
 
mem
 
	gsize
; 
°‹e
 it

22 
mov
 
	gbx
, 
	gdx


24 .
	gu£_ax
:

25 
mov
 
ax
, 
bx


26 
p›
 
	gedx
 ;
mem
 
size
 
is
 
ö
 
ax
 
™d
 
bx
 
	gÆªady
,  
ô


27 
p›
 
ecx


28 
	gªt


30 .
	gîr‹
:

31 
mov
 
ax
, -1

32 
mov
 
	gbx
, 0

33 
p›
 
edx


34 
p›
 
ecx


35 
	gªt


	@kernel/arch/i386/switch.S

2 .
£t
 
	gARG_CUR
, 8

3 .
£t
 
	gARG_NEXT
, 12

5 .
globÆ
 
	gswôch_¥o˚ss


7 .
func
 
swôch_¥o˚ss


8 
	gswôch_¥o˚ss
:

11 
pushl
 %
ebp


12 
movl
 %
e•
, %
ebp


14 
	gpushl
 %
óx


15 
	gpushl
 %
ebx


16 
	gpushl
 %
ecx


17 
	gpushl
 %
edx


18 
	gpushl
 %
esi


19 
	gpushl
 %
	gedi


22 .
globÆ
 
¥o˚ss_°ack_ofs


23 
mov
 
	g¥o˚ss_°ack_ofs
, %
edx


24 
mov
 
	g¥o˚ss_°ack_ofs
, %
ebx


25 
addl
 
	g$4
, %
ebx


28 
movl
 
ARG_CUR
(%
ebp
), %
óx


29 
	gmovl
 %
	ge•
, (%
	góx
, %
	gedx
, 1)

32 
movl
 
ARG_NEXT
(%
ebp
), %
óx


34 
movl
 (%
óx
, %
edx
, 1), %
e•


35 
movl
 (%
óx
, %
ebx
, 1), %
ecx


36 
	gmovl
 %
	gecx
, %
¸3


39 
	gp›l
 %
edi


40 
	gp›l
 %
esi


41 
	gp›l
 %
edx


42 
	gp›l
 %
ecx


43 
	gp›l
 %
ebx


44 
	gp›l
 %
óx


46 
	gp›l
 %
ebp


48 
	gªt


	@kernel/arch/interrupt.c

1 
	~<öãºu±.h
>

2 
	~<devi˚/c⁄sﬁe.h
>

3 
	~<ty≥.h
>

4 
	~<devi˚/pô.h
>

5 
	~<¥oc/sched.h
>

6 
	~<devi˚/io.h
>

7 
	~<devi˚/kbd.h
>

8 
	~<¥oc/¥oc.h
>

9 
	~<ssulib.h
>

10 
	~<¥oc/swôch.h
>

11 
	~<sysˇŒ.h
>

12 
	~<öå-°ubs.h
>

15 
	#TIMER_MAX
 10

	)

16 
	#REFRESH_FPS
 20

	)

17 
	#CODE_SEGMENT
 0x08

	)

19 #¥agm®
∑ck
(
push
, 1)

21 
	s_ID


23 
	mLowOff£t
;

24 
	mCodeSñe˘‹
;

25 
	mTy≥
;

26 
	mHighOff£t
;

27 } 
	t_ID
;

29 
	s_IDTR


31 
	mSize
;

32 
	mAddªss
;

33 } 
	t_IDTR
;

34 #¥agm®
∑ck
(
p›
)

36 
_ID
 *
	gidt
;

38 #i‚de‡
ASSERT


39 
	#ASSERT
(
CONDITION
Ë–(*Ë0)

	)

42 
	gticks
;

44 
öå_h™dÀr_func
 *
	gh™dÀrs
[
INTR_MAX
];

45 
boﬁ
 
	gsched_⁄_ªtu∫
;

47 
boﬁ
 
	gö_exã∫Æ_öå
;

49 
deÁu…_h™dÀr
(
öå_‰ame
 *
i‰ame
);

50 
timî_h™dÀr
(
öå_‰ame
 *
i‰ame
);

51 
sysˇŒ_h™dÀr
(
öå_‰ame
 *
i‰ame
);

53 
	$öô_öå
()

55 
i
;

57 
ticks
 = 0;

58 
ö_exã∫Æ_öå
 = 
Ál£
;

59 
sched_⁄_ªtu∫
 = 
Ál£
;

61 
öå_Àvñ
 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
();

63 
_IDTR
 
IDTR
;

65 
__asm__
 
	`__vﬁ©ûe
("sidà%0"::"m" (
IDTR
));

66 
	`¥ötk
("idå sizê: %dáddªs†: 0x%x\n", 
IDTR
.
Size
, IDTR.
Addªss
);

67 
idt
 = (
_ID
 *)
IDTR
.
Addªss
;

69 
i
 = 0; i<
INTR_MAX
; i++)

71 
idt
[
i
].
LowOff£t
 = ()(()
öå_°ubs
[i] & 0xffff);

72 
idt
[
i
].
CodeSñe˘‹
 = ()
CODE_SEGMENT
;

73 if(
i
 == 5)

74 
idt
[
i
].
Ty≥
 = ()0x9f00;

76 
idt
[
i
].
Ty≥
 = ()0x8e00;

77 
idt
[
i
].
HighOff£t
 = ()((()
öå_°ubs
[i] >> 16) & 0xffff);

79 
h™dÀrs
[
i
] = 
deÁu…_h™dÀr
;

82 
	`ªg_h™dÀr
(32, 
timî_h™dÀr
);

83 
	`¥ötk
("%s", "Timer Handler Registration\n");

86 
	`ªg_h™dÀr
(0x30, 
sysˇŒ_h™dÀr
);

87 
	`¥ötk
("%s", "System Call Handler Registeration\n");

89 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

91 
	}
}

93 
	$öå_comm⁄
(
öå_‰ame
 *
i‰ame
)

95 
ö_exã∫Æ_öå
 = 
i‰ame
->
vec_no
 >= 0x20 && iframe->vec_no < 0x30;

98 if(
ö_exã∫Æ_öå
)

100 
	`ASSERT
 (
	`öå_gë_Àvñ
 (Ë=
INTR_OFF
);

101 
sched_⁄_ªtu∫
 = 
Ál£
;

105 if(
h™dÀrs
[
i‰ame
->
vec_no
] !
NULL
)

106 
h™dÀrs
[
i‰ame
->
vec_no
](iframe);

108 
	`deÁu…_h™dÀr
(
i‰ame
);

110 if(
ö_exã∫Æ_öå
)

112 
	`ASSERT
 (
i‰ame
->
vec_no
 >= 0x20 && iframe->vec_no < 0x30);

114 
ö_exã∫Æ_öå
 = 
Ál£
;

117 
	`outb
(0x20, 0x20);

120 if(
i‰ame
->
vec_no
 >= 0x28)

121 
	`outb
(0xa0, 0x20);

123 if(
sched_⁄_ªtu∫
)

124 
	`scheduÀ
();

126 
	}
}

128 
	$do_sched_⁄_ªtu∫
()

130 
	`ASSERT
 (
	`öå_c⁄ãxt
 ());

131 
sched_⁄_ªtu∫
 = 
åue
;

132 
	}
}

134 
	$ªg_h™dÀr
(
idx
, 
öå_h™dÀr_func
 *
h™dÀr
)

136 
öå_Àvñ
 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
();

138 
h™dÀrs
[
idx
] = 
h™dÀr
;

141 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

143 
	}
}

152 
	#FLAG_MBS
 0x00000002

	)

153 
	#FLAG_IF
 0x00000200

	)

156 
öå_Àvñ
 
	$öå_gë_Àvñ
 ()

158 
uöt32_t
 
Êags
;

164 
asm
 vﬁ©ûê("pushÊ;Ö›»%0" : "=g" (
Êags
));

166  
Êags
 & 
FLAG_IF
 ? 
INTR_ON
 : 
INTR_OFF
;

167 
	}
}

171 
öå_Àvñ
 
	$öå_£t_Àvñ
 (
öå_Àvñ
 
Àvñ
)

173  
Àvñ
 =
INTR_ON
 ? 
	`öå_íabÀ
 (Ë: 
	`öå_dißbÀ
 ();

174 
	}
}

177 
öå_Àvñ
 
	$öå_íabÀ
 ()

179 
öå_Àvñ
 
ﬁd_Àvñ
 = 
	`öå_gë_Àvñ
 ();

180 
	`ASSERT
 (!
	`öå_c⁄ãxt
 ());

186 
asm
 volatile ("sti");

188  
ﬁd_Àvñ
;

189 
	}
}

192 
öå_Àvñ
 
	$öå_dißbÀ
 ()

194 
öå_Àvñ
 
ﬁd_Àvñ
 = 
	`öå_gë_Àvñ
 ();

199 
asm
 volatile ("cli" : : : "memory");

201  
ﬁd_Àvñ
;

202 
	}
}

206 
boﬁ
 
	$öå_c⁄ãxt
 ()

208  
ö_exã∫Æ_öå
;

209 
	}
}

213 
	$gë_ticks
()

215  
ticks
;

216 
	}
}

218 
	$deÁu…_h™dÀr
(
öå_‰ame
 *
i‰ame
)

222 
	`¥ötk
("\n\nöàöå %d\n\n", 
i‰ame
->
vec_no
);

226 
	}
}

228 
	$timî_h™dÀr
(
öå_‰ame
 *
i‰ame
)

230 
ticks
++;

231 
cur_¥o˚ss
->
time_u£d
++;

232 
cur_¥o˚ss
->
time_¶i˚
++;

234 if(
cur_¥o˚ss
->
time_¶i˚
 >
TIMER_MAX
)

236 
	`do_sched_⁄_ªtu∫
();

238 #ifde‡
SCREEN_SCROLL


240 
ª‰esh_ticks
 = 0;

241 if(++
ª‰esh_ticks
 >(
PIT_FRQ_HZ
/
REFRESH_FPS
)) {

242 
ª‰esh_ticks
 = 0;

243 
	`ª‰eshS¸ìn
();

246 
	}
}

248 
	$sysˇŒ_h™dÀr
(
öå_‰ame
 *
i‰ame
)

250 
sys_num
, 
¨g_num
, 
ªt
;

251 *
±
;

252 
i
;

254 
	#SYSCALL_ARG_MAX
 3

	)

255 
¨g
[
SYSCALL_ARG_MAX
];

257 
±
 = (*Ë((()&
i‰ame
->
ss
) - 4);

258 
sys_num
 = *
±
++;

259 
¨g_num
 = 
sysˇŒ_tbl
[
sys_num
][1];

261 
i
 = 0; i<
¨g_num
; i++)

262 
¨g
[
i
] = *
±
++;

264 
¨g_num
)

267 
ªt
 = (((*)())
sysˇŒ_tbl
[
sys_num
][0])();

270 
ªt
 = (((*)())
sysˇŒ_tbl
[
sys_num
][0])(
¨g
[0]);

273 
ªt
 = (((*)(, ))
sysˇŒ_tbl
[
sys_num
][0])(
¨g
[0],árg[1]);

276 
ªt
 = (((*)(, , ))
sysˇŒ_tbl
[
sys_num
][0]Ë(
¨g
[0],árg[1],árg[2]);

280 *(
±
 + 3Ë
ªt
;

281 
	}
}

	@kernel/arch/syscall.c

1 
	~<sysˇŒ.h
>

2 
	~<do_sysˇŒ.h
>

3 
	~<¥oc/¥oc.h
>

11 
	#sysˇŒ0
(
SYS_NUM
) ({ \

12 
ªt
; \

13 
__asm__
 
	`__vﬁ©ûe
( \

18 : [
num
] "g" (
SYS_NUM
) \

20 
ªt
; \

21 })

	)

23 
	#sysˇŒ1
(
SYS_NUM
, 
ARG0
) ({ \

24 
ªt
; \

25 
__asm__
 
	`__vﬁ©ûe
( \

31 : [
num
] "g" (
SYS_NUM
), \

32 [
¨g0
] "g" (
ARG0
) \

34 
ªt
; \

35 })

	)

37 
	#sysˇŒ2
(
SYS_NUM
, 
ARG0
, 
ARG1
) ({ \

38 
ªt
; \

39 
__asm__
 
	`__vﬁ©ûe
( \

46 : [
num
] "g" (
SYS_NUM
), \

47 [
¨g0
] "g" (
ARG0
), \

48 [
¨g1
] "g" (
ARG1
) \

50 
ªt
; \

51 })

	)

53 
	#sysˇŒ3
(
SYS_NUM
, 
ARG0
, 
ARG1
, 
ARG2
) ({ \

54 
ªt
; \

55 
__asm__
 
	`__vﬁ©ûe
( \

63 : [
num
] "g" (
SYS_NUM
), \

64 [
¨g0
] "g" (
ARG0
), \

65 [
¨g1
] "g" (
ARG1
), \

66 [
¨g2
] "g" (
ARG2
) \

68 
ªt
; \

69 })

	)

71 
	gsysˇŒ_tbl
[
SYS_NUM
][2];

73 
	#REGSYS
(
NUM
, 
FUNC
, 
ARG
) \

74 
sysˇŒ_tbl
[
NUM
][0] = ()
FUNC
; \

75 
sysˇŒ_tbl
[
NUM
][1] = 
ARG
;

	)

78 
	$öô_sysˇŒ
()

80 
	`REGSYS
(
SYS_FORK
, 
do_f‹k
, 2);

81 
	`REGSYS
(
SYS_EXIT
, 
do_exô
, 1);

82 
	`REGSYS
(
SYS_WAIT
, 
do_waô
, 1);

83 
	`REGSYS
(
SYS_SSUREAD
, 
do_ssuªad
, 0);

84 
	`REGSYS
(
SYS_SHUTDOWN
, 
do_shutdown
, 0);

85 
	}
}

87 
	$exô
(
°©us
)

89 
	`sysˇŒ1
(
SYS_EXIT
, 
°©us
);

90 
	}
}

92 
pid_t
 
	$f‹k
(
¥oc_func
 
func
, * 
aux
)

94  
	`sysˇŒ2
(
SYS_FORK
, 
func
, 
aux
);

95 
	}
}

97 
pid_t
 
	$waô
(*
°©us
)

99  
	`sysˇŒ1
(
SYS_WAIT
, 
°©us
);

100 
	}
}

102 
	$ssuªad
()

104  
	`sysˇŒ0
(
SYS_SSUREAD
);

105 
	}
}

107 
	$shutdown
()

109 
	`sysˇŒ0
(
SYS_SHUTDOWN
);

110 
	}
}

	@kernel/bitmap.c

1 
	~<bôm≠.h
>

2 
	~<limôs.h
>

3 
	~<round.h
>

7 #ifde‡
FILESYS


8 
	~<fûe.h
>

11 #i‚de‡
ASSERT


12 
	#ASSERT
(
COND
Ë;

	)

18 
	#ELEM_BITS
 ( (
ñem_ty≥
Ë* 
CHAR_BIT
)

	)

28 
ölöe
 
size_t


29 
	$ñem_idx
 (
size_t
 
bô_idx
)

31  
bô_idx
 / 
ELEM_BITS
;

32 
	}
}

36 
ölöe
 
ñem_ty≥


37 
	$bô_mask
 (
size_t
 
bô_idx
)

39  (
ñem_ty≥
Ë1 << (
bô_idx
 % 
ELEM_BITS
);

40 
	}
}

43 
ölöe
 
size_t


44 
	$ñem_˙t
 (
size_t
 
bô_˙t
)

46  
	`DIV_ROUND_UP
 (
bô_˙t
, 
ELEM_BITS
);

47 
	}
}

50 
ölöe
 
size_t


51 
	$byã_˙t
 (
size_t
 
bô_˙t
)

53   (
ñem_ty≥
Ë* 
	`ñem_˙t
 (
bô_˙t
);

54 
	}
}

58 
ölöe
 
ñem_ty≥


59 
	$œ°_mask
 (c⁄° 
bôm≠
 *
b
)

61 
œ°_bôs
 = 
b
->
bô_˙t
 % 
ELEM_BITS
;

62  
œ°_bôs
 ? ((
ñem_ty≥
) 1 <<Üast_bits) - 1 : (elem_type) -1;

63 
	}
}

96 
bôm≠
 *

97 
	$bôm≠_¸óã_ö_buf
 (
size_t
 
bô_˙t
, *
block
, size_à
block_size
)

99 
bôm≠
 *
b
 = 
block
;

101 
	`ASSERT
 (
block_size
 >
	`bôm≠_buf_size
 (
bô_˙t
));

103 
b
->
bô_˙t
 = bit_cnt;

104 
b
->
bôs
 = (
ñem_ty≥
 *) (b + 1);

105 
	`bôm≠_£t_Æl
 (
b
, 
Ál£
);

106  
b
;

107 
	}
}

111 
size_t


112 
	$bôm≠_buf_size
 (
size_t
 
bô_˙t
)

114   (
bôm≠
Ë+ 
	`byã_˙t
 (
bô_˙t
);

115 
	}
}

134 
size_t


135 
	$bôm≠_size
 (c⁄° 
bôm≠
 *
b
)

137  
b
->
bô_˙t
;

138 
	}
}

143 
	$bôm≠_£t
 (
bôm≠
 *
b
, 
size_t
 
idx
, 
boﬁ
 
vÆue
)

145 
	`ASSERT
 (
b
 !
NULL
);

146 
	`ASSERT
 (
idx
 < 
b
->
bô_˙t
);

147 i‡(
vÆue
)

148 
	`bôm≠_m¨k
 (
b
, 
idx
);

150 
	`bôm≠_ª£t
 (
b
, 
idx
);

151 
	}
}

155 
	$bôm≠_m¨k
 (
bôm≠
 *
b
, 
size_t
 
bô_idx
)

157 
size_t
 
idx
 = 
	`ñem_idx
 (
bô_idx
);

158 
ñem_ty≥
 
mask
 = 
	`bô_mask
 (
bô_idx
);

164 
b
->
bôs
[
idx
] |
mask
;

165 
	}
}

169 
	$bôm≠_ª£t
 (
bôm≠
 *
b
, 
size_t
 
bô_idx
)

171 
size_t
 
idx
 = 
	`ñem_idx
 (
bô_idx
);

172 
ñem_ty≥
 
mask
 = 
	`bô_mask
 (
bô_idx
);

178 
b
->
bôs
[
idx
] &~
mask
;

179 
	}
}

185 
	$bôm≠_Êù
 (
bôm≠
 *
b
, 
size_t
 
bô_idx
)

187 
size_t
 
idx
 = 
	`ñem_idx
 (
bô_idx
);

188 
ñem_ty≥
 
mask
 = 
	`bô_mask
 (
bô_idx
);

194 
b
->
bôs
[
idx
] ^
mask
;

195 
	}
}

198 
boﬁ


199 
	$bôm≠_ã°
 (c⁄° 
bôm≠
 *
b
, 
size_t
 
idx
)

201 
	`ASSERT
 (
b
 !
NULL
);

202 
	`ASSERT
 (
idx
 < 
b
->
bô_˙t
);

203  (
b
->
bôs
[
	`ñem_idx
 (
idx
)] & 
	`bô_mask
 (idx)) != 0;

204 
	}
}

210 
	$bôm≠_£t_Æl
 (
bôm≠
 *
b
, 
boﬁ
 
vÆue
)

212 
	`ASSERT
 (
b
 !
NULL
);

214 
	`bôm≠_£t_mu…ùÀ
 (
b
, 0, 
	`bôm≠_size
 (b), 
vÆue
);

215 
	}
}

219 
	$bôm≠_£t_mu…ùÀ
 (
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
, 
boﬁ
 
vÆue
)

221 
size_t
 
i
;

223 
	`ASSERT
 (
b
 !
NULL
);

224 
	`ASSERT
 (
°¨t
 <
b
->
bô_˙t
);

225 
	`ASSERT
 (
°¨t
 + 
˙t
 <
b
->
bô_˙t
);

227 
i
 = 0; i < 
˙t
; i++)

228 
	`bôm≠_£t
 (
b
, 
°¨t
 + 
i
, 
vÆue
);

229 
	}
}

233 
size_t


234 
	$bôm≠_cou¡
 (c⁄° 
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
, 
boﬁ
 
vÆue
)

236 
size_t
 
i
, 
vÆue_˙t
;

238 
	`ASSERT
 (
b
 !
NULL
);

239 
	`ASSERT
 (
°¨t
 <
b
->
bô_˙t
);

240 
	`ASSERT
 (
°¨t
 + 
˙t
 <
b
->
bô_˙t
);

242 
vÆue_˙t
 = 0;

243 
i
 = 0; i < 
˙t
; i++)

244 i‡(
	`bôm≠_ã°
 (
b
, 
°¨t
 + 
i
Ë=
vÆue
)

245 
vÆue_˙t
++;

246  
vÆue_˙t
;

247 
	}
}

251 
boﬁ


252 
	$bôm≠_c⁄èös
 (c⁄° 
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
, 
boﬁ
 
vÆue
)

254 
size_t
 
i
;

256 
	`ASSERT
 (
b
 !
NULL
);

257 
	`ASSERT
 (
°¨t
 <
b
->
bô_˙t
);

258 
	`ASSERT
 (
°¨t
 + 
˙t
 <
b
->
bô_˙t
);

260 
i
 = 0; i < 
˙t
; i++)

261 i‡(
	`bôm≠_ã°
 (
b
, 
°¨t
 + 
i
Ë=
vÆue
)

262  
åue
;

263  
Ál£
;

264 
	}
}

268 
boﬁ


269 
	$bôm≠_™y
 (c⁄° 
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
)

271  
	`bôm≠_c⁄èös
 (
b
, 
°¨t
, 
˙t
, 
åue
);

272 
	}
}

276 
boﬁ


277 
	$bôm≠_n⁄e
 (c⁄° 
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
)

279  !
	`bôm≠_c⁄èös
 (
b
, 
°¨t
, 
˙t
, 
åue
);

280 
	}
}

284 
boﬁ


285 
	$bôm≠_Æl
 (c⁄° 
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
)

287  !
	`bôm≠_c⁄èös
 (
b
, 
°¨t
, 
˙t
, 
Ál£
);

288 
	}
}

296 
size_t


297 
	$bôm≠_sˇn
 (c⁄° 
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
, 
boﬁ
 
vÆue
)

299 
	`ASSERT
 (
b
 !
NULL
);

300 
	`ASSERT
 (
°¨t
 <
b
->
bô_˙t
);

302 i‡(
˙t
 <
b
->
bô_˙t
)

304 
size_t
 
œ°
 = 
b
->
bô_˙t
 - 
˙t
;

305 
size_t
 
i
;

306 
i
 = 
°¨t
; i <
œ°
; i++)

307 i‡(!
	`bôm≠_c⁄èös
 (
b
, 
i
, 
˙t
, !
vÆue
))

308  
i
;

310  
BITMAP_ERROR
;

311 
	}
}

320 
size_t


321 
	$bôm≠_sˇn_™d_Êù
 (
bôm≠
 *
b
, 
size_t
 
°¨t
, size_à
˙t
, 
boﬁ
 
vÆue
)

323 
size_t
 
idx
 = 
	`bôm≠_sˇn
 (
b
, 
°¨t
, 
˙t
, 
vÆue
);

324 i‡(
idx
 !
BITMAP_ERROR
)

325 
	`bôm≠_£t_mu…ùÀ
 (
b
, 
idx
, 
˙t
, !
vÆue
);

326  
idx
;

327 
	}
}

329 
	$bôm≠_Æloc
(
bôm≠
 *
b
)

331 
i
;

332 
íd
 = 
	`bôm≠_size
(
b
);

334 
i
 = 0; i <
íd
; i++)

336 if(!
	`bôm≠_ã°
(
b
, 
i
))

338 
	`bôm≠_£t
(
b
, 
i
, 
åue
);

339  
i
;

344 
	}
}

349 #ifde‡
FILESYS


351 
size_t


352 
	$bôm≠_fûe_size
 (c⁄° 
bôm≠
 *
b
)

354  
	`byã_˙t
 (
b
->
bô_˙t
);

355 
	}
}

359 
boﬁ


360 
	$bôm≠_ªad
 (
bôm≠
 *
b
, 
fûe
 *file)

362 
boﬁ
 
suc˚ss
 = 
åue
;

363 i‡(
b
->
bô_˙t
 > 0)

365 
off_t
 
size
 = 
	`byã_˙t
 (
b
->
bô_˙t
);

366 
suc˚ss
 = 
	`fûe_ªad_©
 (
fûe
, 
b
->
bôs
, 
size
, 0) == size;

367 
b
->
bôs
[
	`ñem_˙t
 (b->
bô_˙t
Ë- 1] &
	`œ°_mask
 (b);

369  
suc˚ss
;

370 
	}
}

374 
boﬁ


375 
	$bôm≠_wrôe
 (c⁄° 
bôm≠
 *
b
, 
fûe
 *file)

377 
off_t
 
size
 = 
	`byã_˙t
 (
b
->
bô_˙t
);

378  
	`fûe_wrôe_©
 (
fûe
, 
b
->
bôs
, 
size
, 0) == size;

379 
	}
}

	@kernel/build/Main.s

1 .
	gfûe
 "Main.c"

2 .
	gãxt


3 .
	gLãxt0
:

4 .
comm
 
Glob_x
,4,4

5 .
comm
 
	gGlob_y
,4,4

6 .
loˇl
 
	gvnode_èbÀ


7 .
comm
 
	gvnode_èbÀ
,30720,32

8 .
comm
 
	g©a
,56,32

9 .
comm
 
	g©a0_blk_dev
,20,4

10 .
comm
 
	g©a1_blk_dev
,20,4

11 .
globl
 
	gVERSION


12 .
	g£˘i⁄
 .
	grod©a


13 .
	gLC0
:

14 .
°rög
 "0.1.06"

15 .
d©a


16 .
Æign
 4

17 .
ty≥
 
VERSION
, @
	gobje˘


18 .
size
 
	gVERSION
, 4

19 
	gVERSION
:

20 ..
LC0


21 .
globl
 
AUTHOR


22 .
£˘i⁄
 .
rod©a


23 .
LC1
:

24 .
°rög
 "OSLAB"

25 .
d©a


26 .
Æign
 4

27 .
ty≥
 
AUTHOR
, @
	gobje˘


28 .
size
 
	gAUTHOR
, 4

29 
	gAUTHOR
:

30 ..
LC1


31 .
globl
 
MODIFIER


32 .
£˘i⁄
 .
rod©a


33 .
LC2
:

34 .
°rög
 "You"

35 .
d©a


36 .
Æign
 4

37 .
ty≥
 
MODIFIER
, @
	gobje˘


38 .
size
 
	gMODIFIER
, 4

39 
	gMODIFIER
:

40 ..
LC2


41 .
ãxt


42 .
globl
 
ssuos_maö


43 .
ty≥
 
ssuos_maö
, @
fun˘i⁄


44 
	gssuos_maö
:

45 .
LFB3
:

46 .
fûe
 1 "arch/Main.c"

47 .
loc
 1 29 0

48 .
cfi_°¨çroc


49 
pushl
 %
ebp


50 .
cfi_def_cÁ_off£t
 8

51 .
cfi_off£t
 5, -8

52 
	gmovl
 %
	ge•
, %
	gebp


53 .
	gcfi_def_cÁ_ªgi°î
 5

54 
subl
 
	g$8
, %
	ge•


55 .
	gloc
 1 30 0

56 
ˇŒ
 
	gmaö_öô


57 .
	gloc
 1 32 0

58 
subl
 
	g$12
, %
e•


59 
pushl
 
$0


60 
ˇŒ
 
idÀ


61 
addl
 
	g$16
, %
	ge•


62 .
	gloc
 1 34 0

63 
	gn›


64 .
	gloc
 1 35 0

65 
	gÀave


66 .
	gcfi_ª°‹e
 5

67 .
	gcfi_def_cÁ
 4, 4

68 
	gªt


69 .
	gcfi_íd¥oc


70 .
	gLFE3
:

71 .
size
 
ssuos_maö
, .-
	gssuos_maö


72 .
	g£˘i⁄
 .
	grod©a


73 .
	gLC3
:

74 .
°rög
 "Memory Detecting\n"

75 .
LC4
:

76 .
°rög
 "%s"

77 .
LC5
:

78 .
°rög
 "-Memory size = %u Kbytes\n"

79 .
LC6
:

80 .
°rög
 "PIT Intialization\n"

81 .
LC7
:

82 .
°rög
 "System call Intialization\n"

83 .
LC8
:

84 .
°rög
 "Interrupt Initialization\n"

85 .
LC9
:

86 .
°rög
 "%sPalloc Initialization\n"

87 .
LC10
:

88 .
°rög
 "Paging Initialization\n"

89 .
LC11
:

90 .
°rög
 "Process Intialization\n"

91 .
LC12
:

92 .
°rög
 "ATA device Intialization\n"

93 .
Æign
 4

94 .
LC13
:

95 .
°rög
 "========== initialization complete ==========\n\n"

96 .
ãxt


97 .
globl
 
maö_öô


98 .
ty≥
 
maö_öô
, @
fun˘i⁄


99 
	gmaö_öô
:

100 .
LFB4
:

101 .
loc
 1 38 0

102 .
cfi_°¨çroc


103 
pushl
 %
ebp


104 .
cfi_def_cÁ_off£t
 8

105 .
cfi_off£t
 5, -8

106 
	gmovl
 %
	ge•
, %
	gebp


107 .
	gcfi_def_cÁ_ªgi°î
 5

108 
subl
 
	g$8
, %
	ge•


109 .
	gloc
 1 39 0

110 
ˇŒ
 
	göå_dißbÀ


111 .
	gloc
 1 42 0

112 
ˇŒ
 
	göô_c⁄sﬁe


113 .
	gloc
 1 44 0

114 
ˇŒ
 
	g¥öt_c⁄åibut‹s


115 .
	gloc
 1 46 0

116 
ˇŒ
 
	gdëe˘_mem


117 .
	gloc
 1 47 0

118 
subl
 
	g$8
, %
e•


119 
pushl
 
	g$
.
LC3


120 
pushl
 
	g$
.
LC4


121 
ˇŒ
 
¥ötk


122 
addl
 
	g$16
, %
	ge•


123 .
	gloc
 1 48 0

124 
ˇŒ
 
mem_size


125 
shæ
 
	g$10
, %
óx


126 
subl
 
	g$8
, %
e•


127 
	gpushl
 %
óx


128 
pushl
 
	g$
.
LC5


129 
ˇŒ
 
¥ötk


130 
addl
 
	g$16
, %
	ge•


131 .
	gloc
 1 50 0

132 
ˇŒ
 
	göô_pô


133 .
	gloc
 1 51 0

134 
subl
 
	g$8
, %
e•


135 
pushl
 
	g$
.
LC6


136 
pushl
 
	g$
.
LC4


137 
ˇŒ
 
¥ötk


138 
addl
 
	g$16
, %
	ge•


139 .
	gloc
 1 53 0

140 
ˇŒ
 
	göô_sysˇŒ


141 .
	gloc
 1 54 0

142 
subl
 
	g$8
, %
e•


143 
pushl
 
	g$
.
LC7


144 
pushl
 
	g$
.
LC4


145 
ˇŒ
 
¥ötk


146 
addl
 
	g$16
, %
	ge•


147 .
	gloc
 1 56 0

148 
ˇŒ
 
	göô_öå


149 .
	gloc
 1 57 0

150 
subl
 
	g$8
, %
e•


151 
pushl
 
	g$
.
LC8


152 
pushl
 
	g$
.
LC4


153 
ˇŒ
 
¥ötk


154 
addl
 
	g$16
, %
	ge•


155 .
	gloc
 1 59 0

156 
ˇŒ
 
	göô_kbd


157 .
	gloc
 1 61 0

158 
ˇŒ
 
	göô_∑Œoc


159 .
	gloc
 1 62 0

160 
subl
 
	g$12
, %
e•


161 
pushl
 
	g$
.
LC9


162 
ˇŒ
 
¥ötk


163 
addl
 
	g$16
, %
	ge•


164 .
	gloc
 1 64 0

165 
ˇŒ
 
	göô_∑gög


166 .
	gloc
 1 65 0

167 
subl
 
	g$8
, %
e•


168 
pushl
 
	g$
.
LC10


169 
pushl
 
	g$
.
LC4


170 
ˇŒ
 
¥ötk


171 
addl
 
	g$16
, %
	ge•


172 .
	gloc
 1 67 0

173 
ˇŒ
 
	göô_¥oc


174 .
	gloc
 1 68 0

175 
subl
 
	g$8
, %
e•


176 
pushl
 
	g$
.
LC11


177 
pushl
 
	g$
.
LC4


178 
ˇŒ
 
¥ötk


179 
addl
 
	g$16
, %
	ge•


180 .
	gloc
 1 70 0

181 
ˇŒ
 
	göå_íabÀ


182 .
	gloc
 1 72 0

183 
ˇŒ
 
	göô_©a


184 .
	gloc
 1 73 0

185 
subl
 
	g$8
, %
e•


186 
pushl
 
	g$
.
LC12


187 
pushl
 
	g$
.
LC4


188 
ˇŒ
 
¥ötk


189 
addl
 
	g$16
, %
	ge•


190 .
	gloc
 1 75 0

191 
ˇŒ
 
	göô_fûesy°em


192 .
	gloc
 1 77 0

193 
subl
 
	g$12
, %
e•


194 
pushl
 
	g$
.
LC13


195 
ˇŒ
 
¥ötk


196 
addl
 
	g$16
, %
	ge•


197 .
	gloc
 1 81 0

198 
ˇŒ
 
	gª‰eshS¸ìn


199 .
	gloc
 1 83 0

200 
n›


201 
	gÀave


202 .
	gcfi_ª°‹e
 5

203 .
	gcfi_def_cÁ
 4, 4

204 
	gªt


205 .
	gcfi_íd¥oc


206 .
	gLFE4
:

207 .
size
 
maö_öô
, .-
	gmaö_öô


208 .
	g£˘i⁄
 .
	grod©a


209 .
	gLC14
:

210 .
°rög
 "SSUOS main start!!!!\n"

211 .
Æign
 4

212 .
LC15
:

213 .
°rög
 " ______ ______ __ __ ______ ______ \n"

214 .
Æign
 4

215 .
LC16
:

216 .
°rög
 " / \\ / \\ / | / | / \\ / \\ \n"

217 .
Æign
 4

218 .
LC17
:

219 .
°rög
 " /$$$$$$ |/$$$$$$ |$$ | $$ | /$$$$$$ |/$$$$$$ |\n"

220 .
Æign
 4

221 .
LC18
:

222 .
°rög
 " $$ \\__$$/ $$ \\__$$/ $$ | $$ | $$ | $$ |$$ \\__$$/ \n"

223 .
Æign
 4

224 .
LC19
:

225 .
°rög
 " $$ \\ $$ \\ $$ | $$ | $$ | $$ |$$ \\ \n"

226 .
Æign
 4

227 .
LC20
:

228 .
°rög
 " $$$$$$ | $$$$$$ |$$ | $$ | $$ | $$ | $$$$$$ |\n"

229 .
Æign
 4

230 .
LC21
:

231 .
°rög
 " / \\__$$ |/ \\__$$ |$$ \\__$$ | $$ \\__$$ |/ \\__$$ |\n"

232 .
Æign
 4

233 .
LC22
:

234 .
°rög
 " $$ $$/ $$ $$/ $$ $$/ $$ $$/ $$ $$/ \n"

235 .
Æign
 4

236 .
LC23
:

237 .
°rög
 " $$$$$$/ $$$$$$/ $$$$$$/ $$$$$$/ $$$$$$/ \n"

238 .
LC24
:

239 .
°rög
 "\n"

240 .
Æign
 4

241 .
LC25
:

242 .
°rög
 "****************Made by OSLAB in SoongSil University*********************\n"

243 .
Æign
 4

244 .
LC26
:

245 .
°rög
 "contributors : Yunkyu Lee , Minwoo Jang , Sanghun Choi , Eunseok Choi\n"

246 .
Æign
 4

247 .
LC27
:

248 .
°rög
 " Hyunho Ji , Giwook Kang , Kisu Kim , Seonguk Lee \n"

249 .
Æign
 4

250 .
LC28
:

251 .
°rög
 " Gibeom Byeon, Jeonghwan Lee, Kyoungmin Kim, Myungjoon Shon\n"

252 .
Æign
 4

253 .
LC29
:

254 .
°rög
 " Hansol Lee , Jinwoo Lee , Mhanwoo Heo\n"

255 .
Æign
 4

256 .
LC30
:

257 .
°rög
 "************************ Professor. Jiman Hong ************************\n"

258 .
Æign
 4

259 .
LC31
:

260 .
°rög
 " \n"

261 .
ãxt


262 .
globl
 
¥öt_c⁄åibut‹s


263 .
ty≥
 
¥öt_c⁄åibut‹s
, @
fun˘i⁄


264 
	g¥öt_c⁄åibut‹s
:

265 .
LFB5
:

266 .
loc
 1 86 0

267 .
cfi_°¨çroc


268 
pushl
 %
ebp


269 .
cfi_def_cÁ_off£t
 8

270 .
cfi_off£t
 5, -8

271 
	gmovl
 %
	ge•
, %
	gebp


272 .
	gcfi_def_cÁ_ªgi°î
 5

273 
subl
 
	g$8
, %
	ge•


274 .
	gloc
 1 87 0

275 
subl
 
	g$8
, %
e•


276 
pushl
 
	g$
.
LC14


277 
pushl
 
	g$
.
LC4


278 
ˇŒ
 
¥ötk


279 
addl
 
	g$16
, %
	ge•


280 .
	gloc
 1 88 0

281 
subl
 
	g$12
, %
e•


282 
pushl
 
	g$
.
LC15


283 
ˇŒ
 
¥ötk


284 
addl
 
	g$16
, %
	ge•


285 .
	gloc
 1 89 0

286 
subl
 
	g$12
, %
e•


287 
pushl
 
	g$
.
LC16


288 
ˇŒ
 
¥ötk


289 
addl
 
	g$16
, %
	ge•


290 .
	gloc
 1 90 0

291 
subl
 
	g$12
, %
e•


292 
pushl
 
	g$
.
LC17


293 
ˇŒ
 
¥ötk


294 
addl
 
	g$16
, %
	ge•


295 .
	gloc
 1 91 0

296 
subl
 
	g$12
, %
e•


297 
pushl
 
	g$
.
LC18


298 
ˇŒ
 
¥ötk


299 
addl
 
	g$16
, %
	ge•


300 .
	gloc
 1 92 0

301 
subl
 
	g$12
, %
e•


302 
pushl
 
	g$
.
LC19


303 
ˇŒ
 
¥ötk


304 
addl
 
	g$16
, %
	ge•


305 .
	gloc
 1 93 0

306 
subl
 
	g$12
, %
e•


307 
pushl
 
	g$
.
LC20


308 
ˇŒ
 
¥ötk


309 
addl
 
	g$16
, %
	ge•


310 .
	gloc
 1 94 0

311 
subl
 
	g$12
, %
e•


312 
pushl
 
	g$
.
LC21


313 
ˇŒ
 
¥ötk


314 
addl
 
	g$16
, %
	ge•


315 .
	gloc
 1 95 0

316 
subl
 
	g$12
, %
e•


317 
pushl
 
	g$
.
LC22


318 
ˇŒ
 
¥ötk


319 
addl
 
	g$16
, %
	ge•


320 .
	gloc
 1 96 0

321 
subl
 
	g$12
, %
e•


322 
pushl
 
	g$
.
LC23


323 
ˇŒ
 
¥ötk


324 
addl
 
	g$16
, %
	ge•


325 .
	gloc
 1 97 0

326 
subl
 
	g$12
, %
e•


327 
pushl
 
	g$
.
LC24


328 
ˇŒ
 
¥ötk


329 
addl
 
	g$16
, %
	ge•


330 .
	gloc
 1 98 0

331 
subl
 
	g$12
, %
e•


332 
pushl
 
	g$
.
LC25


333 
ˇŒ
 
¥ötk


334 
addl
 
	g$16
, %
	ge•


335 .
	gloc
 1 99 0

336 
subl
 
	g$12
, %
e•


337 
pushl
 
	g$
.
LC24


338 
ˇŒ
 
¥ötk


339 
addl
 
	g$16
, %
	ge•


340 .
	gloc
 1 100 0

341 
subl
 
	g$12
, %
e•


342 
pushl
 
	g$
.
LC26


343 
ˇŒ
 
¥ötk


344 
addl
 
	g$16
, %
	ge•


345 .
	gloc
 1 101 0

346 
subl
 
	g$12
, %
e•


347 
pushl
 
	g$
.
LC27


348 
ˇŒ
 
¥ötk


349 
addl
 
	g$16
, %
	ge•


350 .
	gloc
 1 102 0

351 
subl
 
	g$12
, %
e•


352 
pushl
 
	g$
.
LC28


353 
ˇŒ
 
¥ötk


354 
addl
 
	g$16
, %
	ge•


355 .
	gloc
 1 103 0

356 
subl
 
	g$12
, %
e•


357 
pushl
 
	g$
.
LC29


358 
ˇŒ
 
¥ötk


359 
addl
 
	g$16
, %
	ge•


360 .
	gloc
 1 104 0

361 
subl
 
	g$12
, %
e•


362 
pushl
 
	g$
.
LC24


363 
ˇŒ
 
¥ötk


364 
addl
 
	g$16
, %
	ge•


365 .
	gloc
 1 105 0

366 
subl
 
	g$12
, %
e•


367 
pushl
 
	g$
.
LC30


368 
ˇŒ
 
¥ötk


369 
addl
 
	g$16
, %
	ge•


370 .
	gloc
 1 106 0

371 
subl
 
	g$12
, %
e•


372 
pushl
 
	g$
.
LC31


373 
ˇŒ
 
¥ötk


374 
addl
 
	g$16
, %
	ge•


375 .
	gloc
 1 107 0

376 
n›


377 
	gÀave


378 .
	gcfi_ª°‹e
 5

379 .
	gcfi_def_cÁ
 4, 4

380 
	gªt


381 .
	gcfi_íd¥oc


382 .
	gLFE5
:

383 .
size
 
¥öt_c⁄åibut‹s
, .-
	g¥öt_c⁄åibut‹s


384 .
	gLëext0
:

385 .
fûe
 2 "./include/type.h"

386 .
fûe
 3 "./include/device/block.h"

387 .
fûe
 4 "./include/list.h"

388 .
fûe
 5 "./include/filesys/vnode.h"

389 .
fûe
 6 "./include/synch.h"

390 .
fûe
 7 "./include/device/ata.h"

391 .
fûe
 8 "./include/device/console.h"

392 .
fûe
 9 "./include/syscall.h"

393 .
£˘i⁄
 .
debug_öfo
,"",@
	g¥ogbôs


394 .
	gLdebug_öfo0
:

396 .
vÆue
 0x4

397 ..
Ldebug_abbªv0


398 .
byã
 0x4

399 .
uÀb128
 0x1

400 ..
LASF63


401 .
byã
 0xc

402 ..
LASF64


403 ..
LASF65


404 ..
Lãxt0


405 ..
Lëext0
-.
Lãxt0


406 ..
Ldebug_löe0


407 .
uÀb128
 0x2

408 .
byã
 0x1

409 .
byã
 0x8

410 ..
LASF0


411 .
uÀb128
 0x2

412 .
byã
 0x1

413 .
byã
 0x6

414 ..
LASF1


415 .
uÀb128
 0x2

416 .
byã
 0x4

417 .
byã
 0x7

418 ..
LASF2


419 .
uÀb128
 0x2

420 .
byã
 0x8

421 .
byã
 0x5

422 ..
LASF3


423 .
uÀb128
 0x2

424 .
byã
 0x1

425 .
byã
 0x6

426 ..
LASF4


427 .
uÀb128
 0x2

428 .
byã
 0x2

429 .
byã
 0x5

430 ..
LASF5


431 .
uÀb128
 0x3

432 .
byã
 0x4

433 .
byã
 0x5

434 .
°rög
 "int"

435 .
uÀb128
 0x4

436 ..
LASF6


437 .
byã
 0x2

438 .
byã
 0x2d

440 .
uÀb128
 0x4

441 ..
LASF7


442 .
byã
 0x2

443 .
byã
 0x30

445 .
uÀb128
 0x2

446 .
byã
 0x2

447 .
byã
 0x7

448 ..
LASF8


449 .
uÀb128
 0x4

450 ..
LASF9


451 .
byã
 0x2

452 .
byã
 0x33

454 .
uÀb128
 0x2

455 .
byã
 0x8

456 .
byã
 0x7

457 ..
LASF10


458 .
uÀb128
 0x5

459 .
byã
 0x4

460 .
uÀb128
 0x4

461 ..
LASF11


462 .
byã
 0x3

463 .
byã
 0x12

465 .
uÀb128
 0x4

466 ..
LASF12


467 .
byã
 0x3

468 .
byã
 0x15

470 .
uÀb128
 0x4

471 ..
LASF13


472 .
byã
 0x3

473 .
byã
 0x18

475 .
uÀb128
 0x4

476 ..
LASF14


477 .
byã
 0x3

478 .
byã
 0x1b

480 .
uÀb128
 0x6

481 ..
LASF19


482 .
byã
 0x14

483 .
byã
 0x3

484 .
byã
 0x1e

486 .
uÀb128
 0x7

487 ..
LASF15


488 .
byã
 0x3

489 .
byã
 0x20

491 .
byã
 0

492 .
uÀb128
 0x7

493 ..
LASF16


494 .
byã
 0x3

495 .
byã
 0x21

497 .
byã
 0x4

498 .
uÀb128
 0x7

499 ..
LASF17


500 .
byã
 0x3

501 .
byã
 0x22

503 .
byã
 0x8

504 .
uÀb128
 0x8

505 .
°rög
 "ops"

506 .
byã
 0x3

507 .
byã
 0x23

509 .
byã
 0xc

510 .
uÀb128
 0x7

511 ..
LASF18


512 .
byã
 0x3

513 .
byã
 0x24

515 .
byã
 0x10

516 .
byã
 0

517 .
uÀb128
 0x6

518 ..
LASF20


519 .
byã
 0x8

520 .
byã
 0x3

521 .
byã
 0x2b

523 .
uÀb128
 0x7

524 ..
LASF21


525 .
byã
 0x3

526 .
byã
 0x2d

528 .
byã
 0

529 .
uÀb128
 0x7

530 ..
LASF22


531 .
byã
 0x3

532 .
byã
 0x2e

534 .
byã
 0x4

535 .
byã
 0

536 .
uÀb128
 0x9

537 .
byã
 0x4

539 .
uÀb128
 0xa

541 .
uÀb128
 0xb

543 .
uÀb128
 0xc

545 .
uÀb128
 0xc

547 .
uÀb128
 0xc

549 .
byã
 0

550 .
uÀb128
 0x9

551 .
byã
 0x4

553 .
uÀb128
 0xb

555 .
uÀb128
 0xc

557 .
uÀb128
 0xc

559 .
uÀb128
 0xc

561 .
byã
 0

562 .
uÀb128
 0x9

563 .
byã
 0x4

565 .
uÀb128
 0xd

566 .
uÀb128
 0x9

567 .
byã
 0x4

569 .
uÀb128
 0x9

570 .
byã
 0x4

572 .
uÀb128
 0x6

573 ..
LASF23


574 .
byã
 0x8

575 .
byã
 0x4

576 .
byã
 0x59

578 .
uÀb128
 0x7

579 ..
LASF24


580 .
byã
 0x4

581 .
byã
 0x5b

583 .
byã
 0

584 .
uÀb128
 0x7

585 ..
LASF25


586 .
byã
 0x4

587 .
byã
 0x5c

589 .
byã
 0x4

590 .
byã
 0

591 .
uÀb128
 0x9

592 .
byã
 0x4

594 .
uÀb128
 0x6

595 ..
LASF26


596 .
byã
 0x10

597 .
byã
 0x4

598 .
byã
 0x60

600 .
uÀb128
 0x7

601 ..
LASF27


602 .
byã
 0x4

603 .
byã
 0x62

605 .
byã
 0

606 .
uÀb128
 0x7

607 ..
LASF28


608 .
byã
 0x4

609 .
byã
 0x63

611 .
byã
 0x8

612 .
byã
 0

613 .
uÀb128
 0x6

614 ..
LASF29


615 .
byã
 0x10

616 .
byã
 0x5

617 .
byã
 0xd

619 .
uÀb128
 0x7

620 ..
LASF30


621 .
byã
 0x5

622 .
byã
 0xe

624 .
byã
 0

625 .
uÀb128
 0x8

626 .
°rög
 "ls"

627 .
byã
 0x5

628 .
byã
 0xf

630 .
byã
 0x4

631 .
uÀb128
 0x8

632 .
°rög
 "cd"

633 .
byã
 0x5

634 .
byã
 0x10

636 .
byã
 0x8

637 .
uÀb128
 0x8

638 .
°rög
 "cat"

639 .
byã
 0x5

640 .
byã
 0x11

642 .
byã
 0xc

643 .
byã
 0

644 .
uÀb128
 0xe

647 .
uÀb128
 0xc

649 .
byã
 0

650 .
uÀb128
 0x9

651 .
byã
 0x4

653 .
uÀb128
 0xf

656 .
uÀb128
 0x10

657 .
byã
 0

658 .
uÀb128
 0x9

659 .
byã
 0x4

661 .
uÀb128
 0x6

662 ..
LASF31


663 .
byã
 0x78

664 .
byã
 0x5

665 .
byã
 0x14

667 .
uÀb128
 0x7

668 ..
LASF32


669 .
byã
 0x5

670 .
byã
 0x15

672 .
byã
 0

673 .
uÀb128
 0x7

674 ..
LASF15


675 .
byã
 0x5

676 .
byã
 0x16

678 .
byã
 0x4

679 .
uÀb128
 0x7

680 ..
LASF33


681 .
byã
 0x5

682 .
byã
 0x17

684 .
byã
 0x8

685 .
uÀb128
 0x7

686 ..
LASF34


687 .
byã
 0x5

688 .
byã
 0x18

690 .
byã
 0xc

691 .
uÀb128
 0x7

692 ..
LASF35


693 .
byã
 0x5

694 .
byã
 0x19

696 .
byã
 0x4c

697 .
uÀb128
 0x7

698 ..
LASF36


699 .
byã
 0x5

700 .
byã
 0x1a

702 .
byã
 0x5c

703 .
uÀb128
 0x7

704 ..
LASF37


705 .
byã
 0x5

706 .
byã
 0x1b

708 .
byã
 0x6c

709 .
uÀb128
 0x7

710 ..
LASF38


711 .
byã
 0x5

712 .
byã
 0x1c

714 .
byã
 0x74

715 .
byã
 0

716 .
uÀb128
 0x9

717 .
byã
 0x4

719 .
uÀb128
 0x11

722 .
uÀb128
 0x12

724 .
byã
 0x3f

725 .
byã
 0

726 .
uÀb128
 0x2

727 .
byã
 0x4

728 .
byã
 0x7

729 ..
LASF39


730 .
uÀb128
 0x13

731 ..
LASF66


732 .
byã
 0x4

734 .
byã
 0x9

735 .
byã
 0x4

737 .
uÀb128
 0x14

738 ..
LASF40


739 .
byã
 0

740 .
uÀb128
 0x14

741 ..
LASF41


742 .
byã
 0x1

743 .
uÀb128
 0x14

744 ..
LASF42


745 .
byã
 0x2

746 .
uÀb128
 0x14

747 ..
LASF43


748 .
byã
 0x3

749 .
uÀb128
 0x14

750 ..
LASF44


751 .
byã
 0x4

752 .
uÀb128
 0x14

753 ..
LASF45


754 .
byã
 0x5

755 .
byã
 0

756 .
uÀb128
 0x6

757 ..
LASF46


758 .
byã
 0x14

759 .
byã
 0x6

760 .
byã
 0x9

762 .
uÀb128
 0x7

763 ..
LASF47


764 .
byã
 0x6

765 .
byã
 0xb

767 .
byã
 0

768 .
uÀb128
 0x7

769 ..
LASF48


770 .
byã
 0x6

771 .
byã
 0xc

773 .
byã
 0x4

774 .
byã
 0

775 .
uÀb128
 0x6

776 ..
LASF49


777 .
byã
 0x1c

778 .
byã
 0x7

779 .
byã
 0x3a

781 .
uÀb128
 0x7

782 ..
LASF15


783 .
byã
 0x7

784 .
byã
 0x3c

786 .
byã
 0

787 .
uÀb128
 0x7

788 ..
LASF50


789 .
byã
 0x7

790 .
byã
 0x3d

792 .
byã
 0x2

793 .
uÀb128
 0x8

794 .
°rög
 "irq"

795 .
byã
 0x7

796 .
byã
 0x3e

798 .
byã
 0x4

799 .
uÀb128
 0x7

800 ..
LASF51


801 .
byã
 0x7

802 .
byã
 0x3f

804 .
byã
 0x8

805 .
byã
 0

806 .
uÀb128
 0x6

807 ..
LASF52


808 .
byã
 0x38

809 .
byã
 0x7

810 .
byã
 0x42

812 .
uÀb128
 0x7

813 ..
LASF53


814 .
byã
 0x7

815 .
byã
 0x44

817 .
byã
 0

818 .
byã
 0

819 .
uÀb128
 0x11

822 .
uÀb128
 0x12

824 .
byã
 0x1

825 .
byã
 0

826 .
uÀb128
 0x15

827 ..
LASF54


828 .
byã
 0x1

829 .
byã
 0x1c

830 ..
LFB3


831 ..
LFE3
-.
LFB3


832 .
uÀb128
 0x1

833 .
byã
 0x9c

834 .
uÀb128
 0x16

835 ..
LASF67


836 .
byã
 0x1

837 .
byã
 0x25

838 ..
LFB4


839 ..
LFE4
-.
LFB4


840 .
uÀb128
 0x1

841 .
byã
 0x9c

843 .
uÀb128
 0x17

844 ..
LASF68


845 .
byã
 0x1

846 .
byã
 0x4b

848 .
uÀb128
 0x10

849 .
byã
 0

850 .
byã
 0

851 .
uÀb128
 0x15

852 ..
LASF55


853 .
byã
 0x1

854 .
byã
 0x55

855 ..
LFB5


856 ..
LFE5
-.
LFB5


857 .
uÀb128
 0x1

858 .
byã
 0x9c

859 .
uÀb128
 0x11

862 .
uÀb128
 0x12

864 .
byã
 0xff

865 .
byã
 0

866 .
uÀb128
 0x18

867 ..
LASF69


868 .
byã
 0x5

869 .
byã
 0x1f

871 .
uÀb128
 0x5

872 .
byã
 0x3

873 .
vnode_èbÀ


874 .
uÀb128
 0x19

875 ..
LASF56


876 .
byã
 0x8

877 .
byã
 0xc

879 .
uÀb128
 0x5

880 .
byã
 0x3

881 .
Glob_x


882 .
uÀb128
 0x19

883 ..
LASF57


884 .
byã
 0x8

885 .
byã
 0xd

887 .
uÀb128
 0x5

888 .
byã
 0x3

889 .
Glob_y


890 .
uÀb128
 0x1a

891 .
°rög
 "ata"

892 .
byã
 0x7

893 .
byã
 0x47

895 .
uÀb128
 0x5

896 .
byã
 0x3

897 .
©a


898 .
uÀb128
 0x19

899 ..
LASF58


900 .
byã
 0x7

901 .
byã
 0x48

903 .
uÀb128
 0x5

904 .
byã
 0x3

905 .
©a0_blk_dev


906 .
uÀb128
 0x19

907 ..
LASF59


908 .
byã
 0x7

909 .
byã
 0x49

911 .
uÀb128
 0x5

912 .
byã
 0x3

913 .
©a1_blk_dev


914 .
uÀb128
 0x19

915 ..
LASF60


916 .
byã
 0x1

917 .
byã
 0x18

919 .
uÀb128
 0x5

920 .
byã
 0x3

921 .
VERSION


922 .
uÀb128
 0x9

923 .
byã
 0x4

925 .
uÀb128
 0xa

927 .
uÀb128
 0x19

928 ..
LASF61


929 .
byã
 0x1

930 .
byã
 0x19

932 .
uÀb128
 0x5

933 .
byã
 0x3

934 .
AUTHOR


935 .
uÀb128
 0x19

936 ..
LASF62


937 .
byã
 0x1

938 .
byã
 0x1a

940 .
uÀb128
 0x5

941 .
byã
 0x3

942 .
MODIFIER


943 .
byã
 0

944 .
£˘i⁄
 .
debug_abbªv
,"",@
	g¥ogbôs


945 .
	gLdebug_abbªv0
:

946 .
uÀb128
 0x1

947 .
uÀb128
 0x11

948 .
byã
 0x1

949 .
uÀb128
 0x25

950 .
uÀb128
 0xe

951 .
uÀb128
 0x13

952 .
uÀb128
 0xb

953 .
uÀb128
 0x3

954 .
uÀb128
 0xe

955 .
uÀb128
 0x1b

956 .
uÀb128
 0xe

957 .
uÀb128
 0x11

958 .
uÀb128
 0x1

959 .
uÀb128
 0x12

960 .
uÀb128
 0x6

961 .
uÀb128
 0x10

962 .
uÀb128
 0x17

963 .
byã
 0

964 .
byã
 0

965 .
uÀb128
 0x2

966 .
uÀb128
 0x24

967 .
byã
 0

968 .
uÀb128
 0xb

969 .
uÀb128
 0xb

970 .
uÀb128
 0x3e

971 .
uÀb128
 0xb

972 .
uÀb128
 0x3

973 .
uÀb128
 0xe

974 .
byã
 0

975 .
byã
 0

976 .
uÀb128
 0x3

977 .
uÀb128
 0x24

978 .
byã
 0

979 .
uÀb128
 0xb

980 .
uÀb128
 0xb

981 .
uÀb128
 0x3e

982 .
uÀb128
 0xb

983 .
uÀb128
 0x3

984 .
uÀb128
 0x8

985 .
byã
 0

986 .
byã
 0

987 .
uÀb128
 0x4

988 .
uÀb128
 0x16

989 .
byã
 0

990 .
uÀb128
 0x3

991 .
uÀb128
 0xe

992 .
uÀb128
 0x3a

993 .
uÀb128
 0xb

994 .
uÀb128
 0x3b

995 .
uÀb128
 0xb

996 .
uÀb128
 0x49

997 .
uÀb128
 0x13

998 .
byã
 0

999 .
byã
 0

1000 .
uÀb128
 0x5

1001 .
uÀb128
 0xf

1002 .
byã
 0

1003 .
uÀb128
 0xb

1004 .
uÀb128
 0xb

1005 .
byã
 0

1006 .
byã
 0

1007 .
uÀb128
 0x6

1008 .
uÀb128
 0x13

1009 .
byã
 0x1

1010 .
uÀb128
 0x3

1011 .
uÀb128
 0xe

1012 .
uÀb128
 0xb

1013 .
uÀb128
 0xb

1014 .
uÀb128
 0x3a

1015 .
uÀb128
 0xb

1016 .
uÀb128
 0x3b

1017 .
uÀb128
 0xb

1018 .
uÀb128
 0x1

1019 .
uÀb128
 0x13

1020 .
byã
 0

1021 .
byã
 0

1022 .
uÀb128
 0x7

1023 .
uÀb128
 0xd

1024 .
byã
 0

1025 .
uÀb128
 0x3

1026 .
uÀb128
 0xe

1027 .
uÀb128
 0x3a

1028 .
uÀb128
 0xb

1029 .
uÀb128
 0x3b

1030 .
uÀb128
 0xb

1031 .
uÀb128
 0x49

1032 .
uÀb128
 0x13

1033 .
uÀb128
 0x38

1034 .
uÀb128
 0xb

1035 .
byã
 0

1036 .
byã
 0

1037 .
uÀb128
 0x8

1038 .
uÀb128
 0xd

1039 .
byã
 0

1040 .
uÀb128
 0x3

1041 .
uÀb128
 0x8

1042 .
uÀb128
 0x3a

1043 .
uÀb128
 0xb

1044 .
uÀb128
 0x3b

1045 .
uÀb128
 0xb

1046 .
uÀb128
 0x49

1047 .
uÀb128
 0x13

1048 .
uÀb128
 0x38

1049 .
uÀb128
 0xb

1050 .
byã
 0

1051 .
byã
 0

1052 .
uÀb128
 0x9

1053 .
uÀb128
 0xf

1054 .
byã
 0

1055 .
uÀb128
 0xb

1056 .
uÀb128
 0xb

1057 .
uÀb128
 0x49

1058 .
uÀb128
 0x13

1059 .
byã
 0

1060 .
byã
 0

1061 .
uÀb128
 0xa

1062 .
uÀb128
 0x26

1063 .
byã
 0

1064 .
uÀb128
 0x49

1065 .
uÀb128
 0x13

1066 .
byã
 0

1067 .
byã
 0

1068 .
uÀb128
 0xb

1069 .
uÀb128
 0x15

1070 .
byã
 0x1

1071 .
uÀb128
 0x27

1072 .
uÀb128
 0x19

1073 .
uÀb128
 0x1

1074 .
uÀb128
 0x13

1075 .
byã
 0

1076 .
byã
 0

1077 .
uÀb128
 0xc

1078 .
uÀb128
 0x5

1079 .
byã
 0

1080 .
uÀb128
 0x49

1081 .
uÀb128
 0x13

1082 .
byã
 0

1083 .
byã
 0

1084 .
uÀb128
 0xd

1085 .
uÀb128
 0x26

1086 .
byã
 0

1087 .
byã
 0

1088 .
byã
 0

1089 .
uÀb128
 0xe

1090 .
uÀb128
 0x15

1091 .
byã
 0x1

1092 .
uÀb128
 0x27

1093 .
uÀb128
 0x19

1094 .
uÀb128
 0x49

1095 .
uÀb128
 0x13

1096 .
uÀb128
 0x1

1097 .
uÀb128
 0x13

1098 .
byã
 0

1099 .
byã
 0

1100 .
uÀb128
 0xf

1101 .
uÀb128
 0x15

1102 .
byã
 0x1

1103 .
uÀb128
 0x49

1104 .
uÀb128
 0x13

1105 .
uÀb128
 0x1

1106 .
uÀb128
 0x13

1107 .
byã
 0

1108 .
byã
 0

1109 .
uÀb128
 0x10

1110 .
uÀb128
 0x18

1111 .
byã
 0

1112 .
byã
 0

1113 .
byã
 0

1114 .
uÀb128
 0x11

1115 .
uÀb128
 0x1

1116 .
byã
 0x1

1117 .
uÀb128
 0x49

1118 .
uÀb128
 0x13

1119 .
uÀb128
 0x1

1120 .
uÀb128
 0x13

1121 .
byã
 0

1122 .
byã
 0

1123 .
uÀb128
 0x12

1124 .
uÀb128
 0x21

1125 .
byã
 0

1126 .
uÀb128
 0x49

1127 .
uÀb128
 0x13

1128 .
uÀb128
 0x2f

1129 .
uÀb128
 0xb

1130 .
byã
 0

1131 .
byã
 0

1132 .
uÀb128
 0x13

1133 .
uÀb128
 0x4

1134 .
byã
 0x1

1135 .
uÀb128
 0x3

1136 .
uÀb128
 0xe

1137 .
uÀb128
 0xb

1138 .
uÀb128
 0xb

1139 .
uÀb128
 0x49

1140 .
uÀb128
 0x13

1141 .
uÀb128
 0x3a

1142 .
uÀb128
 0xb

1143 .
uÀb128
 0x3b

1144 .
uÀb128
 0xb

1145 .
uÀb128
 0x1

1146 .
uÀb128
 0x13

1147 .
byã
 0

1148 .
byã
 0

1149 .
uÀb128
 0x14

1150 .
uÀb128
 0x28

1151 .
byã
 0

1152 .
uÀb128
 0x3

1153 .
uÀb128
 0xe

1154 .
uÀb128
 0x1c

1155 .
uÀb128
 0xb

1156 .
byã
 0

1157 .
byã
 0

1158 .
uÀb128
 0x15

1159 .
uÀb128
 0x2e

1160 .
byã
 0

1161 .
uÀb128
 0x3f

1162 .
uÀb128
 0x19

1163 .
uÀb128
 0x3

1164 .
uÀb128
 0xe

1165 .
uÀb128
 0x3a

1166 .
uÀb128
 0xb

1167 .
uÀb128
 0x3b

1168 .
uÀb128
 0xb

1169 .
uÀb128
 0x27

1170 .
uÀb128
 0x19

1171 .
uÀb128
 0x11

1172 .
uÀb128
 0x1

1173 .
uÀb128
 0x12

1174 .
uÀb128
 0x6

1175 .
uÀb128
 0x40

1176 .
uÀb128
 0x18

1177 .
uÀb128
 0x2116

1178 .
uÀb128
 0x19

1179 .
byã
 0

1180 .
byã
 0

1181 .
uÀb128
 0x16

1182 .
uÀb128
 0x2e

1183 .
byã
 0x1

1184 .
uÀb128
 0x3f

1185 .
uÀb128
 0x19

1186 .
uÀb128
 0x3

1187 .
uÀb128
 0xe

1188 .
uÀb128
 0x3a

1189 .
uÀb128
 0xb

1190 .
uÀb128
 0x3b

1191 .
uÀb128
 0xb

1192 .
uÀb128
 0x27

1193 .
uÀb128
 0x19

1194 .
uÀb128
 0x11

1195 .
uÀb128
 0x1

1196 .
uÀb128
 0x12

1197 .
uÀb128
 0x6

1198 .
uÀb128
 0x40

1199 .
uÀb128
 0x18

1200 .
uÀb128
 0x2116

1201 .
uÀb128
 0x19

1202 .
uÀb128
 0x1

1203 .
uÀb128
 0x13

1204 .
byã
 0

1205 .
byã
 0

1206 .
uÀb128
 0x17

1207 .
uÀb128
 0x2e

1208 .
byã
 0x1

1209 .
uÀb128
 0x3f

1210 .
uÀb128
 0x19

1211 .
uÀb128
 0x3

1212 .
uÀb128
 0xe

1213 .
uÀb128
 0x3a

1214 .
uÀb128
 0xb

1215 .
uÀb128
 0x3b

1216 .
uÀb128
 0xb

1217 .
uÀb128
 0x49

1218 .
uÀb128
 0x13

1219 .
uÀb128
 0x3c

1220 .
uÀb128
 0x19

1221 .
byã
 0

1222 .
byã
 0

1223 .
uÀb128
 0x18

1224 .
uÀb128
 0x34

1225 .
byã
 0

1226 .
uÀb128
 0x3

1227 .
uÀb128
 0xe

1228 .
uÀb128
 0x3a

1229 .
uÀb128
 0xb

1230 .
uÀb128
 0x3b

1231 .
uÀb128
 0xb

1232 .
uÀb128
 0x49

1233 .
uÀb128
 0x13

1234 .
uÀb128
 0x2

1235 .
uÀb128
 0x18

1236 .
byã
 0

1237 .
byã
 0

1238 .
uÀb128
 0x19

1239 .
uÀb128
 0x34

1240 .
byã
 0

1241 .
uÀb128
 0x3

1242 .
uÀb128
 0xe

1243 .
uÀb128
 0x3a

1244 .
uÀb128
 0xb

1245 .
uÀb128
 0x3b

1246 .
uÀb128
 0xb

1247 .
uÀb128
 0x49

1248 .
uÀb128
 0x13

1249 .
uÀb128
 0x3f

1250 .
uÀb128
 0x19

1251 .
uÀb128
 0x2

1252 .
uÀb128
 0x18

1253 .
byã
 0

1254 .
byã
 0

1255 .
uÀb128
 0x1a

1256 .
uÀb128
 0x34

1257 .
byã
 0

1258 .
uÀb128
 0x3

1259 .
uÀb128
 0x8

1260 .
uÀb128
 0x3a

1261 .
uÀb128
 0xb

1262 .
uÀb128
 0x3b

1263 .
uÀb128
 0xb

1264 .
uÀb128
 0x49

1265 .
uÀb128
 0x13

1266 .
uÀb128
 0x3f

1267 .
uÀb128
 0x19

1268 .
uÀb128
 0x2

1269 .
uÀb128
 0x18

1270 .
byã
 0

1271 .
byã
 0

1272 .
byã
 0

1273 .
£˘i⁄
 .
debug_¨™ges
,"",@
	g¥ogbôs


1275 .
	gvÆue
 0x2

1276 ..
	gLdebug_öfo0


1277 .
	gbyã
 0x4

1278 .
	gbyã
 0

1279 .
	gvÆue
 0

1280 .
	gvÆue
 0

1281 ..
	gLãxt0


1282 ..
	gLëext0
-.
	gLãxt0


1285 .
	g£˘i⁄
 .
	gdebug_löe
,"",@
	g¥ogbôs


1286 .
	gLdebug_löe0
:

1287 .
£˘i⁄
 .
debug_°r
,"MS",@
	g¥ogbôs
,1

1288 .
	gLASF22
:

1289 .
°rög
 "write"

1290 .
LASF14
:

1291 .
°rög
 "blk_dev_t"

1292 .
LASF13
:

1293 .
°rög
 "blk_size_t"

1294 .
LASF5
:

1295 .
°rög
 "short int"

1296 .
LASF52
:

1297 .
°rög
 "ata_interface"

1298 .
LASF39
:

1299 .
°rög
 "sizetype"

1300 .
LASF45
:

1301 .
°rög
 "SYS_NUM"

1302 .
LASF69
:

1303 .
°rög
 "vnode_table"

1304 .
LASF65
:

1305 .
°rög
 "/home/psm/Documents/ssuos_p6/src/kernel"

1306 .
LASF46
:

1307 .
°rög
 "semaphore"

1308 .
LASF58
:

1309 .
°rög
 "ata0_blk_dev"

1310 .
LASF59
:

1311 .
°rög
 "ata1_blk_dev"

1312 .
LASF33
:

1313 .
°rög
 "v_parent"

1314 .
LASF27
:

1315 .
°rög
 "head"

1316 .
LASF53
:

1317 .
°rög
 "nodes"

1318 .
LASF49
:

1319 .
°rög
 "ata_device"

1320 .
LASF6
:

1321 .
°rög
 "uint8_t"

1322 .
LASF44
:

1323 .
°rög
 "SYS_SHUTDOWN"

1324 .
LASF12
:

1325 .
°rög
 "blk_cnt_t"

1326 .
LASF21
:

1327 .
°rög
 "read"

1328 .
LASF3
:

1329 .
°rög
 "longÜong int"

1330 .
LASF67
:

1331 .
°rög
 "main_init"

1332 .
LASF61
:

1333 .
°rög
 "AUTHOR"

1334 .
LASF60
:

1335 .
°rög
 "VERSION"

1336 .
LASF40
:

1337 .
°rög
 "SYS_FORK"

1338 .
LASF16
:

1339 .
°rög
 "blk_count"

1340 .
LASF19
:

1341 .
°rög
 "blk_dev"

1342 .
LASF28
:

1343 .
°rög
 "tail"

1344 .
LASF0
:

1345 .
°rög
 "unsigned char"

1346 .
LASF48
:

1347 .
°rög
 "waiters"

1348 .
LASF54
:

1349 .
°rög
 "ssuos_main"

1350 .
LASF29
:

1351 .
°rög
 "vnodeop"

1352 .
LASF64
:

1353 .
°rög
 "arch/Main.c"

1354 .
LASF4
:

1355 .
°rög
 "signed char"

1356 .
LASF11
:

1357 .
°rög
 "blk_sec_t"

1358 .
LASF10
:

1359 .
°rög
 "longÜong unsigned int"

1360 .
LASF9
:

1361 .
°rög
 "uint32_t"

1362 .
LASF2
:

1363 .
°rög
 "unsigned int"

1364 .
LASF7
:

1365 .
°rög
 "uint16_t"

1366 .
LASF32
:

1367 .
°rög
 "v_no"

1368 .
LASF23
:

1369 .
°rög
 "list_elem"

1370 .
LASF34
:

1371 .
°rög
 "v_name"

1372 .
LASF8
:

1373 .
°rög
 "short unsigned int"

1374 .
LASF20
:

1375 .
°rög
 "blk_dev_ops"

1376 .
LASF1
:

1377 .
°rög
 "char"

1378 .
LASF15
:

1379 .
°rög
 "type"

1380 .
LASF26
:

1381 .
°rög
 "list"

1382 .
LASF43
:

1383 .
°rög
 "SYS_SSUREAD"

1384 .
LASF55
:

1385 .
°rög
 "print_contributors"

1386 .
LASF31
:

1387 .
°rög
 "vnode"

1388 .
LASF62
:

1389 .
°rög
 "MODIFIER"

1390 .
LASF37
:

1391 .
°rög
 "elem"

1392 .
LASF41
:

1393 .
°rög
 "SYS_EXIT"

1394 .
LASF51
:

1395 .
°rög
 "sema"

1396 .
LASF42
:

1397 .
°rög
 "SYS_WAIT"

1398 .
LASF36
:

1399 .
°rög
 "childlist"

1400 .
LASF17
:

1401 .
°rög
 "blk_size"

1402 .
LASF18
:

1403 .
°rög
 "device_info"

1404 .
LASF38
:

1405 .
°rög
 "info"

1406 .
LASF35
:

1407 .
°rög
 "v_op"

1408 .
LASF63
:

1409 .
°rög
 "GNU C11 5.4.0 20160609 -m32 -mtune=generic -march=i686 -g -O0 -ffreestanding -fno-stack-protector"

1410 .
LASF50
:

1411 .
°rög
 "port_addr"

1412 .
LASF30
:

1413 .
°rög
 "mkdir"

1414 .
LASF68
:

1415 .
°rög
 "init_filesystem"

1416 .
LASF24
:

1417 .
°rög
 "prev"

1418 .
LASF47
:

1419 .
°rög
 "value"

1420 .
LASF56
:

1421 .
°rög
 "Glob_x"

1422 .
LASF57
:

1423 .
°rög
 "Glob_y"

1424 .
LASF66
:

1425 .
°rög
 "SYS_LIST"

1426 .
LASF25
:

1427 .
°rög
 "next"

1428 .
idít
 "GCC: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609"

1429 .
£˘i⁄
 .
nŸe
.
GNU
-
°ack
,"",@
	g¥ogbôs


	@kernel/device/ata.c

1 
	~<devi˚/©a.h
>

2 
	~<˘y≥.h
>

3 
	~<debug.h
>

4 
	~<°dboﬁ.h
>

5 
	~<°dio.h
>

6 
	~<devi˚/block.h
>

7 
	~<devi˚/∑πôi⁄.h
>

8 
	~<devi˚/io.h
>

9 
	~<öãºu±.h
>

10 
	~<synch.h
>

11 
	~<devi˚/c⁄sﬁe.h
>

13 
	#STUDENT_NAME
 "HeoM™woo"

	)

15 
£˘‹_ªad
 (
©a_devi˚
*, *);

16 
£˘‹_wrôe
 (
©a_devi˚
 *, const *);

18 
disk_h™dÀr
 (
öå_‰ame
 *
i‰ame
);

20 *
å™sf‹m_°rög
 (*, 
Àn
);

21 
¥öt_hex
(
buf
[], 
blk_£c_t
 ,
size
);

23 
jump_©a
 (
©a_devi˚
 *
devi˚
);

24 
boﬁ
 
dñay_©a_f‹
(
©a_devi˚
 *
devi˚
, 
wh©_f‹
);

25 
©a_cmd
(
©a_devi˚
 *
n
, 
uöt8_t
 
comm™d
);

26 
©a_io_ªady
 (
©a_devi˚
 *
d
, 
blk_£c_t
 
£c_num
);

27 
©a_wrôe
 (*
dev
, 
blk_£c_t
 
£c_num
, c⁄° *
buf
);

28 
©a_ªad
 (*
dev
, 
blk_£c_t
 
£c_num
, *
buf
);

31 
blk_dev_›s
 
	g©a_›s
 =

33 
©a_ªad
,

34 
©a_wrôe


38 
	gtmp_block
[
ATA_SECOR_SIZE
] = {0, };

45 
	$˛r_tmp_block
()

47 
i
 = 0; i < 
ATA_SECOR_SIZE
; i++)

48 
tmp_block
[
i
] = 0x00;

49 
	}
}

53 
	$öô_©a
()

55 
i
;

56 
blk_˙t_t
 
nblock
;

58 
i
 = 0; i < 
ATA_DEV_NUM
; i++){

59 if(
i
 == 0){

60 
©a
.
nodes
[
i
].
ty≥
 = 
ATA_MASTER
;

61 
©a
.
nodes
[
i
].
p‹t_addr
 = 0x1f0;

62 
©a
.
nodes
[
i
].
úq
 = 5 + 0x20;

65 
©a
.
nodes
[
i
].
ty≥
 = 
ATA_SLAVE
;

66 
©a
.
nodes
[
i
].
p‹t_addr
 = 0x170;

67 
©a
.
nodes
[
i
].
úq
 = 7 + 0x20;

70 
©a_devi˚
 * 
devi˚
 = &
©a
.
nodes
[
i
];

72 
	`£ma_öô
 (&
devi˚
->
£ma
, 0);

74 
	`ªg_h™dÀr
 (
devi˚
->
úq
, 
disk_h™dÀr
);

76 
	`jump_©a
 (
devi˚
);

77 
	`dñay_©a_f‹
 (
devi˚
, 
ATA_WAIT_IDLE
);

79 
	`©a_cmd
 (
devi˚
, 
ATA_CMD_IDENTIFY
);

81 
	`£ma_down
 (&
devi˚
->
£ma
);

83 
	`£˘‹_ªad
 (
devi˚
, 
tmp_block
);

85 
nblock
 = *(
blk_˙t_t
 *Ë(
tmp_block
 + 120);

86 if(
devi˚
->
ty≥
 =
ATA_MASTER
){

87 
	`¥ötk
("ata0 : ");

88 
	`blk_dev_ªgi°î
 (&
©a0_blk_dev
, 
BLK_DEV_HDD
,

89 
	`å™sf‹m_°rög
 (
tmp_block
 + 20, 20),

90 
	`å™sf‹m_°rög
 (
tmp_block
 + 54, 20),

91 
nblock
, 
BLK_SEC_SIZE
, &
©a_›s
, 
devi˚
);

92 
	`˛r_tmp_block
();

94 
	`¥ötk
("ata1 : ");

95 
	`blk_dev_ªgi°î
 (&
©a1_blk_dev
, 
BLK_DEV_HDD
,

96 
	`å™sf‹m_°rög
 (
tmp_block
 + 20, 20),

97 
	`å™sf‹m_°rög
 (
tmp_block
 + 54, 20),

98 
nblock
, 
BLK_SEC_SIZE
, &
©a_›s
, 
devi˚
);

99 
	`˛r_tmp_block
();

102 
	}
}

105 
	$jump_©a
 (
©a_devi˚
 *
devi˚
)

107 
uöt8_t
 
jmp_hd_ªg
 ;

108 i‡(
devi˚
->
ty≥
 =
ATA_MASTER
)

109 
jmp_hd_ªg
 = 
ATA_DRHD_MST
;

111 
jmp_hd_ªg
 = 
ATA_DRHD_SLV
;

113 
	`outb
 (
	`ATA_REG_DEVICE
 (
devi˚
->
p‹t_addr
), 
jmp_hd_ªg
 );

114 
	`öb
 (
	`ATA_DEV_CTRL_REG
 (
devi˚
->
p‹t_addr
));

115 
	}
}

117 
boﬁ


118 
	$dñay_©a_f‹
(
©a_devi˚
 *
devi˚
, 
wh©_f‹
)

120 
i
;

122 
i
 = 0; i < 5000; i++)

124 if(
wh©_f‹
 =
ATA_WAIT_IDLE
 &&

125 (
	`öb
 (
	`ATA_REG_STATUS
 (
devi˚
->
p‹t_addr
)Ë& (
ATA_SR_BSY
 | 
ATA_SR_DRQ
)) == 0)

126  
åue
;

127 if(
wh©_f‹
 =
ATA_WAIT_BUSY
 && !(
	`öb
 (
	`ATA_DEV_CTRL_REG
 (
devi˚
->
p‹t_addr
)Ë& 
ATA_SR_BSY
))

128  (
	`öb
 (
	`ATA_DEV_CTRL_REG
 (
devi˚
->
p‹t_addr
)Ë& 
ATA_SR_DRQ
) != 0;

130  
Ál£
;

131 
	}
}

134 
	$©a_io_ªady
 (
©a_devi˚
 *
d
, 
blk_£c_t
 
£c_num
)

137 
	`dñay_©a_f‹
 (
d
, 
ATA_WAIT_IDLE
);

138 
	`jump_©a
 (
d
);

139 
	`dñay_©a_f‹
 (
d
, 
ATA_WAIT_IDLE
);

140 
	`outb
 (
	`ATA_REG_ERR
 (
d
->
p‹t_addr
), 0);

141 
	`outb
 (
	`ATA_REG_NSECT
 (
d
->
p‹t_addr
), 1);

142 
	`outb
 (
	`ATA_REG_LBAL
 (
d
->
p‹t_addr
), 
£c_num
);

143 
	`outb
 (
	`ATA_REG_LBAM
 (
d
->
p‹t_addr
), 
£c_num
 >> 8);

144 
	`outb
 (
	`ATA_REG_LBAH
 (
d
->
p‹t_addr
), (
£c_num
 >> 16));

145 
	`outb
 (
	`ATA_REG_DEVICE
 (
d
->
p‹t_addr
), 
ATA_DRHD_LBA
 | (d->
ty≥
 =
ATA_SLAVE
 ? 
ATA_DRHD_SLV
 : 0Ë| (
£c_num
 >> 24));

146 
	}
}

154 
	$©a_ªad
 (*
dev
, 
blk_£c_t
 
£c_num
, *
buf
)

157 
©a_devi˚
 *
d
 = 
dev
;

159 
	`©a_io_ªady
 (
d
, 
£c_num
);

160 
	`©a_cmd
 (
d
, 
ATA_CMD_READ_PIO
);

161 
	`dñay_©a_f‹
 (
d
, 
ATA_WAIT_IDLE
);

162 
	`£ma_down
 (&
d
->
£ma
);

163 !(
	`öb
(
	`ATA_REG_STATUS
(
d
->
p‹t_addr
)) & 0x08));

164 
	`£˘‹_ªad
 (
d
, 
buf
);

166 
	}
}

175 
	$©a_wrôe
 (*
dev
, 
blk_£c_t
 
£c_num
, c⁄° *
buf
)

177 
©a_devi˚
 *
d
 = 
dev
;

179 
	`©a_io_ªady
 (
d
, 
£c_num
);

180 
	`©a_cmd
 (
d
, 
ATA_CMD_WRITE_PIO
);

181 i‡(!
	`dñay_©a_f‹
 (
d
, 
ATA_WAIT_BUSY
));

182 
	`£˘‹_wrôe
 (
d
, 
buf
);

183 
	`£ma_down
 (&
d
->
£ma
);

184 
	}
}

192 
	$©a_cmd
(
©a_devi˚
 *
devi˚
, 
uöt8_t
 
comm™d
)

194 
	`outb
 (
	`ATA_REG_CMD
 (
devi˚
->
p‹t_addr
), 
comm™d
);

195 
	}
}

200 
	$£˘‹_ªad
 (
©a_devi˚
 *
devi˚
, *
£˘‹
)

202 
	`ösw
 (
	`ATA_REG_DATA
 (
devi˚
->
p‹t_addr
), 
£˘‹
, 
ATA_SECOR_SIZE
 / 2);

203 
	}
}

208 
	$£˘‹_wrôe
 (
©a_devi˚
 *
devi˚
, c⁄° *
£˘‹
)

210 
	`outsw
 (
	`ATA_REG_DATA
 (
devi˚
->
p‹t_addr
), 
£˘‹
, 
ATA_SECOR_SIZE
 / 2);

211 
	}
}

216 
	$disk_h™dÀr
 (
öå_‰ame
 *
i‰ame
)

218 
©a_devi˚
 *
devi˚
;

219 
i
;

220 
öå_num
 = 
i‰ame
->
vec_no
;

222 
i
 = 0; i < 2; i++){

223 
devi˚
 = &
©a
.
nodes
[
i
];

224 i‡(
öå_num
 =
devi˚
->
úq
)

226 
	`öb
 (
	`ATA_REG_STATUS
 (
devi˚
->
p‹t_addr
));

227 
	`£ma_up
 (&
devi˚
->
£ma
);

231 
	}
}

234 
	$¥öt_hex
(
buf
[], 
blk_£c_t
 
£c_num
, 
Àn
) {

236 
i
,
j
;

237 
uöt32_t
 
addr
 = 
£c_num
 * 
ATA_SECOR_SIZE
;

238 *
tmp
 = 
buf
;

239 
i
 = 0; i < 
Àn
; i+= 0x10)

241 
	`¥ötk
("%08x: ", 
addr
 + 
i
);

242 
j
 = 0; j < 0x10; j++)

244 if(
i
 + 
j
 >
Àn
)

245 
	`¥ötk
(" ");

247 
	`¥ötk
("%02x", 
tmp
[
i
+
j
]);

248 if(
j
 % 2 == 1)

249 
	`¥ötk
(" ");

251 
	`¥ötk
(" | ");

252 
j
 = 0; j < 0x10; j++)

254 if(
i
 + 
j
 >
Àn
)

257 if(
	`isgøph
(
tmp
[
i
+
j
]))

258 
	`¥ötk
("%c", 
tmp
[
i
+
j
]);

259 if(
tmp
[
i
+
j
] == 0x20)

260 
	`¥ötk
(" ");

262 
	`¥ötk
(".");

264 
	`¥ötk
("\n");

266 
	}
}

269 
	$å™sf‹m_°rög
 (*
buf
, 
Àn
)

271 
i
;

272 
tmp
;

274 
i
 = 0; i+2 <
Àn
; i += 2)

276 
tmp
 = 
buf
[
i
];

277 
buf
[
i
] = buf[i+1];

278 
buf
[
i
+1] = 
tmp
;

281 --
Àn
 > 0){

282 if(
buf
[
Àn
] != 0x20 && buf[len] != 0){

283 
buf
[
Àn
+1]=0;

288  
buf
;

289 
	}
}

	@kernel/device/block.c

1 
	~<devi˚/block.h
>

2 
	~<devi˚/©a.h
>

3 
	~<devi˚/c⁄sﬁe.h
>

7 
	$blk_dev_ªad
 (
blk_dev
 *blk_dev, 
blk_£c_t
 
£˘‹
, *
buf
)

9 
blk_dev
->
›s
->
	`ªad
 (blk_dev->
devi˚_öfo
, 
£˘‹
, 
buf
);

10 
	}
}

14 
	$blk_dev_wrôe
 (
blk_dev
 *blk_dev, 
blk_£c_t
 
£˘‹
, c⁄° *
buf
)

16 
blk_dev
->
›s
->
	`wrôe
 (blk_dev->
devi˚_öfo
, 
£˘‹
, 
buf
);

17 
	}
}

25 
	$blk_dev_ªgi°î
 (
blk_dev
 * blk_dev, 
blk_dev_t
 
ty≥
,

26 c⁄° *
dev
, c⁄° *
£rül
, 
blk_˙t_t
 
cou¡
,

27 
blk_size_t
 
size
, c⁄° 
blk_dev_›s
 *
›s
, *
devi˚_öfo
)

30 
blk_dev
->
ty≥
 =Åype;

31 
blk_dev
->
blk_cou¡
 = 
cou¡
;

32 
blk_dev
->
blk_size
 = 
size
;

33 
blk_dev
->
›s
 = ops;

34 
blk_dev
->
devi˚_öfo
 = device_info;

36 
	`¥ötk
("block devi˚Ñegi°î :%s, sîü»:%†\n", 
dev
, 
£rül
);

38 
	}
}

	@kernel/device/console.c

1 
	~<öãºu±.h
>

2 
	~<devi˚/c⁄sﬁe.h
>

3 
	~<ty≥.h
>

4 
	~<devi˚/kbd.h
>

5 
	~<devi˚/io.h
>

6 
	~<devi˚/pô.h
>

7 
	~<°d¨g.h
>

9 
	#HSCREEN
 80

	)

10 
	#VSCREEN
 25

	)

11 
	#SIZE_SCREEN
 
HSCREEN
 * 
VSCREEN


	)

12 
	#NSCROLL
 100

	)

13 
	#SIZE_SCROLL
 
NSCROLL
 * 
HSCREEN


	)

14 
	#VIDIO_MEMORY
 0xB8000

	)

16 
	#IO_BASE
 0x3F8

	)

17 
	#FIRST_SPORT
 (
IO_BASE
)

	)

18 
	#LINE_STATUS
 (
IO_BASE
 + 5Ë

	)

19 
	#THR_EMPTY
 0x20

	)

21 
	g√xt_löe
[2];

23 #ifde‡
SCREEN_SCROLL


25 
	#buf_e
 (
buf_w
 + 
SIZE_NSCROLL
)

	)

26 
	#SCROLL_END
 
buf_s
 + 
SIZE_SCROLL


	)

28 
	gbuf_s
[
SIZE_SCROLL
];

29 *
	gbuf_w
;

30 *
	gbuf_p
;

32 
	gsum_y
;

34 
boﬁ
 
	ga_s
 = 
TRUE
;

37 
	$öô_c⁄sﬁe
()

39 
Glob_x
 = 0;

40 
Glob_y
 = 2;

42 
√xt_löe
[0] = '\r';

43 
√xt_löe
[1] = '\n';

45 #ifde‡
SCREEN_SCROLL


46 
buf_w
 = 
buf_s
;

47 
buf_p
 = 
buf_s
;

48 
a_s
 = 
TRUE
;

50 
sum_y
 = 0;

53 
	}
}

55 
	$£t_curs‹
()

57 
	`outb
(0x3D4, 0x0F);

58 
	`outb
(0x3D5, (
Glob_y
*
HSCREEN
+
Glob_x
)&0xFF);

59 
	`outb
(0x3D4, 0x0E);

60 
	`outb
(0x3D5, (((
Glob_y
*
HSCREEN
+
Glob_x
)>>8)&0xFF));

61 
	}
}

63 
	$PrötCh¨ToS¸ìn
(
x
, 
y
, c⁄° *
pSåög
)

65 
Glob_x
 = 
x
;

66 
Glob_y
 = 
y
;

67 
i
 = 0;

68 
pSåög
[
i
] != 0)

70 
	`PrötCh¨
(
Glob_x
++, 
Glob_y
, 
pSåög
[
i
++]);

72 
a_s
 = 
TRUE
;

73 
	}
}

75 
	$PrötCh¨
(
x
, 
y
, c⁄° 
Såög
)

77 #ifde‡
SCREEN_SCROLL


78 i‡(
Såög
 == '\n') {

79 if((
y
+1Ë> 
VSCREEN
) {

80 
	`s¸ﬁl
();

81 
y
--;

83 
Glob_x
 = 0;

84 
Glob_y
 = 
y
+1;

85 
sum_y
++;

88 i‡(
Såög
 == '\b') {

89 if(
Glob_x
 == 0) ;

90 
Glob_x
-=2;

91 
buf_w
[
y
 * 
HSCREEN
 + 
x
 - 1] = 0;

94 i‡((
y
 >
VSCREEN
Ë&& (
x
 >= 0)) {

95 
	`s¸ﬁl
();

96 
x
 = 0;

97 
y
--;

100 * 
b
 = &
buf_w
[
y
 * 
HSCREEN
 + 
x
];

101 if(
b
 >
SCROLL_END
)

102 
b
-
SIZE_SCROLL
;

103 *
b
 = 
Såög
;

105 if(
Glob_x
 >
HSCREEN
)

107 
Glob_x
 = 0;

108 
Glob_y
++;

109 
sum_y
++;

113 
CHAR
 *
pS¸ìn
 = (CHAR *)
VIDIO_MEMORY
;

115 i‡(
Såög
 == '\n') {

116 if((
y
+1) > 24) {

117 
	`s¸ﬁl
();

118 
y
--;

120 
pS¸ìn
 +((
y
+1) * 80);

121 
Glob_x
 = 0;

122 
Glob_y
 = 
y
+1;

126 i‡((
y
 > 24Ë&& (
x
 >= 0)) {

127 
	`s¸ﬁl
();

128 
x
 = 0; 
y
--;

131 
pS¸ìn
 +–
y
 * 80Ë+ 
x
;

132 
pS¸ìn
[0].
bAâ
 = 0x07;

133 
pS¸ìn
[0].
bCh
 = 
Såög
;

135 if(
Glob_x
 > 79)

137 
Glob_x
 = 0;

138 
Glob_y
++;

142 
	}
}

144 
	$˛rS¸ìn
()

146 
CHAR
 *
pS¸ìn
 = (CHAR *Ë
VIDIO_MEMORY
;

147 
i
;

149 
i
 = 0; i < 80*25; i++) {

150 (*
pS¸ìn
).
bAâ
 = 0x07;

151 (*
pS¸ìn
++).
bCh
 = ' ';

153 
Glob_x
 = 0;

154 
Glob_y
 = 0;

155 
	}
}

157 
	$s¸ﬁl
()

159 #ifde‡
SCREEN_SCROLL


160 
buf_w
 +
HSCREEN
;

161 
buf_p
 +
HSCREEN
;

163 
buf_w
 > 
SCROLL_END
)

164 
buf_w
 -
SIZE_SCROLL
;

168 
i
;

169 *
buf_±r
 = 
buf_w
 + 
SIZE_SCREEN
;

170 
i
 = 0; i < 
HSCREEN
; i++)

172 if(
buf_±r
 > 
SCROLL_END
)

173 
buf_±r
 -
SIZE_SCROLL
;

174 *(
buf_±r
++) = 0;

179 
CHAR
 *
pS¸ìn
 = (CHAR *Ë
VIDIO_MEMORY
;

180 
CHAR
 *
pS¸Buf
 = (CHAR *Ë(
VIDIO_MEMORY
 + 2*80);

181 
i
;

182 
i
 = 0; i < 80*24; i++) {

183 (*
pS¸ìn
).
bAâ
 = (*
pS¸Buf
).bAtt;

184 (*
pS¸ìn
++).
bCh
 = (*
pS¸Buf
++).bCh;

186 
i
 = 0; i < 80; i++) {

187 (*
pS¸ìn
).
bAâ
 = 0x07;

188 (*
pS¸ìn
++).
bCh
 = ' ';

191 
Glob_y
--;

193 
	}
}

195 #ifde‡
SERIAL_STDOUT


196 
	$¥ötCh¨ToSîül
(c⁄° *
pSåög
)

198 
i
;

199 
öå_Àvñ
 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
();

200 ;*
pSåög
 !
NULL
;ÖString++)

202 if(*
pSåög
 != '\n'){

203 (
	`öb
(
LINE_STATUS
Ë& 
THR_EMPTY
) == 0)

205 
	`outb
(
FIRST_SPORT
, *
pSåög
);

209 
i
=0; i<2; i++){

210 (
	`öb
(
LINE_STATUS
Ë& 
THR_EMPTY
) == 0)

212 
	`outb
(
FIRST_SPORT
, 
√xt_löe
[
i
]);

216 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

217 
	}
}

220 
	$¥öts
(c⁄° *
buf
, c⁄° *
fmt
, ...)

222 
va_li°
 
¨gs
;

223 
Àn
;

225 
	`va_°¨t
(
¨gs
, 
fmt
);

226 
Àn
 = 
	`v•rötk
(
buf
, 
fmt
, 
¨gs
);

227 
	`va_íd
(
¨gs
);

229  
Àn
;

230 
	}
}

232 
	$¥ötk
(c⁄° *
fmt
, ...)

234 
buf
[1024];

235 
va_li°
 
¨gs
;

236 
Àn
;

238 
	`va_°¨t
(
¨gs
, 
fmt
);

239 
Àn
 = 
	`v•rötk
(
buf
, 
fmt
, 
¨gs
);

240 
	`va_íd
(
¨gs
);

242 #ifde‡
SERIAL_STDOUT


243 
	`¥ötCh¨ToSîül
(
buf
);

245 
	`PrötCh¨ToS¸ìn
(
Glob_x
, 
Glob_y
, 
buf
);

247  
Àn
;

248 
	}
}

250 #ifde‡
SCREEN_SCROLL


251 
	$s¸ﬁl_s¸ìn
(
off£t
)

253 * 
tmp_buf_p
;

254 * 
tmp_buf_w
;

255 if(
a_s
 =
TRUE
 && 
off£t
 > 0 && 
buf_p
 =
buf_w
)

258 
a_s
 = 
FALSE
;

260 
tmp_buf_p
 = (*)(()
buf_p
 + (
HSCREEN
 * 
off£t
));

261 
tmp_buf_w
 = 
buf_w
 + 
SIZE_SCREEN
;

262 if(
tmp_buf_w
 > 
SCROLL_END
)

263 
tmp_buf_w
 = (*)((Èmp_buf_w - 
SIZE_SCROLL
);

265 if(
sum_y
 < 
NSCROLL
 && 
off£t
 < 0 && 
tmp_buf_p
 <
buf_s
 && 
buf_p
 > buf_s) ;

266 if(
off£t
 > 0 && 
tmp_buf_p
 > 
buf_w
 && 
buf_p
 <= buf_w) ;

267 if(
off£t
 < 0 && 
tmp_buf_p
 <
tmp_buf_w
 && 
buf_p
 >Åmp_buf_w) ;

269 
buf_p
 = 
tmp_buf_p
;

271 if(
buf_p
 >
SCROLL_END
)

272 
buf_p
 = (*)(()buf_∞- 
SIZE_SCROLL
);

273 if(
buf_p
 < 
buf_s
)

274 
buf_p
 = (*)(()buf_∞+ 
SIZE_SCROLL
);

276 
	`ª‰eshS¸ìn
();

277 
	}
}

279 
	$£t_ÁŒow
()

281 
a_s
 = 
TRUE
;

282 
	}
}

284 
	$ª‰eshS¸ìn
()

286 
CHAR
 *
p_s
(CHAR *Ë
VIDIO_MEMORY
;

287 
i
;

289 if(
a_s
)

290 
buf_p
 = 
buf_w
;

292 * 
b
 = 
buf_p
;

294 
i
 = 0; i < 
SIZE_SCREEN
; i++, 
b
++, 
p_s
++)

296 if(
b
 >
SCROLL_END
)

297 
b
 -
SIZE_SCROLL
;

298 
p_s
->
bAâ
 = 0x07;

299 
p_s
->
bCh
 = *
b
;

301 
	}
}

	@kernel/device/device.c

1 
	~<devi˚/c⁄sﬁe.h
>

2 
	~<devi˚/devi˚.h
>

3 
	~<devi˚/io.h
>

10 
	$dev_shutdown
()

12 c⁄° 
s
[] = "Shutdown";

13 c⁄° *
p
;

18 
	`¥ötk
 ("Powering off...\n");

23 
p
 = 
s
; *p != '\0';Ö++)

24 
	`outb
 (0x8900, *
p
);

29 
asm
 volatile ("cli; hlt" : : : "memory");

32 
	`¥ötk
 ("stillÑunning...\n");

34 
	}
}

	@kernel/device/kbd.c

1 
	~<devi˚/kbd.h
>

2 
	~<ty≥.h
>

3 
	~<devi˚/c⁄sﬁe.h
>

4 
	~<öãºu±.h
>

5 
	~<devi˚/io.h
>

6 
	~<ssulib.h
>

8 
Key_Sètus
 
	gKSèt
;

9 
	gkbd_buf
[
BUFSIZ
];

10 
	gbuf_hód
, 
	gbuf_èû
;

12 
BYTE
 
	gKbd_M≠
[4][
KBDMAPSIZE
] = {

47 
boﬁ
 
kbd_ªmove_ch¨
();

49 
	$öô_kbd
()

51 
KSèt
.
Shi·Fœg
 = 0;

52 
KSèt
.
C≠¶ockFœg
 = 0;

53 
KSèt
.
NumlockFLag
 = 0;

54 
KSèt
.
S¸ﬁŒockFœg
 = 0;

55 
KSèt
.
Exã¡edFœg
 = 0;

56 
KSèt
.
Pau£Fœg
 = 0;

58 
buf_hód
 = 0;

59 
buf_èû
 = 0;

61 
	`ªg_h™dÀr
(33, 
kbd_h™dÀr
);

62 
	}
}

64 
	$Upd©eKeySèt
(
BYTE
 
Sˇncode
)

66 if(
Sˇncode
 & 0x80)

68 if(
Sˇncode
 == 0xB6 || Scancode == 0xAA)

70 
KSèt
.
Shi·Fœg
 = 
FALSE
;

75 if(
Sˇncode
 =0x3A && 
KSèt
.
C≠¶ockFœg
)

77 
KSèt
.
C≠¶ockFœg
 = 
FALSE
;

79 if(
Sˇncode
 == 0x3A)

80 
KSèt
.
C≠¶ockFœg
 = 
TRUE
;

81 if(
Sˇncode
 == 0x36 || Scancode == 0x2A)

83 
KSèt
.
Shi·Fœg
 = 
TRUE
;

87 if(
Sˇncode
 == 0xE0)

89 
KSèt
.
Exã¡edFœg
 = 
TRUE
;

91 if(
KSèt
.
Exã¡edFœg
 =
TRUE
 && 
Sˇncode
 != 0xE0)

93 
KSèt
.
Exã¡edFœg
 = 
FALSE
;

95 
	}
}

97 
BOOL
 
	$C⁄vîtSˇncodeToASCII
(
BYTE
 
Sˇncode
, BYTE *
Asciicode
)

99 if(
KSèt
.
Pau£Fœg
 > 0)

101 
KSèt
.
Pau£Fœg
--;

102  
FALSE
;

105 if(
KSèt
.
Exã¡edFœg
 =
TRUE
)

107 if(
Sˇncode
 & 0x80)

108  
FALSE
;

109 *
Asciicode
 = 
Sˇncode
;

110  
TRUE
;

113 if(
Sˇncode
 == 0xE1)

115 *
Asciicode
 = 0x00;

116 
KSèt
.
Pau£Fœg
 = 2;

117  
FALSE
;

119 if(
Sˇncode
 == 0xE0)

121 *
Asciicode
 = 0x00;

122  
FALSE
;

125 if(!(
Sˇncode
 & 0x80))

127 if(
KSèt
.
Shi·Fœg
 & KSèt.
C≠¶ockFœg
)

129 *
Asciicode
 = 
Kbd_M≠
[3][
Sˇncode
 & 0x7F];

131 if(
KSèt
.
Shi·Fœg
)

133 *
Asciicode
 = 
Kbd_M≠
[2][
Sˇncode
 & 0x7F];

135 if(
KSèt
.
C≠¶ockFœg
)

137 *
Asciicode
 = 
Kbd_M≠
[1][
Sˇncode
 & 0x7F];

141 *
Asciicode
 = 
Kbd_M≠
[0][
Sˇncode
];

144  
TRUE
;

146  
FALSE
;

147 
	}
}

149 
boﬁ
 
	$isFuŒ
()

151  (
buf_hód
-1Ë% 
BUFSIZ
 =
buf_èû
;

152 
	}
}

154 
boﬁ
 
	$isEm±y
()

156  
buf_hód
 =
buf_èû
;

157 
	}
}

159 
	$kbd_h™dÀr
(
öå_‰ame
 *
i‰ame
)

161 
BYTE
 
asciicode
;

162 
BYTE
 
d©a
 = 
	`öb
(0x60);

164 if(
	`C⁄vîtSˇncodeToASCII
(
d©a
, &
asciicode
))

167 #ifde‡
SCREEN_SCROLL


168 if–
KSèt
.
Exã¡edFœg
 =
TRUE
)

170 
asciicode
)

181 
	`s¸ﬁl_s¸ìn
(-1);

184 
	`s¸ﬁl_s¸ìn
(+1);

187 
	`£t_ÁŒow
();

193 if–!
	`isFuŒ
(Ë&& 
asciicode
 != 0)

195 
kbd_buf
[
buf_èû
] = 
asciicode
;

196 
buf_èû
 = (buf_èû + 1Ë% 
BUFSIZ
;

202 
	`Upd©eKeySèt
(
d©a
);

203 
	}
}

205 
	$kbd_ªad_ch¨
()

207 if–
	`isEm±y
())

210 
ªt
;

211 
ªt
 = 
kbd_buf
[
buf_hód
];

212 
buf_hód
 = (buf_hód + 1)%
BUFSIZ
;

213  
ªt
;

214 
	}
}

	@kernel/device/partition.c

	@kernel/device/pit.c

2 
	~<devi˚/pô.h
>

3 
	~<devi˚/io.h
>

4 
	~<öãºu±.h
>

6 
	$öô_pô
()

8 
öå_Àvñ
 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
();

9 
	`outb
(
PIT_COMMAND
, (
PIT_COUNTER0
 | 
PIT_RW_LMBYTE
 | 
PIT_MODE2
 | 
PIT_BINARY
) );

10 
	`outb
(
PIT_CHANNEL0
, (
PIT_HZ
/
PIT_FRQ_HZ
)%0xff);

11 
	`outb
(
PIT_CHANNEL0
, (
PIT_HZ
/
PIT_FRQ_HZ
)>>8);

12 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

13 
	}
}

	@kernel/filesys/fs.c

1 
	~<fûesys/fs.h
>

2 
	~<fûesys/vnode.h
>

3 
	~<fûesys/ssufs.h
>

4 
	~<¥oc/¥oc.h
>

7 
	#NULL_DEVICE
 0

	)

8 
	#BLK_DEVICE
 1

	)

10 
	#VOLNAME_LEN
 16

	)

13 
	#SSUFS
 1

	)

14 
	#PROCFS
 2

	)

16 
	sfûesy°em_öfo
{

17 
	m«me
[
VOLNAME_LEN
];

18 
uöt16_t
 
	mty≥
;

19 
uöt16_t
 
	mfûesy°em
;

20 
uöt32_t
 
	msu≥rblock_off£t
;

23 
fûesy°em_öfo
 
	gfûesy°em_li°
[] = {

24 {"hdd1", 
BLK_DEVICE
, 
SSUFS
, 2},

25 {"¥oc", 
NULL_DEVICE
, 
PROCFS
, 
NULL
},

28 
¥o˚ss
 *
cur_¥o˚ss
;

30 
fûesy°em_öfo
 *
	$gë_fûesy°em_öfo
(*
vﬁ«me
){

31 
i
;

33 
i
 = 0; i < (
fûesy°em_li°
)/(
fûesy°em_öfo
); i++){

34 if(
	`°rcmp
(
vﬁ«me
, 
fûesy°em_li°
[
i
].
«me
) == 0){

35  &
fûesy°em_li°
[
i
];

39  
NULL
;

40 
	}
}

42 
	$öô_fûesy°em
()

44 
vnode
 *
roŸ_vnode
;

46 
roŸ_vnode
 = 
	`do_mou¡
("hdd1", "/");

48 
cur_¥o˚ss
->
roŸdú
 = 
roŸ_vnode
;

49 
cur_¥o˚ss
->
cwd
 = 
roŸ_vnode
;

50 
	}
}

52 
	$mou¡
(*
vﬁ«me
, *
dú«me
){

53 
vnode
 *
m¡_vnode
;

55 
m¡_vnode
 = 
	`do_mou¡
(
vﬁ«me
, 
dú«me
);

56 
	}
}

58 
vnode
 *
	$do_mou¡
(*
vﬁ«me
, *
dú«me
){

59 
fûesy°em_öfo
 *
fs_öfo
;

60 
vnode
 *
m¡_vnode
;

62 
fs_öfo
 = 
	`gë_fûesy°em_öfo
(
vﬁ«me
);

64 if(
fs_öfo
 =
NULL
){

65 
	`¥ötk
("no volname in filesystemÜist\r\n");

66  
NULL
;

70 if(
cur_¥o˚ss
->
cwd
 =
NULL
)

71 
m¡_vnode
 = 
	`vnode_Æloc
();

73 
m¡_vnode
 = 
	`föd_vnode
(
dú«me
);

75 if(
m¡_vnode
 =
NULL
){

76 
	`¥ötk
("no directory in current directory\n");

77  
NULL
;

81 
fs_öfo
->
fûesy°em
){

82 
SSUFS
:

83 
m¡_vnode
 = 
	`öô_ssufs
(
fs_öfo
->
«me
, fs_öfo->
su≥rblock_off£t
, mnt_vnode);

85 
PROCFS
:

86 
m¡_vnode
 = 
	`öô_¥ocfs
(mnt_vnode);

91  
m¡_vnode
;

92 
	}
}

	@kernel/filesys/procfs.c

1 
	~<fûesys/¥ocfs.h
>

2 
	~<fûesys/vnode.h
>

3 
	~<¥oc/¥oc.h
>

4 
	~<li°.h
>

5 
	~<°rög.h
>

6 
	~<ssulib.h
>

8 
li°
 
p_li°
;

9 
¥o˚ss
 *
cur_¥o˚ss
;

11 
vnode
 *
	$öô_¥ocfs
(
vnode
 *
m¡_vnode
)

13 
m¡_vnode
->
v_›
.
ls
 = 
¥oc_¥o˚ss_ls
;

14 
m¡_vnode
->
v_›
.
mkdú
 = 
NULL
;

15 
m¡_vnode
->
v_›
.
cd
 = 
¥oc_¥o˚ss_cd
;

17  
m¡_vnode
;

18 
	}
}

20 
	$¥oc_¥o˚ss_ls
()

22 
ªsu…
 = 0;

23 
li°_ñem
 *
e
;

25 
	`¥ötk
(". .. ");

26 
e
 = 
	`li°_begö
 (&
p_li°
);É !
	`li°_íd
 (&p_li°);É = 
	`li°_√xt
 (e))

28 
¥o˚ss
* 
p
 = 
	`li°_íåy
(
e
, ¥o˚ss, 
ñem_Æl
);

30 
	`¥ötk
("%d ", 
p
->
pid
);

32 
	`¥ötk
("\n");

34  
ªsu…
;

35 
	}
}

37 
	$¥oc_¥o˚ss_cd
(*
dú«me
)

40 
	}
}

42 
	$¥oc_¥o˚ss_öfo_ls
()

44 
ªsu…
 = 0;

46 
	`¥ötk
(". .. ");

47 
	`¥ötk
("cwdÑootÅime stack");

49 
	`¥ötk
("\n");

51  
ªsu…
;

52 
	}
}

54 
	$¥oc_¥o˚ss_öfo_cd
(*
dú«me
)

57 
	}
}

59 
	$¥oc_¥o˚ss_öfo_ˇt
(*
fûíame
)

62 
	}
}

64 
	$¥oc_lök_ls
()

67 
	}
}

	@kernel/filesys/ssufs.c

1 
	~<fûesys/ssufs.h
>

2 
	~<fûesys/vnode.h
>

3 
	~<devi˚/block.h
>

4 
	~<devi˚/©a.h
>

5 
	~<¥oc/¥oc.h
>

6 
	~<ssulib.h
>

7 
	~<°rög.h
>

8 
	~<bôm≠.h
>

10 
	#MIN
(
a
, 
b
Ë◊<b?a:b)

	)

12 
	gbôm≠block
[
SSU_BLOCK_SIZE
];

13 
ssufs_su≥rblock
 
	gssufs_sb
;

14 
blk_dev
 
©a1_blk_dev
;

15 
¥o˚ss
 *
cur_¥o˚ss
;

17 
	gtmpblock
[
SSU_BLOCK_SIZE
];

19 
vnode
 *
	$öô_ssufs
(*
vﬁ«me
, 
uöt32_t
 
lba
, 
vnode
 *
m¡_roŸ
){

20 
ªsu…
;

21 
i
;

22 
su≥rblock
[
SSU_BLOCK_SIZE
];

24 
ssufs_sb
.
blkdev
 = &
©a1_blk_dev
;

25 
ªsu…
 = 
	`ssufs_ªadblock
(&
ssufs_sb
, 
lba
, 
su≥rblock
);

27 
	`mem˝y
(&
ssufs_sb
, 
su≥rblock
, (ssufs_sb));

28 
ssufs_sb
.
blkdev
 = &
©a1_blk_dev
;

30 if(
ssufs_sb
.
sb_magic
 !
SSU_SB_MAGIC
){

31 
ssufs_sb
.
sb_nblocks
 = (ssufs_sb.
blkdev
->
blk_cou¡
 / (
SSU_BLOCK_SIZE
 / ssufs_sb.blkdev->
blk_size
));

32 
ssufs_sb
.
lba
 =Üba;

39 
	`ssufs_lﬂd_d©abôm≠block
(&
ssufs_sb
);

40 
	`ssufs_lﬂd_öodebôm≠block
(&
ssufs_sb
);

41 
	`ssufs_sync
(&
ssufs_sb
);

44 
	`ssufs_lﬂd_öodëabÀ
(&
ssufs_sb
);

46  
	`make_vnode_åì
(&
ssufs_sb
, 
m¡_roŸ
);

48 
	}
}

50 
	$ssufs_lﬂd_öodëabÀ
(
ssufs_su≥rblock
 *
sb
)

52 
ªsu…
 = 0;

53 
i
;

54 
ssufs_öode
 *
roŸ_öode
;

56 
dúít
 dirent;

58 
i
=0; i<
NUM_INODE_BLOCK
; i++)

59 
	`ssufs_ªadblock
(
sb
, 
	`SSU_INODE_BLOCK
(sb->
lba
Ë+ 
i
, ((*)
ssufs_öode_èbÀ
Ë+ (ò* 
SSU_BLOCK_SIZE
));

62 if(!
	`bôm≠_ã°
(
sb
->
öodem≠
, 
INODE_ROOT
)){

63 
	`mem£t
(
ssufs_öode_èbÀ
, 0x00, (
ssufs_öode
Ë* 
NUM_INODE
);

66 
	`bôm≠_£t
(
sb
->
öodem≠
, 0, 
åue
);

67 
	`bôm≠_£t
(
sb
->
öodem≠
, 1, 
åue
);

69 
	`bôm≠_£t
(
sb
->
öodem≠
, 
INODE_ROOT
, 
åue
);

71 
roŸ_öode
 = &
ssufs_öode_èbÀ
[
INODE_ROOT
];

72 
roŸ_öode
->
i_no
 = 
INODE_ROOT
;

73 
roŸ_öode
->
i_size
 = 0;

74 
roŸ_öode
->
i_ty≥
 = 
SSU_DIR_TYPE
;

75 
roŸ_öode
->
i_ªfcou¡
 = 1;

76 
roŸ_öode
->
ssufs_sb
 = 
sb
;

79 
dúít
.
d_öo
 = 
INODE_ROOT
;

80 
dúít
.
d_ty≥
 = 
SSU_DIR_TYPE
;

88 
	`mem˝y
(
dúít
.
d_«me
, ".", ("."));

89 
	`ssufs_öode_wrôe
(
roŸ_öode
, 0,(*)&
dúít
 , (dirent));

90 
	`mem˝y
(
dúít
.
d_«me
, "..", (".."));

91 
	`ssufs_öode_wrôe
(
roŸ_öode
,ÑoŸ_öode->
i_size
, (*)&
dúít
, (dirent));

93 
	`ssufs_sync_bôm≠block
(
sb
);

94 
	`ssufs_sync_öodëabÀ
(
sb
);

95 
	`¥ötk
("öôülizêöodëabÀ : %d\n", 
NUM_INODE
);

97 
	`¥ötk
("lﬂd inodëabÀ : %d\n", 
NUM_INODE
);

100  
ªsu…
;

101 
	}
}

103 
	$ssufs_lﬂd_d©abôm≠block
(
ssufs_su≥rblock
 *
sb
)

105 
ªsu…
;

106 
i
;

109 
ªsu…
 = 
	`ssufs_ªadblock
(
sb
, 
	`SSU_BITMAP_BLOCK
(sb->
lba
), 
bôm≠block
);

112 
sb
->
blkm≠
 = (
bôm≠
*)
bôm≠block
;

113 if(
sb
->
blkm≠
->
bô_˙t
 !sb->
sb_nblocks
){

114 
sb
->
blkm≠
 = 
	`bôm≠_¸óã_ö_buf
(
ssufs_sb
.
sb_nblocks
, 
bôm≠block
, 
SSU_BLOCK_SIZE
/2);

115 
i
=0; i<
	`SSU_BITMAP_BLOCK
(
sb
->
lba
); i++)

117 
	`bôm≠_£t
(
sb
->
blkm≠
, 
i
, 
åue
);

120 
	`¥ötk
("öôülizêblock bôm≠ : %d bô\n", 
sb
->
blkm≠
->
bô_˙t
);

122 
	`¥ötk
("lﬂd block bôm≠ : %d bô\n", 
sb
->
blkm≠
->
bô_˙t
);

125  
ªsu…
;

126 
	}
}

128 
	$ssufs_lﬂd_öodebôm≠block
(
ssufs_su≥rblock
 *
sb
)

131 
sb
->
öodem≠
 = (
bôm≠
*)(
bôm≠block
 + 
SSU_BLOCK_SIZE
/2);

132 if(
sb
->
öodem≠
->
bô_˙t
 !
NUM_INODE
)

134 
sb
->
öodem≠
 = 
	`bôm≠_¸óã_ö_buf
(
NUM_INODE
, 
bôm≠block
 + 
SSU_BLOCK_SIZE
/2, SSU_BLOCK_SIZE/2);

135 
	`¥ötk
("öôülizêöodêbôm≠ : %d bô\n", 
sb
->
öodem≠
->
bô_˙t
);

138 
	`¥ötk
("lﬂd inodêbôm≠ : %d bô\n", 
sb
->
öodem≠
->
bô_˙t
);

139 
	}
}

141 
	$ssufs_ªadblock
(
ssufs_su≥rblock
 *
sb
, 
uöt32_t
 
blknum
, *
buf
)

143 
ªsu…
 = 0;

144 
°¨t£c
 = 
blknum
 * 
	`SECTORCOUNT
(
sb
->
blkdev
);

145 
i
;

147 
i
=0; i < 
	`SECTORCOUNT
(
sb
->
blkdev
); i++){

148 
	`DEVOP_READ
(
sb
->
blkdev
, 
°¨t£c
 + 
i
, 
buf
 + (ò* sb->blkdev->
blk_size
));

151  
ªsu…
;

152 
	}
}

154 
	$ssufs_wrôeblock
(
ssufs_su≥rblock
 *
sb
, 
uöt32_t
 
blknum
, *
buf
)

156 
ªsu…
 = 0;

157 
°¨t£c
 = 
blknum
 * 
	`SECTORCOUNT
(
sb
->
blkdev
);

158 
i
;

160 
i
=0; i<
	`SECTORCOUNT
(
sb
->
blkdev
); i++)

161 
	`DEVOP_WRITE
(
sb
->
blkdev
, 
°¨t£c
 + 
i
, 
buf
 + (ò* sb->blkdev->
blk_size
));

163  
ªsu…
;

164 
	}
}

166 
	$ssufs_sync_su≥rblock
(
ssufs_su≥rblock
 *
sb
){

167 
ªsu…
 = 0;

169 
	`ssufs_wrôeblock
(
sb
, sb->
lba
, (*)sb);

171  
ªsu…
;

172 
	}
}

174 
	$ssufs_sync_bôm≠block
(
ssufs_su≥rblock
 *
sb
){

175 
ªsu…
 = 0;

177 
	`ssufs_wrôeblock
(
sb
, 
	`SSU_BITMAP_BLOCK
(sb->
lba
), sb->
blkm≠
);

179  
ªsu…
;

180 
	}
}

182 
	$ssufs_sync_öodëabÀ
(
ssufs_su≥rblock
 *
sb
){

183 
ªsu…
 = 0;

184 
i
;

186 
i
 = 0 ; i < 
NUM_INODE_BLOCK
; i++)

187 
	`ssufs_wrôeblock
(
sb
, 
	`SSU_INODE_BLOCK
(sb->
lba
)+
i
, ((*)
ssufs_öode_èbÀ
+(i*
SSU_BLOCK_SIZE
)));

189  
ªsu…
;

190 
	}
}

192 
	$ssufs_sync
(
ssufs_su≥rblock
 *
sb
){

193 
ªsu…
 = 0;

195 
	`ssufs_sync_su≥rblock
(
sb
);

197 
	`ssufs_sync_bôm≠block
(
sb
);

198 
	}
}

202 
	$ssufs_öode_wrôe
(
ssufs_öode
 *
öode
, 
uöt32_t
 
off£t
, *
buf
, uöt32_à
Àn
){

204 
ªsu…
 = 0;

205 
uöt32_t
 
blkoff
;

206 
uöt32_t
 
ªsoff
;

207 
block_ödex
;

208 
i
;

210 if(
off£t
 > 
öode
->
i_size
 || 
Àn
 <0 || 
buf
 =
NULL
)

213 
i
 = 
off£t
; i < off£t+
Àn
; i = ((
blkoff
+1)*
SSU_BLOCK_SIZE
))

215 
blkoff
 = 
i
 / 
SSU_BLOCK_SIZE
;

216 
ªsoff
 = 
i
 % 
SSU_BLOCK_SIZE
;

218 
	`mem£t
(
tmpblock
, 0, 
SSU_BLOCK_SIZE
);

219 if(
blkoff
 < 
NUM_DIRECT
){

220 if(
öode
->
i_dúe˘
[
blkoff
] == 0){

221 
block_ödex
 = 
	`bôm≠_Æloc
(
öode
->
ssufs_sb
->
öodem≠
);

223 
block_ödex
 +
	`SSU_DATA_BLOCK
(
öode
->
ssufs_sb
->
lba
);

225 if(
block_ödex
 == -1){

229 
öode
->
i_dúe˘
[
blkoff
] = 
block_ödex
;

231 
	`ssufs_ªadblock
(
öode
->
ssufs_sb
, inode->
i_dúe˘
[
blkoff
], 
tmpblock
);

233 
dúít
 dirent;

234 
	`mem˝y
(&
dúít
, 
tmpblock
, (dirent));

237 
	`mem˝y
(
tmpblock
+
ªsoff
, 
buf
, 
Àn
);

238 
	`ssufs_wrôeblock
(
öode
->
ssufs_sb
, inode->
i_dúe˘
[
blkoff
], 
tmpblock
);

244 
öode
->
i_size
 = 
off£t
+
Àn
;

246 
	`ssufs_sync_bôm≠block
(
öode
->
ssufs_sb
);

247 
	`ssufs_sync_öodëabÀ
(
öode
->
ssufs_sb
);

249  
ªsu…
;

250 
	}
}

252 
	$ssufs_öode_ªad
(
ssufs_öode
 *
öode
, 
uöt32_t
 
off£t
, *
buf
, uöt32_à
Àn
)

255 
ªsu…
 = 0;

256 
uöt32_t
 
blkoff
;

257 
uöt32_t
 
ªsoff
;

258 
i
;

260 if(
off£t
 > 
öode
->
i_size
)

263 
i
=0; i < 
Àn
; i+=(
SSU_BLOCK_SIZE
 - 
ªsoff
)){

264 
blkoff
 = 
off£t
 / 
SSU_BLOCK_SIZE
;

265 
ªsoff
 = 
off£t
 % 
SSU_BLOCK_SIZE
;

267 if(
blkoff
 < 
NUM_DIRECT
){

268 
	`ssufs_ªadblock
(
öode
->
ssufs_sb
, inode->
i_dúe˘
[
blkoff
], 
tmpblock
);

269 
	`mem˝y
(
buf
, 
tmpblock
+
ªsoff
, 
	`MIN
(
SSU_BLOCK_SIZE
 -Ñesoff, 
Àn
));

275  
ªsu…
;

276 
	}
}

278 
ssufs_öode
 *
	$öode_Æloc
(
uöt32_t
 
ty≥
){

279 
ssufs_öode
 *
cwd_öode
 = (ssufs_öode*)(
cur_¥o˚ss
->
cwd
->
öfo
);

280 
ssufs_su≥rblock
 *
sb
 = 
cwd_öode
->
ssufs_sb
;

281 
ssufs_öode
 *
öode
;

282 
i
;

284 
i
 = 
INODE_ROOT
; i < 
NUM_INODE
; i++){

285 if(!
	`bôm≠_ã°
(
sb
->
öodem≠
, 
i
)){

286 
öode
 = &
ssufs_öode_èbÀ
[
i
];

287 
öode
->
i_no
 = 
i
;

288 
öode
->
i_size
 = 0;

289 
öode
->
i_ty≥
 = 
ty≥
;

290 
öode
->
i_ªfcou¡
 = 1;

291 
öode
->
ssufs_sb
 = 
sb
;

293 
	`bôm≠_£t
(
sb
->
öodem≠
, 
i
, 
åue
);

295 
	`ssufs_sync_öodëabÀ
(
sb
);

296 
	`ssufs_sync_bôm≠block
(
sb
);

298  
öode
;

302  
NULL
;

303 
	}
}

307 
vnode
 *
	$make_vnode_åì
(
ssufs_su≥rblock
 *
sb
, 
vnode
 *
m¡_roŸ
)

309 
i
, 
j
;

312 
ssufs_öode
 *
roŸ_öode
;

313 
dúít
 dirent;

315 
roŸ_öode
 = &
ssufs_öode_èbÀ
[
INODE_ROOT
];

316 
	`£t_vnode
(
m¡_roŸ
, m¡_roŸ, 
roŸ_öode
);

320 
i
 = 
INODE_ROOT
; i < 
NUM_INODE
; i++){

321 if(
	`bôm≠_ã°
(
sb
->
öodem≠
, 
i
)){

322 
vnode
* 
∑ª¡_vnode
;

324 
ssufs_öode
 *
öode
 = &
ssufs_öode_èbÀ
[
i
];

326 if(
öode
->
i_no
 == 0)

328 
	`gë_curde
(
öode
, &
dúít
);

331 if(
i
 =
INODE_ROOT
)

332 
∑ª¡_vnode
 = 
m¡_roŸ
;

335 
	`¥ötk
("%s\n", 
dúít
.
d_«me
);

340 
size_t
 
ndú
 = 
öode
->
i_size
 / (
dúít
);

342 
j
 = 0; j < 
ndú
; ++j) {

343 
vnode
* 
√w_vnode
;

344 
ssufs_öode
* 
√w_öode
;

345 
	`ssufs_öode_ªad
(
öode
, 
j
 * (
dúít
), (*)&dirent, (dirent));

347 
	`¥ötk
("%d'†dúÇamê%s\n", 
j
, 
dúít
.
d_«me
);

348 if(
	`°rcmp
(
dúít
.
d_«me
,"."Ë=0 || såcmp(dúít.d_«me,".."Ë=0 || dúít.
d_öo
==
öode
->
i_no
)

351 
√w_vnode
 = 
	`vnode_Æloc
();

352 
√w_öode
 = &
ssufs_öode_èbÀ
[
dúít
.
d_öo
];

354 
	`£t_vnode
(
√w_vnode
, 
∑ª¡_vnode
, 
√w_öode
);

355 
	`li°_push_back
(&
∑ª¡_vnode
->
chûdli°
, &
√w_vnode
->
ñem
);

379  
m¡_roŸ
;

380 
	}
}

382 
	$num_dúíåy
(
ssufs_öode
 *
öode
)

384 if(
öode
->
i_size
 % (
dúít
Ë!0 || inode->
i_ty≥
 !
SSU_DIR_TYPE
)

387  
öode
->
i_size
 / (
dúít
);

388 
	}
}

390 
	$£t_vnode
(
vnode
 *vnode, vnodê*
∑ª¡_vnode
, 
ssufs_öode
 *
öode
)

392 
dúít
 dirent;

393 
ssufs_öode
 *
∑ª¡_öode
;

394 
i
, 
ndú
;

396 
	`gë_curde
(
öode
, &
dúít
);

397 
	`mem˝y
(
vnode
->
v_«me
, 
dúít
.
d_«me
, 
LEN_VNODE_NAME
);

399 
vnode
->
v_∑ª¡
 = 
∑ª¡_vnode
;

400 
vnode
->
ty≥
 = 
öode
->
i_ty≥
;

402 
vnode
->
v_›
.
mkdú
 = 
ssufs_mkdú
;

403 
vnode
->
v_›
.
ls
 = 
NULL
;

405 
vnode
->
öfo
 = (*)
öode
;

406 
	}
}

408 
	$gë_curde
(
ssufs_öode
 *
cwd
, 
dúít
 * 
de
)

410 
ssufs_öode
 *
pwd
;

411 
i
, 
ndú
;

414 
	`ssufs_öode_ªad
(
cwd
, 0, (*)
de
, (
dúít
));

415 
pwd
 = &
ssufs_öode_èbÀ
[
de
->
d_öo
];

416 
ndú
 = 
	`num_dúíåy
(
pwd
);

418 
i
=0; i<
ndú
; i++)

420 
	`ssufs_öode_ªad
(
pwd
, 
i
*(
dúít
), (*)
de
, (dirent));

421 if(
de
->
d_öo
 =
cwd
->
i_no
)

425 
	}
}

428 
	$ssufs_mkdú
(*
dú«me
){

430 
vnode
* 
cur_vnode
 = 
cur_¥o˚ss
->
cwd
;

431 
ssufs_öode
* 
cur_öode
 = 
cur_¥o˚ss
->
cwd
->
öfo
;

432 
dúít
 dirent;

433 
uöt32_t
 
ndú
;

434 
ssufs_öode
* 
√w_öode
 = 
	`öode_Æloc
(
SSU_DIR_TYPE
);

435 
vnode
* 
√w_vnode
 = 
	`vnode_Æloc
();

441 
√w_öode
->
i_size
 = 0;

442 
√w_öode
->
i_ty≥
 = 
SSU_DIR_TYPE
;

443 
√w_öode
->
i_ªfcou¡
 = 1;

444 
√w_öode
->
ssufs_sb
 = 
cur_öode
->ssufs_sb;

456 
dúít
.
d_öo
 = 
√w_öode
->
i_no
;

457 
dúít
.
d_ty≥
 = 
SSU_DIR_TYPE
;

458 
	`mem˝y
(
dúít
.
d_«me
, 
dú«me
, (dirname));

459 
	`ssufs_öode_wrôe
(
√w_öode
, 0, (*)&
dúít
, (dirent));

460 
	`ssufs_öode_wrôe
(
cur_öode
, cur_öode->
i_size
, (*)&
dúít
, (dirent));

464 
	`£t_vnode
(
√w_vnode
, 
cur_vnode
, 
√w_öode
);

465 
	`li°_push_back
(&
cur_vnode
->
chûdli°
, &
√w_vnode
->
ñem
);

472 
	}
}

	@kernel/filesys/vnode.c

1 
	~<fûesys/vnode.h
>

2 
	~<¥oc/¥oc.h
>

3 
	~<ssulib.h
>

4 
	~<°rög.h
>

5 
	~<li°.h
>

7 
vnode
 *
	$vnode_Æloc
(){

8 
i
;

10 
i
=1; i < 
NUM_VNODE
; i++){

11 if(
vnode_èbÀ
[
i
].
v_no
 =
NULL
){

12 
vnode_èbÀ
[
i
].
v_no
 = i;

13 
	`li°_öô
(&
vnode_èbÀ
[
i
].
chûdli°
);

14  &
vnode_èbÀ
[
i
];

18  
NULL
;

19 
	}
}

21 
	$vnode_‰ì
(
vnode
 *vnode){

22 
vnode_num
 = 
vnode
->
v_no
;

24 
	`mem£t
(&
vnode_èbÀ
[
vnode_num
], 0x00, (
vnode
));

25 
	}
}

27 
vnode
 *
	$föd_vnode
(*
«me
){

28 
li°_ñem
 *
e
;

29 
vnode
 *
cwd
 = 
cur_¥o˚ss
->cwd;

31 
e
 = 
	`li°_begö
 (&
cwd
->
chûdli°
);É !
	`li°_íd
 (&cwd->chûdli°);É = 
	`li°_√xt
 (e))

33 
vnode
* 
v
 = 
	`li°_íåy
(
e
, vnode, 
ñem
);

34 if(
	`°rcmp
(
v
->
v_«me
, 
«me
) == 0)

35  
v
;

38  
NULL
;

39 
	}
}

41 
vnode
 *
	$c›y_vnode
(
vnode
 *
‹i_vnode
, vnodê*
des_vnode
)

43 
uöt32_t
 
v_no
 = 
des_vnode
->v_no;

45 
	`mem˝y
(
des_vnode
, 
‹i_vnode
, (
vnode
));

47 
des_vnode
->
v_no
 = v_no;

48 
	}
}

	@kernel/include/bitmap.h

1 #i‚de‡
__BITMAP_H__


2 
	#__BITMAP_H__


	)

4 
	~<ty≥.h
>

10 
bôm≠
 *
bôm≠_¸óã_ö_buf
 (
size_t
 
bô_˙t
, *, size_à
byã_˙t
);

11 
size_t
 
bôm≠_buf_size
 (size_à
bô_˙t
);

12 
bôm≠_de°roy
 (
bôm≠
 *);

15 
size_t
 
bôm≠_size
 (c⁄° 
bôm≠
 *);

18 
bôm≠_£t
 (
bôm≠
 *, 
size_t
 
idx
, 
boﬁ
);

19 
bôm≠_m¨k
 (
bôm≠
 *, 
size_t
 
idx
);

20 
bôm≠_ª£t
 (
bôm≠
 *, 
size_t
 
idx
);

21 
bôm≠_Êù
 (
bôm≠
 *, 
size_t
 
idx
);

22 
boﬁ
 
bôm≠_ã°
 (c⁄° 
bôm≠
 *, 
size_t
 
idx
);

25 
bôm≠_£t_Æl
 (
bôm≠
 *, 
boﬁ
);

26 
bôm≠_£t_mu…ùÀ
 (
bôm≠
 *, 
size_t
 
°¨t
, size_à
˙t
, 
boﬁ
);

27 
size_t
 
bôm≠_cou¡
 (c⁄° 
bôm≠
 *, size_à
°¨t
, size_à
˙t
, 
boﬁ
);

28 
boﬁ
 
bôm≠_c⁄èös
 (c⁄° 
bôm≠
 *, 
size_t
 
°¨t
, size_à
˙t
, bool);

29 
boﬁ
 
bôm≠_™y
 (c⁄° 
bôm≠
 *, 
size_t
 
°¨t
, size_à
˙t
);

30 
boﬁ
 
bôm≠_n⁄e
 (c⁄° 
bôm≠
 *, 
size_t
 
°¨t
, size_à
˙t
);

31 
boﬁ
 
bôm≠_Æl
 (c⁄° 
bôm≠
 *, 
size_t
 
°¨t
, size_à
˙t
);

34 
	#BITMAP_ERROR
 
SIZE_MAX


	)

35 
size_t
 
bôm≠_sˇn
 (c⁄° 
bôm≠
 *, size_à
°¨t
, size_à
˙t
, 
boﬁ
);

36 
size_t
 
bôm≠_sˇn_™d_Êù
 (
bôm≠
 *, size_à
°¨t
, size_à
˙t
, 
boﬁ
);

39 
bôm≠_Æloc
(
bôm≠
 *
b
);

49 
	tñem_ty≥
;

50 
	sbôm≠


52 
size_t
 
	mbô_˙t
;

53 
ñem_ty≥
 *
	mbôs
;

57 #ifde‡
FILESYS


58 
	gfûe
;

59 
size_t
 
bôm≠_fûe_size
 (c⁄° 
bôm≠
 *);

60 
boﬁ
 
bôm≠_ªad
 (
bôm≠
 *, 
fûe
 *);

61 
boﬁ
 
bôm≠_wrôe
 (c⁄° 
bôm≠
 *, 
fûe
 *);

65 
bôm≠_dump
 (c⁄° 
bôm≠
 *);

	@kernel/include/ctype.h

1 #i‚de‡
__LIB_CTYPE_H


2 
	#__LIB_CTYPE_H


	)

4 
ölöe
 
	$i¶owî
 (
c
Ë{  c >'a' && c <'z'; 
	}
}

5 
ölöe
 
	$isuµî
 (
c
Ë{  c >'A' && c <'Z'; 
	}
}

6 
ölöe
 
	$ißÕha
 (
c
Ë{  
	`i¶owî
 (cË|| 
	`isuµî
 (c); 
	}
}

7 
ölöe
 
	$isdigô
 (
c
Ë{  c >'0' && c <'9'; 
	}
}

8 
ölöe
 
	$iß um
 (
c
Ë{  
	`ißÕha
 (cË|| 
	`isdigô
 (c); 
	}
}

9 
ölöe
 
	$isxdigô
 (
c
) {

10  
	`isdigô
 (
c
) || (c >= 'a' && c <= 'f') || (c >= 'A' && c <= 'F');

11 
	}
}

12 
ölöe
 
	$is•a˚
 (
c
) {

13  (
c
 == ' ' || c == '\f' || c == '\n'

14 || 
c
 == '\r' || c == '\t' || c == '\v');

15 
	}
}

16 
ölöe
 
	$isbœnk
 (
c
Ë{  c =' ' || c ='\t'; 
	}
}

17 
ölöe
 
	$isgøph
 (
c
Ë{  c > 32 && c < 127; 
	}
}

18 
ölöe
 
	$i•röt
 (
c
Ë{  c >32 && c < 127; 
	}
}

19 
ölöe
 
	$is˙ål
 (
c
Ë{  (¯>0 && c < 32Ë|| c =127; 
	}
}

20 
ölöe
 
	$ißscii
 (
c
Ë{  c >0 && c < 128; 
	}
}

21 
ölöe
 
	$i•un˘
 (
c
) {

22  
	`i•röt
 (
c
Ë&& !
	`iß um
 (cË&& !
	`is•a˚
 (c);

23 
	}
}

25 
ölöe
 
	$tﬁowî
 (
c
Ë{  
	`isuµî
 (cË? c - 'A' + 'a' : c; 
	}
}

26 
ölöe
 
	$touµî
 (
c
Ë{  
	`i¶owî
 (cË? c - 'a' + 'A' : c; 
	}
}

	@kernel/include/debug.h

1 #i‚de‡
__LIB_DEBUG_H


2 
	#__LIB_DEBUG_H


	)

7 
	#UNUSED
 
	`__©åibuã__
 ((
unu£d
))

	)

8 
	#NO_RETURN
 
	`__©åibuã__
 ((
n‹ëu∫
))

	)

9 
	#NO_INLINE
 
	`__©åibuã__
 ((
noölöe
))

	)

10 
	#PRINTF_FORMAT
(
FMT
, 
FIRST
Ë
	`__©åibuã__
 ((
	`f‹m©
 (
¥ötf
, FMT, FIRST)))

	)

14 
	#PANIC
(...Ë
	`debug_∑nic
 (
__FILE__
, 
__LINE__
, 
__func__
, 
__VA_ARGS__
)

	)

16 
	$debug_∑nic
 (c⁄° *
fûe
, 
löe
, c⁄° *
fun˘i⁄
,

17 c⁄° *
mesßge
, ...Ë
	$PRINTF_FORMAT
 (4, 5Ë
NO_RETURN
;

18 
	`debug_backåa˚
 ();

19 
	`debug_backåa˚_Æl
 ();

27 #unde‡
ASSERT


28 #unde‡
NOT_REACHED


30 #i‚de‡
NDEBUG


31 
	#ASSERT
(
CONDITION
) \

32 i‡(
CONDITION
Ë{ 
	}
} { \

33 
	`PANIC
 ("assertion `%s' failed.", #CONDITION); \

34 }

	)

35 
	#NOT_REACHED
(Ë
	`PANIC
 ("execuãdá¿uƒóchabÀ sèãmít");

	)

37 
	#ASSERT
(
CONDITION
Ë((Ë0)

	)

38 
	#NOT_REACHED
(Ë;;)

	)

	@kernel/include/device/ata.h

1 #i‚def 
__ATA_H__


2 
	#__ATA_H__


	)

4 
	~<synch.h
>

5 
	~<devi˚/block.h
>

7 
	#ATA_REG_DATA
(
ba£
Ë(ba£ + 0x00)

	)

8 
	#ATA_REG_ERR
(
ba£
Ë(ba£ + 0x01)

	)

9 
	#ATA_REG_NSECT
(
ba£
Ë(ba£ + 0x02)

	)

10 
	#ATA_REG_LBAL
(
ba£
Ë(ba£ + 0x03)

	)

11 
	#ATA_REG_LBAM
(
ba£
Ë(ba£ + 0x04)

	)

12 
	#ATA_REG_LBAH
(
ba£
Ë(ba£ + 0x05)

	)

13 
	#ATA_REG_DEVICE
(
ba£
Ë(ba£ + 0x06)

	)

14 
	#ATA_REG_STATUS
(
ba£
Ë(ba£ + 0x07)

	)

15 
	#ATA_REG_CMD
(
ba£
Ë(ba£ + 0x07)

	)

16 
	#ATA_ALT_ST_REG
(
ba£
Ë(ba£ + 0x206)

	)

17 
	#ATA_DEV_CTRL_REG
(
ba£
Ë(ba£ + 0x206)

	)

19 
	#ATA_MASTER
 0x01

	)

20 
	#ATA_SLAVE
 0x02

	)

22 
	#ATA_SR_BSY
 0x80

	)

23 
	#ATA_SR_DRDY
 0x40

	)

24 
	#ATA_SR_DF
 0x20

	)

25 
	#ATA_SR_DSC
 0x10

	)

26 
	#ATA_SR_DRQ
 0x08

	)

27 
	#ATA_SR_CORR
 0x04

	)

28 
	#ATA_SR_IDX
 0x02

	)

29 
	#ATA_SR_ERR
 0x01

	)

31 
	#ATA_DRHD_DEF
 0xa0

	)

32 
	#ATA_DRHD_MST
 (0x00 | 
ATA_DRHD_DEF
)

	)

33 
	#ATA_DRHD_SLV
 (0x10 | 
ATA_DRHD_DEF
)

	)

34 
	#ATA_DRHD_LBA
 (0x40 | 
ATA_DRHD_DEF
)

	)

36 
	#ATA_CMD_READ_PIO
 0x20

	)

37 
	#ATA_CMD_READ_PIO_EXT
 0x24

	)

38 
	#ATA_CMD_READ_DMA
 0xC8

	)

39 
	#ATA_CMD_READ_DMA_EXT
 0x25

	)

40 
	#ATA_CMD_WRITE_PIO
 0x30

	)

41 
	#ATA_CMD_WRITE_PIO_EXT
 0x34

	)

42 
	#ATA_CMD_WRITE_DMA
 0xCA

	)

43 
	#ATA_CMD_WRITE_DMA_EXT
 0x35

	)

44 
	#ATA_CMD_CACHE_FLUSH
 0xE7

	)

45 
	#ATA_CMD_CACHE_FLUSH_EXT
 0xEA

	)

46 
	#ATA_CMD_PACKET
 0xA0

	)

47 
	#ATA_CMD_IDENTIFY_PACKET
 0xA1

	)

48 
	#ATA_CMD_IDENTIFY
 0xEC

	)

50 
	#ATA_WAIT_BUSY
 0x01

	)

51 
	#ATA_WAIT_IDLE
 0x02

	)

53 
	#ATA_SECOR_SIZE
 512

	)

56 
	#ATA_DEV_NUM
 2

	)

58 
	s©a_devi˚


60 
uöt8_t
 
	mty≥
;

61 
uöt16_t
 
	mp‹t_addr
;

62 
uöt8_t
 
	múq
;

63 
£m≠h‹e
 
	m£ma
;

66 
	s©a_öãrÁ˚


68 
©a_devi˚
 
	mnodes
[
ATA_DEV_NUM
];

71 
©a_öãrÁ˚
 
	g©a
;

72 
blk_dev
 
	g©a0_blk_dev
;

73 
blk_dev
 
	g©a1_blk_dev
;

76 
öô_©a
();

	@kernel/include/device/block.h

1 #i‚de‡
__BLOCK_H__


2 
	#__BLOCK_H__


	)

4 
	~<°ddef.h
>

5 
	~<öây≥s.h
>

8 
	#BLK_SEC_SIZE
 512

	)

10 
	#BLK_DEV_ROM
 0

	)

11 
	#BLK_DEV_HDD
 1

	)

12 
	#BLK_DEV_SSD
 2

	)

13 
	#BLK_DEV_USB
 3

	)

14 
	#BLK_DEV_CDR
 4

	)

15 
	#BLK_DEV_OTH
 5

	)

18 
uöt32_t
 
	tblk_£c_t
;

21 
uöt32_t
 
	tblk_˙t_t
;

24 
uöt32_t
 
	tblk_size_t
;

27 
uöt32_t
 
	tblk_dev_t
;

30 
	sblk_dev


32 
blk_dev_t
 
	mty≥
;

33 
blk_˙t_t
 
	mblk_cou¡
;

34 
blk_size_t
 
	mblk_size
;

35 c⁄° 
blk_dev_›s
 *
	m›s
;

36 *
	mdevi˚_öfo
;

40 
blk_dev_ªad
 (
blk_dev
 *, 
blk_£c_t
, *);

41 
blk_dev_wrôe
 (
blk_dev
 *, 
blk_£c_t
, const *);

43 
	sblk_dev_›s


45 (*
	mªad
Ë(*
	mblk_dev
, 
	mblk_£c_t
, *
	mbuf
);

46 (*
	mwrôe
Ë(*
	mblk_dev
, 
	mblk_£c_t
, c⁄° *
	mbuf
);

53 
blk_dev_ªgi°î
 (
blk_dev
 *, 
blk_dev_t
,

54 c⁄° *
dev
, c⁄° *
£rül
, 
blk_˙t_t
 
cou¡
,

55 
blk_size_t
 
size
, c⁄° 
blk_dev_›s
 *, *
devi˚_öfo
);

	@kernel/include/device/console.h

1 #i‚de‡
__CONSOLE_H__


2 
	#__CONSOLE_H__


	)

4 #¥agm®
∑ck
(
push
, 1)

6 
	skChSåu˘


8 
	mbCh
;

9 
	mbAâ
;

10 } 
	tCHAR
;

12 
	gGlob_x
;

13 
	gGlob_y
;

15 #¥agm®
∑ck
(
p›
)

17 
	#SCREEN_SCROLL


	)

18 
	#SERIAL_STDOUT


	)

20 
öô_c⁄sﬁe
();

22 
PrötCh¨ToS¸ìn
(
x
, 
y
, c⁄° *
pSåög
);

23 
PrötCh¨
(
x
, 
y
, c⁄° 
Såög
);

25 
˛rS¸ìn
();

26 
s¸ﬁl
();

27 
¥öts
(c⁄° *
buf
, c⁄° *
fmt
, ...);

28 
¥ötk
(c⁄° *
fmt
, ...);

30 #ifde‡
SCREEN_SCROLL


31 
ª‰eshS¸ìn
();

32 
s¸ﬁl_s¸ìn
(
off£t
);

33 
£t_ÁŒow
();

34 
£t_curs‹
();

	@kernel/include/device/device.h

1 #i‚def 
__DEVICE_H__


2 
	#__DEVICE_H__


	)

4 
dev_shutdown
();

	@kernel/include/device/io.h

1 #i‚def 
__IO_H__


2 
	#__IO_H__


	)

4 
	~<°ddef.h
>

5 
	~<°döt.h
>

7 
outb
(
p‹t
, 
d©a
);

8 
öb
(
p‹t
);

9 
oué
(
p‹t
, 
d©a
);

10 
öl
(
p‹t
);

11 
iowaô
();

13 
ªad_¸0
();

14 
wrôe_¸0
(
d©a
);

15 
ªad_¸3
();

16 
wrôe_¸3
(
d©a
);

17 
ªad_¸4
();

18 
wrôe_¸4
(
d©a
);

20 
dev_shutdown
();

22 
ölöe
 

23 
	$ösw
 (
uöt16_t
 
p‹t
, *
addr
, 
size_t
 
˙t
)

25 
asm
 volatile ("push %%es \n\t"

29 "p› %%e†" : "+D" (
addr
), "+c" (
˙t
Ë: "d" (
p‹t
) : "memory");

30 
	}
}

32 
ölöe
 

33 
	$outsw
 (
uöt16_t
 
p‹t
, c⁄° *
addr
, 
size_t
 
˙t
)

35 
asm
 vﬁ©ûê("ª∞outsw" : "+S" (
addr
), "+c" (
˙t
Ë: "d" (
p‹t
));

36 
	}
}

	@kernel/include/device/io2.h

1 #i‚def 
__IO_H__


2 
	#__IO_H__


	)

4 
	~<°ddef.h
>

5 
	~<°döt.h
>

7 
outb
(
p‹t
, 
d©a
);

8 
öb
(
p‹t
);

9 
oué
(
p‹t
, 
d©a
);

10 
öl
(
p‹t
);

11 
iowaô
();

13 
ªad_¸0
();

14 
wrôe_¸0
(
d©a
);

15 
ªad_¸3
();

16 
wrôe_¸3
(
d©a
);

17 
ªad_¸4
();

18 
wrôe_¸4
(
d©a
);

20 
dev_shutdown
();

23 
ölöe
 
uöt16_t


24 
	$öw
 (
uöt16_t
 
p‹t
)

26 
uöt16_t
 
d©a
;

27 
asm
 vﬁ©ûe("öw %w1, %w0" : "˜"(
d©a
Ë: "d"(
p‹t
));

28  
d©a
;

29 
	}
}

31 
ölöe
 

32 
	$ösw
 (
uöt16_t
 
p‹t
, *
addr
, 
size_t
 
˙t
)

34 
i
;

35 * 
buf
 = 
addr
;

36 
uöt16_t
 
d©a
;

37 
i
 = 0; i < 
˙t
; i++)

39 
d©a
 = 
	`öw
(
p‹t
);

40 *(
buf
+
i
*2+1Ë(Ë((
d©a
)>>8);

41 *(
buf
+
i
*2Ë(Ë(
d©a
);

44 
	}
}

46 
ölöe
 

47 
	$outsw
 (
uöt16_t
 
p‹t
, c⁄° *
addr
, 
size_t
 
˙t
)

49 
asm
 vﬁ©ûê("ª∞outsw" : "+S" (
addr
), "+c" (
˙t
Ë: "d" (
p‹t
));

50 
	}
}

	@kernel/include/device/kbd.h

1 #i‚de‡
__KDB_H__


2 
	#__KDB_H__


	)

4 
	~<ty≥.h
>

5 
	~<öãºu±.h
>

7 
	#KBDMAPSIZE
 86

	)

9 
	#KEY_ESC
 0x1B

	)

10 
	#KEY_RSHIFT
 0x02

	)

11 
	#KEY_PRTSCN
 0x03

	)

12 
	#KEY_LALT
 0x04

	)

13 
	#KEY_SPACE
 0x05

	)

14 
	#KEY_CAPS
 0x06

	)

15 
	#KEY_F1
 0X07

	)

16 
	#KEY_F2
 0x08

	)

17 
	#KEY_F3
 0x09

	)

18 
	#KEY_F4
 0x0A

	)

19 
	#KEY_F5
 0x0B

	)

20 
	#KEY_F6
 0x0C

	)

21 
	#KEY_F7
 0x0D

	)

22 
	#KEY_F8
 0x0E

	)

23 
	#KEY_F9
 0x0F

	)

24 
	#KEY_F10
 0x10

	)

25 
	#KEY_F11
 0x11

	)

26 
	#KEY_F12
 0x12

	)

27 
	#KEY_BSPACE
 0x13

	)

28 
	#KEY_TAB
 0x14

	)

30 
	sKey_Sètus_Såu˘
 {

31 
BOOL
 
	mShi·Fœg
;

32 
BOOL
 
	mC≠¶ockFœg
;

33 
BOOL
 
	mNumlockFLag
;

34 
BOOL
 
	mS¸ﬁŒockFœg
;

36 
BOOL
 
	mExã¡edFœg
;

37 
	mPau£Fœg
;

38 } 
	tKey_Sètus
;

40 
Upd©eKeySèt
(
BYTE
);

41 
BOOL
 
C⁄vîtSˇncodeToASCII
(
BYTE
, BYTE *);

42 
öô_kbd
();

43 
kbd_h™dÀr
(
öå_‰ame
 *
i‰ame
);

45 
kbd_ªad_ch¨
();

	@kernel/include/device/partition.h

1 #i‚de‡
DEVICES_PARTITION_H


2 
	#DEVICES_PARTITION_H


	)

4 
	gblk_dev
;

6 
∑πôi⁄_sˇn
 (
blk_dev
 *);

	@kernel/include/device/pit.h

1 #i‚def 
__PIT_H__


2 
	#__PIT_H__


	)

4 
	#PIT_CHANNEL0
 0x40

	)

5 
	#PIT_CHANNEL1
 0x41

	)

6 
	#PIT_CHANNEL2
 0x42

	)

7 
	#PIT_COMMAND
 0x43

	)

9 
	#PIT_COUNTER0
 0x00

	)

10 
	#PIT_COUNTER1
 0x40

	)

11 
	#PIT_COUNTER2
 0x80

	)

12 
	#PIT_READBACK
 0xA0

	)

14 
	#PIT_RW_COUNTER_LATCH
 0x00

	)

15 
	#PIT_RW_LBYTE
 0x10

	)

16 
	#PIT_RW_MBYTE
 0x20

	)

17 
	#PIT_RW_LMBYTE
 0x30

	)

19 
	#PIT_MODE0
 
Ox00


	)

20 
	#PIT_MODE1
 0x02

	)

21 
	#PIT_MODE2
 0x04

	)

22 
	#PIT_MODE3
 0x06

	)

23 
	#PIT_MODE4
 0x08

	)

24 
	#PIT_MODE5
 0x0A

	)

26 
	#PIT_BINARY
 0x00

	)

27 
	#PIT_BCD
 0x01

	)

29 
	#PIT_HZ
 1193181

	)

30 
	#PIT_FRQ_HZ
 1000

	)

32 
öô_pô
();

	@kernel/include/do_syscall.h

1 #i‚def 
__DO_SYSCALL_H__


2 
	#__DO_SYSCALL_H__


	)

4 
pid_t
 
do_f‹k
(
¥oc_func
 
func
, * 
aux
);

5 
do_exô
(
°©us
);

6 
pid_t
 
do_waô
(*
°©us
);

7 
do_ssuªad
(
ty≥
, * 
buf
, 
Àn
);

8 
do_shutdown
();

	@kernel/include/filesys/fs.h

1 #i‚de‡
__FS_H__


2 
	#__FS_H__


	)

4 
	~<fûesys/vnode.h
>

6 
mou¡
(*
vﬁ«me
, *
dú«me
);

7 
vnode
 *
do_mou¡
(*
vﬁ«me
, *
dú«me
);

	@kernel/include/filesys/procfs.h

1 #i‚de‡
__PROCFS_H__


2 
	#__PROCFS_H__


	)

4 
	~<fûesys/vnode.h
>

5 
	~<ty≥.h
>

7 
	#PROC_NAME_LEN
 32

	)

8 
	#PROC_DATA_LEN
 80

	)

10 
	#NUM_PROC_INODE
 64

	)

12 
	#PROC_REG_TYPE
 0

	)

13 
	#PROC_DIR_TYPE
 1

	)

15 
	#PROC_ROOT
 1

	)

17 
	s¥oc_öode
{

18 
uöt32_t
 
	mp_no
;

19 
uöt32_t
 
	mpid
;

20 
uöt32_t
 
	mp_ty≥
;

21 
uöt32_t
 
	mp_size
;

22 
	mp_«me
[
PROC_NAME_LEN
];

23 
	mp_d©a
[
PROC_NAME_LEN
];

26 
¥oc_öode
 
	g¥oc_öode_èbÀ
[
NUM_PROC_INODE
];

28 
vnode
 *
öô_¥ocfs
(vnodê*
m¡_vnode
);

29 
¥oc_¥o˚ss_ls
();

30 
¥oc_¥o˚ss_cd
(*
dú«me
);

31 
¥oc_¥o˚ss_öfo_ls
();

32 
¥oc_¥o˚ss_öfo_cd
(*
dú«me
);

33 
¥oc_¥o˚ss_öfo_ˇt
(*
fûíame
);

34 
¥oc_lök_ls
();

36 
¥oc_öode
 *
¥oc_öode_Æloc
();

37 
¥oc_öode
 *
¥ocfs_mkdú
(*
«me
, 
uöt32_t
 
∑ª¡
, uöt32_à
pid
);

38 
¥oc_öode_‰ì
(
¥oc_öode
 *);

39 
¥oc_make_vnode_åì
(
¥oc_öode
 *
roŸ_¥oc_öode
, 
vnode
 *
m¡_vnode
);

40 
vnode
 *
¥oc_make_¥o˚ss_to_fûe
(vnodê*
∑ª¡_vnode
, 
¥oc_öode
 *proc_inode);

41 
vnode
 *
¥oc_£t_vnode
(vnodê*vnode, vnodê*
∑ª¡_vnode
, 
¥oc_öode
 *proc_inode);

42 
¥oc_pid_ls
();

44 
¥oc_pid_cd
(*
dú«me
);

	@kernel/include/filesys/ssufs.h

1 #i‚de‡
__SSUFS_H__


2 
	#__SSUFS_H__


	)

4 
	~<fûesys/vnode.h
>

5 
	~<ty≥.h
>

7 
	#VOLNAME_LEN
 16

	)

8 
	#SSU_SB_MAGIC
 0x19950404

	)

9 
	#SSU_BLOCK_SIZE
 4096

	)

11 
	#SECTORCOUNT
(
dev
Ë(
SSU_BLOCK_SIZE
 / dev->
blk_size
)

	)

13 
	#NUM_INODE_BLOCK
 4

	)

14 
	#NUM_INODE
 (
NUM_INODE_BLOCK
*
SSU_BLOCK_SIZE
/(
ssufs_öode
))

	)

15 
	#NUM_DIRECT
 10

	)

16 
	#INODE_PER_BLOCK
 (()(
SSU_BLOCK_SIZE
/(
ssufs_öode
)))

	)

17 
	#INODE_ROOT
 2

	)

19 
	#SSU_REG_TYPE
 0

	)

20 
	#SSU_DIR_TYPE
 1

	)

22 
	#DEVOP_READ
(
dev
, 
£c
, 
buf
Ë(dev->
›s
->
	`ªad
(dev->
devi˚_öfo
, sec, buf))

	)

23 
	#DEVOP_WRITE
(
dev
, 
£c
, 
buf
Ë(dev->
›s
->
	`wrôe
(dev->
devi˚_öfo
, sec, buf))

	)

25 
	#SSU_BITMAP_BLOCK
(
su≥rblock
Ë(su≥rblock+1)

	)

26 
	#SSU_INODE_BLOCK
(
su≥rblock
Ë(su≥rblock+2)

	)

27 
	#SSU_DATA_BLOCK
(
su≥rblock
Ë(su≥rblock+6)

	)

29 
	#FILENAME_LEN
 56

	)

31 
	sssufs_su≥rblock
{

32 
uöt32_t
 
	msb_magic
;

33 
uöt32_t
 
	msb_nblocks
;

34 
	msb_vﬁ«me
[
VOLNAME_LEN
];

35 
blk_dev
 * 
	mblkdev
;

36 
bôm≠
 * 
	mblkm≠
;

37 
bôm≠
 * 
	möodem≠
;

38 
uöt32_t
 
	mlba
;

41 
	sssufs_öode
{

42 
uöt32_t
 
	mi_no
;

43 
uöt32_t
 
	mi_size
;

44 
uöt32_t
 
	mi_ty≥
;

45 
uöt32_t
 
	mi_ªfcou¡
;

46 
uöt32_t
 
	mi_∆ök
;

47 
ssufs_su≥rblock
* 
	mssufs_sb
;

48 
uöt32_t
 
	mi_dúe˘
[
NUM_DIRECT
];

51 
	sdúít
{

52 
uöt32_t
 
	md_öo
;

53 
uöt32_t
 
	md_ty≥
;

54 
	md_«me
[
FILENAME_LEN
];

57 
ssufs_öode
 
	gssufs_öode_èbÀ
[
NUM_INODE
];

59 
vnode
 *
öô_ssufs
(*
vﬁ«me
, 
uöt32_t
 
lba
, vnodê*
m¡_roŸ
);

60 
ssufs_ªadblock
(
ssufs_su≥rblock
 *
sb
, 
uöt32_t
 
blknum
, *
buf
);

61 
ssufs_wrôeblock
(
ssufs_su≥rblock
 *
sb
, 
uöt32_t
 
blknum
, *
buf
);

62 
ssufs_lﬂd_d©abôm≠block
(
ssufs_su≥rblock
 *
sb
);

63 
ssufs_lﬂd_öodebôm≠block
(
ssufs_su≥rblock
 *
sb
);

64 
ssufs_lﬂd_öodëabÀ
(
ssufs_su≥rblock
 *
sb
);

66 
ssufs_sync
(
ssufs_su≥rblock
 *
sb
);

67 
ssufs_öode_wrôe
(
ssufs_öode
 *
öode
, 
uöt32_t
 
off£t
, *
buf
, uöt32_à
Àn
);

68 
ssuf_öode_ªad
(
öode
 *öode, 
uöt32_t
 
off£t
, *
buf
, uöt32_à
Àn
);

69 
ssufs_öode
 *
öode_Æloc
(
uöt32_t
 
ty≥
);

71 
vnode
 *
make_vnode_åì
(
ssufs_su≥rblock
 *
sb
, vnodê*
m¡_roŸ
);

72 
£t_vnode
(
vnode
 *vnode, vnodê*
∑ª¡_vnode
, 
ssufs_öode
 *
öode
);

73 
gë_curde
(
ssufs_öode
 *
cwd
, 
dúít
 * 
de
);

74 
ssufs_mkdú
(*
dú«me
);

	@kernel/include/filesys/vnode.h

1 #i‚de‡
__VNODE_H__


2 
	#__VNODE_H__


	)

4 
	~<ty≥.h
>

5 
	~<li°.h
>

7 
	#NUM_VNODE
 256

	)

8 
	#LEN_VNODE_NAME
 64

	)

10 
	#REG_TYPE
 0

	)

11 
	#DIR_TYPE
 1

	)

13 
	svnode›
{

14 (*
	mmkdú
)(*);

15 (*
	mls
)();

16 (*
	mcd
)(*);

17 (* 
	mˇt
)(*);

20 
	svnode
 {

21 
uöt32_t
 
	mv_no
;

22 
uöt32_t
 
	mty≥
;

23 
vnode
 *
	mv_∑ª¡
;

24 
	mv_«me
[
LEN_VNODE_NAME
];

25 
vnode›
 
	mv_›
;

26 
li°
 
	mchûdli°
;

27 
li°_ñem
 
	mñem
;

28 *
	möfo
;

31 
vnode
 
	gvnode_èbÀ
[
NUM_VNODE
];

33 
vnode
 *
vnode_Æloc
();

34 
vnode_‰ì
(
vnode
 *vnode);

35 
vnode
 *
föd_vnode
(*
«me
);

36 
vnode
 *
c›y_vnode
(vnodê*
‹i_vnode
, vnodê*
des_vnode
);

	@kernel/include/interrupt.h

1 #i‚de‡
__INTERRUPT_H__


2 
	#__INTERRUPT_H__


	)

4 
	#HLT
(Ë
__asm__
 
	`__vﬁ©ûe
("h…");

	)

12 
	~<ty≥.h
>

15 
	eöå_Àvñ


17 
	mINTR_OFF
,

18 
	mINTR_ON


21 
öå_Àvñ
 
öå_gë_Àvñ
 ();

22 
öå_Àvñ
 
öå_£t_Àvñ
 (intr_level);

23 
öå_Àvñ
 
öå_íabÀ
 ();

24 
öå_Àvñ
 
öå_dißbÀ
 ();

26 #¥agm®
∑ck
(
push
, 1)

29 
	söå_‰ame


33 
uöt32_t
 
	medi
;

34 
uöt32_t
 
	mesi
;

35 
uöt32_t
 
	mebp
;

36 
uöt32_t
 
	me•_dummy
;

37 
uöt32_t
 
	mebx
;

38 
uöt32_t
 
	medx
;

39 
uöt32_t
 
	mecx
;

40 
uöt32_t
 
	móx
;

41 
uöt16_t
 
	mgs
, :16;

42 
uöt16_t
 
	mfs
, :16;

43 
uöt16_t
 
	mes
, :16;

44 
uöt16_t
 
	mds
, :16;

47 
uöt32_t
 
	mvec_no
;

52 
uöt32_t
 
	mîr‹_code
;

56 *
	m‰ame_poöãr
;

60 (*
	meù
) ();

61 
uöt16_t
 
	mcs
, :16;

62 
uöt32_t
 
	meÊags
;

63 *
	me•
;

64 
uöt16_t
 
	mss
, :16;

67 #¥agm®
∑ck
(
p›
)

69 
	töå_h™dÀr_func
 (
	töå_‰ame
 *);

70 
boﬁ
 
öå_c⁄ãxt
 ();

71 
do_sched_⁄_ªtu∫
();

75 
öô_öå
();

76 
ªg_h™dÀr
(
idx
, 
öå_h™dÀr_func
 *
h™dÀr
);

77 
gë_ticks
();

79 #i‚de‡
__ASSEMBLER__


	@kernel/include/intr-stubs.h

1 #i‚de‡
_INTR_STUBS_H_


2 
	#_INTR_STUBS_H_


	)

4 
	#INTR_MAX
 256

	)

17 
	töå_°ub_func
 ();

18 
öå_°ub_func
 *
öå_°ubs
[
INTR_MAX
];

21 
öå_exô
 ();

	@kernel/include/inttypes.h

1 #i‚de‡
__LIB_INTTYPES_H


2 
	#__LIB_INTTYPES_H


	)

4 
	~<°döt.h
>

6 
	#PRId8
 "hhd"

	)

7 
	#PRIi8
 "hhi"

	)

8 
	#PRIo8
 "hho"

	)

9 
	#PRIu8
 "hhu"

	)

10 
	#PRIx8
 "hhx"

	)

11 
	#PRIX8
 "hhX"

	)

13 
	#PRId16
 "hd"

	)

14 
	#PRIi16
 "hi"

	)

15 
	#PRIo16
 "ho"

	)

16 
	#PRIu16
 "hu"

	)

17 
	#PRIx16
 "hx"

	)

18 
	#PRIX16
 "hX"

	)

20 
	#PRId32
 "d"

	)

21 
	#PRIi32
 "i"

	)

22 
	#PRIo32
 "o"

	)

23 
	#PRIu32
 "u"

	)

24 
	#PRIx32
 "x"

	)

25 
	#PRIX32
 "X"

	)

27 
	#PRId64
 "Œd"

	)

28 
	#PRIi64
 "Œi"

	)

29 
	#PRIo64
 "Œo"

	)

30 
	#PRIu64
 "Œu"

	)

31 
	#PRIx64
 "Œx"

	)

32 
	#PRIX64
 "ŒX"

	)

34 
	#PRIdMAX
 "jd"

	)

35 
	#PRIiMAX
 "ji"

	)

36 
	#PRIoMAX
 "jo"

	)

37 
	#PRIuMAX
 "ju"

	)

38 
	#PRIxMAX
 "jx"

	)

39 
	#PRIXMAX
 "jX"

	)

41 
	#PRIdPTR
 "td"

	)

42 
	#PRIiPTR
 "ti"

	)

43 
	#PRIoPTR
 "to"

	)

44 
	#PRIuPTR
 "tu"

	)

45 
	#PRIxPTR
 "tx"

	)

46 
	#PRIXPTR
 "tX"

	)

	@kernel/include/limits.h

1 #i‚de‡
__LIMITS_H__


2 
	#__LIMITS_H__


	)

4 
	#CHAR_BIT
 8

	)

6 
	#SCHAR_MAX
 127

	)

7 
	#SCHAR_MIN
 (-
SCHAR_MAX
 - 1)

	)

8 
	#UCHAR_MAX
 255

	)

10 #ifde‡
__CHAR_UNSIGNED__


11 
	#CHAR_MIN
 0

	)

12 
	#CHAR_MAX
 
UCHAR_MAX


	)

14 
	#CHAR_MIN
 
SCHAR_MIN


	)

15 
	#CHAR_MAX
 
SCHAR_MAX


	)

18 
	#SHRT_MAX
 32767

	)

19 
	#SHRT_MIN
 (-
SHRT_MAX
 - 1)

	)

20 
	#USHRT_MAX
 65535

	)

22 
	#INT_MAX
 2147483647

	)

23 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

24 
	#UINT_MAX
 4294967295U

	)

26 
	#LONG_MAX
 2147483647L

	)

27 
	#LONG_MIN
 (-
LONG_MAX
 - 1)

	)

28 
	#ULONG_MAX
 4294967295UL

	)

30 
	#LLONG_MAX
 9223372036854775807LL

	)

31 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1)

	)

32 
	#ULLONG_MAX
 18446744073709551615ULL

	)

	@kernel/include/list.h

1 #i‚de‡
__LIST_H__


2 
	#__LIST_H__


	)

85 
	~<ssulib.h
>

86 
	~<ty≥.h
>

89 
	sli°_ñem


91 
li°_ñem
 *
	m¥ev
;

92 
li°_ñem
 *
	m√xt
;

96 
	sli°


98 
li°_ñem
 
	mhód
;

99 
li°_ñem
 
	mèû
;

107 
	#li°_íåy
(
LIST_ELEM
, 
STRUCT
, 
MEMBER
) \

108 ((
STRUCT
 *Ë((
uöt8_t
 *Ë&(
LIST_ELEM
)->
√xt
 \

109 - 
	`off£tof
 (
STRUCT
, 
MEMBER
.
√xt
)))

	)

121 
	#LIST_INITIALIZER
(
NAME
Ë{ { 
NULL
, &(NAME).
èû
 }, \

122 { &(
NAME
).
hód
, 
NULL
 } }

	)

124 
li°_öô
 (
li°
 *);

127 
li°_ñem
 *
li°_begö
 (
li°
 *);

128 
li°_ñem
 *
li°_√xt
 (list_elem *);

129 
li°_ñem
 *
li°_íd
 (
li°
 *);

131 
li°_ñem
 *
li°_rbegö
 (
li°
 *);

132 
li°_ñem
 *
li°_¥ev
 (list_elem *);

133 
li°_ñem
 *
li°_ªnd
 (
li°
 *);

135 
li°_ñem
 *
li°_hód
 (
li°
 *);

136 
li°_ñem
 *
li°_èû
 (
li°
 *);

139 
li°_ö£π
 (
li°_ñem
 *, list_elem *);

140 
li°_•li˚
 (
li°_ñem
 *
bef‹e
,

141 
li°_ñem
 *
fú°
, li°_ñem *
œ°
);

142 
li°_push_‰⁄t
 (
li°
 *, 
li°_ñem
 *);

143 
li°_push_back
 (
li°
 *, 
li°_ñem
 *);

146 
li°_ñem
 *
li°_ªmove
 (list_elem *);

147 
li°_ñem
 *
li°_p›_‰⁄t
 (
li°
 *);

148 
li°_ñem
 *
li°_p›_back
 (
li°
 *);

151 
li°_ñem
 *
li°_‰⁄t
 (
li°
 *);

152 
li°_ñem
 *
li°_back
 (
li°
 *);

155 
size_t
 
li°_size
 (
li°
 *);

156 
boﬁ
 
li°_em±y
 (
li°
 *);

159 
li°_ªvî£
 (
li°
 *);

164 
boﬁ
 
	tli°_Àss_func
 (c⁄° 
	tli°_ñem
 *
	ta
,

165 c⁄° 
	tli°_ñem
 *
	tb
,

166 *
	taux
);

169 
li°_s‹t
 (
li°
 *,

170 
li°_Àss_func
 *, *
aux
);

171 
li°_ö£π_‹dîed
 (
li°
 *, 
li°_ñem
 *,

172 
li°_Àss_func
 *, *
aux
);

173 
li°_unique
 (
li°
 *, li° *
du∂iˇãs
,

174 
li°_Àss_func
 *, *
aux
);

177 
li°_ñem
 *
li°_max
 (
li°
 *, 
li°_Àss_func
 *, *
aux
);

178 
li°_ñem
 *
li°_mö
 (
li°
 *, 
li°_Àss_func
 *, *
aux
);

	@kernel/include/loader.h

1 #i‚de‡
THREADS_LOADER_H


2 
	#THREADS_LOADER_H


	)

5 
	#LOADER_BASE
 0x7c00

	)

6 
	#LOADER_END
 0x7e00

	)

9 
	#LOADER_KERN_BASE
 0x20000

	)

13 
	#LOADER_PHYS_BASE
 0xc0000000

	)

16 
	#LOADER_SIG
 (
LOADER_END
 - 
LOADER_SIG_LEN
Ë

	)

17 
	#LOADER_PARTS
 (
LOADER_SIG
 - 
LOADER_PARTS_LEN
Ë

	)

18 
	#LOADER_ARGS
 (
LOADER_PARTS
 - 
LOADER_ARGS_LEN
Ë

	)

19 
	#LOADER_ARG_CNT
 (
LOADER_ARGS
 - 
LOADER_ARG_CNT_LEN
Ë

	)

22 
	#LOADER_SIG_LEN
 2

	)

23 
	#LOADER_PARTS_LEN
 64

	)

24 
	#LOADER_ARGS_LEN
 128

	)

25 
	#LOADER_ARG_CNT_LEN
 4

	)

29 
	#SEL_NULL
 0x00

	)

30 
	#SEL_KCSEG
 0x08

	)

31 
	#SEL_KDSEG
 0x10

	)

33 #i‚de‡
__ASSEMBLER__


34 
	~<°döt.h
>

37 
uöt32_t
 
öô_øm_∑ges
;

	@kernel/include/mem/malloc.h

1 #i‚def 
__MALLOC_H__


2 
	#__MALLOC_H__


	)

5 * 
mÆloc
(
size
);

6 
‰ì
(* 
buf
);

	@kernel/include/mem/mm.h

1 #i‚def 
__MEM_H__


2 
	#__MEM_H__


	)

4 
mem_size
();

5 
dëe˘_mem
();

6 * 
mem£t
(* 
d°_
, 
vÆue
, 
size
);

	@kernel/include/mem/paging.h

1 #i‚de‡
__PAGING_H__


2 
	#__PAGING_H__


	)

4 
	~<ty≥.h
>

5 
	~<¥oc/¥oc.h
>

7 
	#CR0_FLAG_PG
 0x80000000

8 
	#CR0_FLAG_PE
 0x00000001

9 

	)

10 
	#PAGE_FLAG_PRESENT
 0x01

11 
	#PAGE_FLAG_RW
 0x02

12 
	#PAGE_FLAG_USER
 0x04

13 
	#PAGE_FLAG_WRITE
 0x08

14 
	#PAGE_FLAG_CACHE
 0x10

15 
	#PAGE_FLAG_ACCESS
 0x20

16 
	#PAGE_FLAG_AVAIL
 0x40

17 
	#PAGE_FLAG_DIRTY
 0x40

18 
	#PAGE_FLAG_SIZE
 0x80

19 
	#PAGE_FLAG_PTA
 0x80

20 
	#PAGE_FLAG_GLOB
 0x100

21 
	#PAGE_ADDR_AVAIL
 0x200

22 
	#PAGE_ADDR_BASE
 0x1000

23 

	)

24 
	#PAGE_MASK_BASE
 0xFFFFF000

25 
	#PAGE_MASK_PDE
 0xFFC00000

26 
	#PAGE_MASK_PTE
 0x003FF000

27 
	#PAGE_OFFSET_PDE
 22

28 
	#PAGE_OFFSET_PTE
 12

29 

	)

30 
	#PAGE_SIZE
 4096

31 
	#PAGE_TBL_SIZE
 4096

32 
	#PAGE_DIR_SIZE
 4096

33 

	)

34 
	#KERNEL_ADDR
 0x00100000

	)

35 
	#KERNEL_HEAP
 0x00400000

	)

37 
ölöe
 
uöt32_t
 
	$pg_no
(c⁄° 
uöt32_t
 *
∑ge
){

38  (
uöt32_t
)
∑ge
 >> 
PAGE_OFFSET_PTE
;

39 
	}
}

41 
öô_∑gög
();

42 
uöt32_t
* 
pd_¸óã
 (
pid_t
 
pid
);

43 
uöt32_t
 
pde_idx_addr
(uöt32_t* 
addr
);

44 
uöt32_t
 
±e_idx_addr
(uöt32_t* 
addr
);

	@kernel/include/mem/palloc.h

1 #i‚de‡
__PALLOC_H__


2 
	#__PALLOC_H__


	)

4 
	~<ssulib.h
>

6 
öô_∑Œoc
 ();

7 
uöt32_t
 *
∑Œoc_gë_∑ge
 ();

8 
uöt32_t
 *
∑Œoc_gë_mu…ùÀ
 (
size_t
 
∑ge_˙t
);

9 
∑Œoc_‰ì_∑ge
 (*);

10 
∑Œoc_‰ì_mu…ùÀ
 (*, 
size_t
 
∑ge_˙t
);

	@kernel/include/packed.h

1 #i‚de‡
__LIB_PACKED_H


2 
	#__LIB_PACKED_H


	)

8 
	#PACKED
 
	`__©åibuã__
 ((
∑cked
))

	)

	@kernel/include/proc/proc.h

1 #i‚def 
__PROC_H__


2 
	#__PROC_H__


	)

4 
	~<li°.h
>

5 
	~<fûesys/vnode.h
>

7 
	tpid_t
;

9 
	ep_°©e
 {

10 
	mPROC_UNUSED
,

11 
	mPROC_RUN
,

12 
	mPROC_STOP
,

13 
	mPROC_ZOMBIE
,

14 
	mPROC_BLOCK
,

17 #¥agm®
∑ck
(
push
, 1)

19 
	s¥oc_›ti⁄


21 
	m¥i‹ôy
;

24 
	s¥o˚ss


26 
pid_t
 
	mpid
;

27 *
	m°ack
;

28 *
	mpd
;

29 
p_°©e
 
	m°©e
;

30 
	mtime_¶ìp
;

32 
	m¥i‹ôy
;

33 
	mtime_¶i˚
;

35 
li°_ñem
 
	mñem_Æl
;

36 
li°_ñem
 
	mñem_°©
;

38 
	mtime_u£d
;

39 
	mtime_sched
;

40 
¥o˚ss
* 
	m∑ª¡
;

41 
	msim∂e_lock
;

42 
	mchûd_pid
;

43 
	mexô_°©us
;

45 
vnode
 *
	mroŸdú
;

46 
vnode
 *
	mcwd
;

54 #¥agm®
∑ck
(
p›
)

56 
¥o˚ss
 *
cur_¥o˚ss
;

58 
	t¥oc_func
(* 
	taux
);

59 
¥oc_func
 
	g¥öt_pid
;

60 
¥oc_func
 
	gidÀ
;

62 
scheduÀ
();

64 
öô_¥oc
();

65 
¥oc_‰ì
();

67 
pid_t
 
¥oc_¸óã
(
¥oc_func
 
func
, 
¥oc_›ti⁄
 *
¥i‹ôy
, * 
aux
);

68 
¥oc_wake
();

69 
¥oc_¶ìp
(
ticks
);

70 
¥oc_block
();

71 
¥oc_unblock
(
¥o˚ss
* 
¥oc
);

73 
¥oc_¥öt_d©a
();

75 
¥o˚ss
 *
gë_¥o˚ss
(
pid_t
 
pid
);

	@kernel/include/proc/sched.h

1 #i‚def 
__SCHED_H__


2 
	#__SCHED_H__


	)

4 
	~<li°.h
>

5 
	~<¥oc/¥oc.h
>

7 
scheduÀ
();

	@kernel/include/proc/switch.h

1 #i‚de‡
_SWITCH_H_


2 
	#_SWITCH_H_


	)

4 
	~<¥oc/¥oc.h
>

5 
	~<ty≥.h
>

7 
swôch_¥o˚ss
(
¥o˚ss
 *
cur
, ¥o˚s†*
√xt
);

	@kernel/include/round.h

1 #i‚de‡
__LIB_ROUND_H


2 
	#__LIB_ROUND_H


	)

6 
	#ROUND_UP
(
X
, 
STEP
Ë(((XË+ (STEPË- 1Ë/ (STEPË* (STEP))

	)

10 
	#DIV_ROUND_UP
(
X
, 
STEP
Ë(((XË+ (STEPË- 1Ë/ (STEP))

	)

14 
	#ROUND_DOWN
(
X
, 
STEP
Ë((XË/ (STEPË* (STEP))

	)

	@kernel/include/ssulib.h

1 #i‚de‡
__SSULIB_H__


2 
	#__SSULIB_H__


	)

4 
	~<ty≥.h
>

5 
	#off£tof
(
TYPE
, 
MEMBER
Ë((
size_t
Ë&((TYPE *Ë0)->MEMBER)

	)

7 
	#BUFSIZ
 128

	)

9 
mem˝y
(* 
‰om
, * 
to
, 
uöt32_t
 
Àn
);

10 
°∫cmp
(* 
b1
, * 
b2
, 
Àn
);

11 
boﬁ
 
gëkbd
(*
buf
, 
Àn
);

12 
gëTokí
(* 
buf
, 
tok
[][
BUFSIZ
], 
max
);

	@kernel/include/stdarg.h

1 #i‚de‡
__STDARG_H__


2 
	#__STDARG_H__


	)

4 *
	tva_li°
;

6 
	#_ADDRESSOF
(
v
Ë–&(vË)

	)

7 
	#_INTSIZEOF
(
n
Ë–(“Ë+ (Ë- 1Ë& ~((Ë- 1Ë)

	)

9 
	#va_°¨t
(
≠
,
v
Ë–≠ = (
va_li°
)
	`_ADDRESSOF
(vË+ 
	`_INTSIZEOF
(vË)

	)

10 
	#va_¨g
(
≠
,
t
Ë–*— *)(◊∞+
	`_INTSIZEOF
—)Ë- _INTSIZEOF—)Ë)

	)

11 
	#va_íd
(
≠
Ë–≠ = (
va_li°
)0 )

	)

13 
°æí
(c⁄° *
°rög
);

14 *
numbî
(* 
°r
, 
num
, 
ba£
, 
size
, 
¥ecisi⁄
, 
ty≥
);

15 
skù_©oi
(c⁄° **
s
);

16 
v•rötk
(*
buf
, c⁄° *
fmt
, 
va_li°
 
¨gs
);

	@kernel/include/stdbool.h

1 #i‚de‡
__LIB_STDBOOL_H


2 
	#__LIB_STDBOOL_H


	)

5 
	#åue
 1

	)

6 
	#Ál£
 0

	)

7 
	#__boﬁ_åue_Ál£_¨e_deföed
 1

	)

	@kernel/include/stddef.h

1 #i‚de‡
__LIB_STDDEF_H


2 
	#__LIB_STDDEF_H


	)

5 
	#off£tof
(
TYPE
, 
MEMBER
Ë((
size_t
Ë&((TYPE *Ë0)->MEMBER)

	)

10 
__PTRDIFF_TYPE__
 
	t±rdiff_t
;

11 
__SIZE_TYPE__
 
	tsize_t
;

	@kernel/include/stdint.h

1 #i‚de‡
__LIB_STDINT_H


2 
	#__LIB_STDINT_H


	)

4 sig√d 
	töt8_t
;

5 
	#INT8_MAX
 127

	)

6 
	#INT8_MIN
 (-
INT8_MAX
 - 1)

	)

8 sig√d 
	töt16_t
;

9 
	#INT16_MAX
 32767

	)

10 
	#INT16_MIN
 (-
INT16_MAX
 - 1)

	)

12 sig√d 
	töt32_t
;

13 
	#INT32_MAX
 2147483647

	)

14 
	#INT32_MIN
 (-
INT32_MAX
 - 1)

	)

16 sig√d 
	töt64_t
;

17 
	#INT64_MAX
 9223372036854775807LL

	)

18 
	#INT64_MIN
 (-
INT64_MAX
 - 1)

	)

20 
	tuöt8_t
;

21 
	#UINT8_MAX
 255

	)

23 
	tuöt16_t
;

24 
	#UINT16_MAX
 65535

	)

26 
	tuöt32_t
;

27 
	#UINT32_MAX
 4294967295U

	)

29 
	tuöt64_t
;

30 
	#UINT64_MAX
 18446744073709551615ULL

	)

32 
öt32_t
 
	töçå_t
;

33 
	#INTPTR_MIN
 
INT32_MIN


	)

34 
	#INTPTR_MAX
 
INT32_MAX


	)

36 
uöt32_t
 
	tuöçå_t
;

37 
	#UINTPTR_MAX
 
UINT32_MAX


	)

39 
öt64_t
 
	tötmax_t
;

40 
	#INTMAX_MIN
 
INT64_MIN


	)

41 
	#INTMAX_MAX
 
INT64_MAX


	)

43 
	tuötmax_t
;

44 
	#UINTMAX_MAX
 
UINT64_MAX


	)

46 
	#PTRDIFF_MIN
 
INT32_MIN


	)

47 
	#PTRDIFF_MAX
 
INT32_MAX


	)

49 
	#SIZE_MAX
 
UINT32_MAX


	)

	@kernel/include/stdio.h

1 #i‚de‡
__LIB_STDIO_H


2 
	#__LIB_STDIO_H


	)

4 
	~<debug.h
>

5 
	~<°d¨g.h
>

6 
	~<ty≥.h
>

7 
	~<°ddef.h
>

8 
	~<°döt.h
>

15 
	#STDIN_FILENO
 0

	)

16 
	#STDOUT_FILENO
 1

	)

19 
	$¥ötf
 (c⁄° *, ...Ë
	`PRINTF_FORMAT
 (1, 2);

20 
	$¢¥ötf
 (*, 
size_t
, c⁄° *, ...Ë
	`PRINTF_FORMAT
 (3, 4);

21 
	$v¥ötf
 (c⁄° *, 
va_li°
Ë
	`PRINTF_FORMAT
 (1, 0);

22 
	$v¢¥ötf
 (*, 
size_t
, c⁄° *, 
va_li°
Ë
	`PRINTF_FORMAT
 (3, 0);

23 
	`putch¨
 ();

24 
	`puts
 (const *);

27 
	`hex_dump
 (
uöçå_t
 
ofs
, c⁄° *, 
size_t
 
size
, 
boﬁ
 
ascii
);

28 
	`¥öt_hum™_ªadabÀ_size
 (
uöt64_t
 
sz
);

31 
	`__v¥ötf
 (c⁄° *
f‹m©
, 
va_li°
 
¨gs
,

32 (*
ouçut
Ë(, *), *
aux
);

33 
	`__¥ötf
 (c⁄° *
f‹m©
,

34 (*
ouçut
Ë(, *), *
aux
, ...);

37 
	#•rötf
 
d⁄t_u£_•rötf_u£_¢¥ötf


	)

38 
	#v•rötf
 
d⁄t_u£_v•rötf_u£_v¢¥ötf


	)

	@kernel/include/stdlib.h

1 #i‚de‡
__LIB_STDLIB_H


2 
	#__LIB_STDLIB_H


	)

4 
	~<°ddef.h
>

7 
©oi
 (const *);

8 
qs‹t
 (*
¨øy
, 
size_t
 
˙t
, size_à
size
,

9 (*
com∑ª
) (const *, const *));

10 *
	`b£¨ch
 (c⁄° *
key
, c⁄° *
¨øy
, 
size_t
 
˙t
,

11 
size_t
 
size
, (*
com∑ª
) (const *, const *));

14 
	`s‹t
 (*
¨øy
, 
size_t
 
˙t
, size_à
size
,

15 (*
com∑ª
Ë(c⁄° *, c⁄° *, *
aux
),

16 *
aux
);

17 *
	`bö¨y_£¨ch
 (c⁄° *
key
, c⁄° *
¨øy
, 
size_t
 
˙t
,

18 
size_t
 
size
,

19 (*
com∑ª
Ë(c⁄° *, c⁄° *, *
aux
),

20 *
aux
);

	@kernel/include/string.h

1 #i‚de‡
__LIB_STRING_H


2 
	#__LIB_STRING_H


	)

4 
	~<°ddef.h
>

8 *
memmove
 (*, c⁄° *, 
size_t
);

9 *
°∫ˇt
 (*, c⁄° *, 
size_t
);

10 
memcmp
 (c⁄° *, c⁄° *, 
size_t
);

11 
°rcmp
 (const *, const *);

12 *
memchr
 (c⁄° *, , 
size_t
);

13 *
°rchr
 (const *, );

14 
size_t
 
°rc•n
 (const *, const *);

15 *
°Ωbrk
 (const *, const *);

16 *
°ºchr
 (const *, );

17 
size_t
 
°r•n
 (const *, const *);

18 *
°r°r
 (const *, const *);

19 *
mem£t
 (*, , 
size_t
);

23 
size_t
 
°æ˝y
 (*, const *, size_t);

24 
size_t
 
°æˇt
 (*, const *, size_t);

25 *
°πok_r
 (*, const *, **);

26 
size_t
 
°∫Àn
 (const *, size_t);

29 
	#°r˝y
 
d⁄t_u£_°r˝y_u£_°æ˝y


	)

30 
	#°∫˝y
 
d⁄t_u£_°∫˝y_u£_°æ˝y


	)

31 
	#°rˇt
 
d⁄t_u£_°rˇt_u£_°æˇt


	)

32 
	#°∫ˇt
 
d⁄t_u£_°∫ˇt_u£_°æˇt


	)

33 
	#°πok
 
d⁄t_u£_°πok_u£_°πok_r


	)

	@kernel/include/synch.h

1 #i‚de‡
__SYNCH_H__


2 
	#__SYNCH_H__


	)

4 
	~<li°.h
>

5 
	~<ty≥.h
>

9 
	s£m≠h‹e


11 
	mvÆue
;

12 
li°
 
	mwaôîs
;

15 
£ma_öô
 (
£m≠h‹e
 *, 
vÆue
);

16 
£ma_down
 (
£m≠h‹e
 *);

17 
boﬁ
 
£ma_åy_down
 (
£m≠h‹e
 *);

18 
£ma_up
 (
£m≠h‹e
 *);

19 
£ma_£lf_ã°
 ();

22 
	slock


24 
¥o˚ss
 *
	mhﬁdî
;

25 
£m≠h‹e
 
	m£m≠h‹e
;

28 
lock_öô
 (
lock
 *);

29 
lock_acquúe
 (
lock
 *);

30 
boﬁ
 
lock_åy_acquúe
 (
lock
 *);

31 
lock_ªÀa£
 (
lock
 *);

32 
boﬁ
 
lock_hñd_by_cuºít_¥o˚ss
 (c⁄° 
lock
 *);

35 
	sc⁄dôi⁄


37 
li°
 
	mwaôîs
;

40 
c⁄d_öô
 (
c⁄dôi⁄
 *);

41 
c⁄d_waô
 (
c⁄dôi⁄
 *, 
lock
 *);

42 
c⁄d_sig«l
 (
c⁄dôi⁄
 *, 
lock
 *);

43 
c⁄d_brﬂdˇ°
 (
c⁄dôi⁄
 *, 
lock
 *);

50 
	#b¨rõr
(Ë
asm
 vﬁ©ûê("" : : : "mem‹y")

	)

	@kernel/include/syscall.h

1 #i‚de‡ 
__SYSCALL_H__


2 
	#__SYSCALL_H__


	)

4 
	eSYS_LIST
 {

5 
	mSYS_FORK
 = 0,

6 
	mSYS_EXIT
,

7 
	mSYS_WAIT
,

8 
	mSYS_SSUREAD
,

9 
	mSYS_SHUTDOWN
,

10 
	mSYS_NUM
,

13 
	~<¥oc/¥oc.h
>

14 
öô_sysˇŒ
();

16 
exô
(
°©us
);

17 
pid_t
 
f‹k
(
¥oc_func
 
func
, * 
aux
);

18 
pid_t
 
waô
(*
°©us
);

19 
ssuªad
();

20 
shutdown
();

22 
sysˇŒ_tbl
[
SYS_NUM
][2];

	@kernel/include/type.h

1 #i‚de‡
__TYPE_H__


2 
	#__TYPE_H__


	)

4 
	tBYTE
;

5 #i‚de‡
BOOL


6 
	tBOOL
;

8 
	tboﬁ
;

9 
	tsize_t
;

10 
	tqw‹d
;

12 
	#TRUE
 1

	)

13 
	#FALSE
 0

	)

15 #i‚de‡
NULL


16 
	#NULL
 0

	)

18 #i‚de‡
åue


19 
	#åue
 1

	)

21 #i‚de‡
Ál£


22 
	#Ál£
 0

	)

29 sig√d 
	töt8_t
;

30 
	#INT8_MAX
 127

	)

31 
	#INT8_MIN
 (-
INT8_MAX
 - 1)

	)

33 sig√d 
	töt16_t
;

34 
	#INT16_MAX
 32767

	)

35 
	#INT16_MIN
 (-
INT16_MAX
 - 1)

	)

37 sig√d 
	töt32_t
;

38 
	#INT32_MAX
 2147483647

	)

39 
	#INT32_MIN
 (-
INT32_MAX
 - 1)

	)

41 sig√d 
	töt64_t
;

42 
	#INT64_MAX
 9223372036854775807LL

	)

43 
	#INT64_MIN
 (-
INT64_MAX
 - 1)

	)

45 
	tuöt8_t
;

46 
	#UINT8_MAX
 255

	)

48 
	tuöt16_t
;

49 
	#UINT16_MAX
 65535

	)

51 
	tuöt32_t
;

52 
	#UINT32_MAX
 4294967295U

	)

54 
	tuöt64_t
;

55 
	#UINT64_MAX
 18446744073709551615ULL

	)

57 
öt32_t
 
	töçå_t
;

58 
	#INTPTR_MIN
 
INT32_MIN


	)

59 
	#INTPTR_MAX
 
INT32_MAX


	)

61 
uöt32_t
 
	tuöçå_t
;

62 
	#UINTPTR_MAX
 
UINT32_MAX


	)

64 
öt64_t
 
	tötmax_t
;

65 
	#INTMAX_MIN
 
INT64_MIN


	)

66 
	#INTMAX_MAX
 
INT64_MAX


	)

68 
	tuötmax_t
;

69 
	#UINTMAX_MAX
 
UINT64_MAX


	)

71 
	#PTRDIFF_MIN
 
INT32_MIN


	)

72 
	#PTRDIFF_MAX
 
INT32_MAX


	)

74 
	#SIZE_MAX
 
UINT32_MAX


	)

77 
uöt32_t
 
	ttime_t
;

	@kernel/include/vaddr.h

1 #i‚de‡
THREADS_VADDR_H


2 
	#THREADS_VADDR_H


	)

4 
	~<debug.h
>

5 
	~<°döt.h
>

6 
	~<°dboﬁ.h
>

8 
	~<lﬂdî.h
>

15 
	#BITMASK
(
SHIFT
, 
CNT
Ë(((1u»<< (CNT)Ë- 1Ë<< (SHIFT))

	)

18 
	#PGSHIFT
 0

	)

19 
	#PGBITS
 12

	)

20 
	#PGSIZE
 (1 << 
PGBITS
Ë

	)

21 
	#PGMASK
 
	`BITMASK
(
PGSHIFT
, 
PGBITS
Ë

	)

24 
ölöe
 
	$pg_ofs
 (c⁄° *
va
) {

25  (
uöçå_t
Ë
va
 & 
PGMASK
;

26 
	}
}

29 
ölöe
 
uöçå_t
 
	$pg_no
 (c⁄° *
va
) {

30  (
uöçå_t
Ë
va
 >> 
PGBITS
;

31 
	}
}

34 
ölöe
 *
	$pg_round_up
 (c⁄° *
va
) {

35  (*Ë(((
uöçå_t
Ë
va
 + 
PGSIZE
 - 1Ë& ~
PGMASK
);

36 
	}
}

39 
ölöe
 *
	$pg_round_down
 (c⁄° *
va
) {

40  (*Ë((
uöçå_t
Ë
va
 & ~
PGMASK
);

41 
	}
}

53 
	#PHYS_BASE
 ((*Ë
LOADER_PHYS_BASE
)

	)

56 
ölöe
 
boﬁ


57 
	$is_u£r_vaddr
 (c⁄° *
vaddr
)

59  
vaddr
 < 
PHYS_BASE
;

60 
	}
}

63 
ölöe
 
boﬁ


64 
	$is_kî√l_vaddr
 (c⁄° *
vaddr
)

66  
vaddr
 >
PHYS_BASE
;

67 
	}
}

71 
ölöe
 *

72 
	$±ov
 (
uöçå_t
 
∑ddr
)

74 
	`ASSERT
 ((*Ë
∑ddr
 < 
PHYS_BASE
);

76  (*Ë(
∑ddr
 + 
PHYS_BASE
);

77 
	}
}

81 
ölöe
 
uöçå_t


82 
	$vt›
 (c⁄° *
vaddr
)

84 
	`ASSERT
 (
	`is_kî√l_vaddr
 (
vaddr
));

86  (
uöçå_t
Ë
vaddr
 - (uöçå_tË
PHYS_BASE
;

87 
	}
}

	@kernel/list.c

1 
	~<li°.h
>

3 #i‚de‡
ASSERT


4 
	#ASSERT
(
COND
Ë;

	)

37 
boﬁ
 
is_s‹ãd
 (
li°_ñem
 *
a
, li°_ñem *
b
,

38 
li°_Àss_func
 *
Àss
, *
aux
);

41 
ölöe
 
boﬁ


42 
	$is_hód
 (
li°_ñem
 *
ñem
)

44  
ñem
 !
NULL
 &&ÉÀm->
¥ev
 =NULL &&ÉÀm->
√xt
 != NULL;

45 
	}
}

49 
ölöe
 
boﬁ


50 
	$is_öãri‹
 (
li°_ñem
 *
ñem
)

52  
ñem
 !
NULL
 &&ÉÀm->
¥ev
 !NULL &&ÉÀm->
√xt
 != NULL;

53 
	}
}

56 
ölöe
 
boﬁ


57 
	$is_èû
 (
li°_ñem
 *
ñem
)

59  
ñem
 !
NULL
 &&ÉÀm->
¥ev
 !NULL &&ÉÀm->
√xt
 == NULL;

60 
	}
}

64 
	$li°_öô
 (
li°
 *list)

66 
	`ASSERT
 (
li°
 !
NULL
);

67 
li°
->
hód
.
¥ev
 = 
NULL
;

68 
li°
->
hód
.
√xt
 = &li°->
èû
;

69 
li°
->
èû
.
¥ev
 = &li°->
hód
;

70 
li°
->
èû
.
√xt
 = 
NULL
;

71 
	}
}

74 
li°_ñem
 *

75 
	$li°_begö
 (
li°
 *list)

77 
	`ASSERT
 (
li°
 !
NULL
);

78  
li°
->
hód
.
√xt
;

79 
	}
}

84 
li°_ñem
 *

85 
	$li°_√xt
 (
li°_ñem
 *
ñem
)

87 
	`ASSERT
 (
	`is_hód
 (
ñem
Ë|| 
	`is_öãri‹
 (elem));

88  
ñem
->
√xt
;

89 
	}
}

96 
li°_ñem
 *

97 
	$li°_íd
 (
li°
 *list)

99 
	`ASSERT
 (
li°
 !
NULL
);

100  &
li°
->
èû
;

101 
	}
}

105 
li°_ñem
 *

106 
	$li°_rbegö
 (
li°
 *list)

108 
	`ASSERT
 (
li°
 !
NULL
);

109  
li°
->
èû
.
¥ev
;

110 
	}
}

115 
li°_ñem
 *

116 
	$li°_¥ev
 (
li°_ñem
 *
ñem
)

118 
	`ASSERT
 (
	`is_öãri‹
 (
ñem
Ë|| 
	`is_èû
 (elem));

119  
ñem
->
¥ev
;

120 
	}
}

135 
li°_ñem
 *

136 
	$li°_ªnd
 (
li°
 *list)

138 
	`ASSERT
 (
li°
 !
NULL
);

139  &
li°
->
hód
;

140 
	}
}

153 
li°_ñem
 *

154 
	$li°_hód
 (
li°
 *list)

156 
	`ASSERT
 (
li°
 !
NULL
);

157  &
li°
->
hód
;

158 
	}
}

161 
li°_ñem
 *

162 
	$li°_èû
 (
li°
 *list)

164 
	`ASSERT
 (
li°
 !
NULL
);

165  &
li°
->
èû
;

166 
	}
}

172 
	$li°_ö£π
 (
li°_ñem
 *
bef‹e
, li°_ñem *
ñem
)

174 
	`ASSERT
 (
	`is_öãri‹
 (
bef‹e
Ë|| 
	`is_èû
 (before));

175 
	`ASSERT
 (
ñem
 !
NULL
);

177 if(
ñem
->
¥ev
 !
NULL
)

178 
ñem
->
¥ev
->
√xt
 =Élem->next;

179 if(
ñem
->
√xt
 !
NULL
)

180 
ñem
->
√xt
->
¥ev
 =Élem->prev;

182 
ñem
->
¥ev
 = 
bef‹e
->prev;

183 
ñem
->
√xt
 = 
bef‹e
;

184 
bef‹e
->
¥ev
->
√xt
 = 
ñem
;

185 
bef‹e
->
¥ev
 = 
ñem
;

186 
	}
}

192 
	$li°_•li˚
 (
li°_ñem
 *
bef‹e
,

193 
li°_ñem
 *
fú°
, li°_ñem *
œ°
)

195 
	`ASSERT
 (
	`is_öãri‹
 (
bef‹e
Ë|| 
	`is_èû
 (before));

196 i‡(
fú°
 =
œ°
)

198 
œ°
 = 
	`li°_¥ev
 (last);

200 
	`ASSERT
 (
	`is_öãri‹
 (
fú°
));

201 
	`ASSERT
 (
	`is_öãri‹
 (
œ°
));

204 
fú°
->
¥ev
->
√xt
 = 
œ°
->next;

205 
œ°
->
√xt
->
¥ev
 = 
fú°
->prev;

208 
fú°
->
¥ev
 = 
bef‹e
->prev;

209 
œ°
->
√xt
 = 
bef‹e
;

210 
bef‹e
->
¥ev
->
√xt
 = 
fú°
;

211 
bef‹e
->
¥ev
 = 
œ°
;

212 
	}
}

217 
	$li°_push_‰⁄t
 (
li°
 *li°, 
li°_ñem
 *
ñem
)

219 
	`li°_ö£π
 (
	`li°_begö
 (
li°
), 
ñem
);

220 
	}
}

225 
	$li°_push_back
 (
li°
 *li°, 
li°_ñem
 *
ñem
)

227 
	`li°_ö£π
 (
	`li°_íd
 (
li°
), 
ñem
);

228 
	}
}

256 
li°_ñem
 *

257 
	$li°_ªmove
 (
li°_ñem
 *
ñem
)

259 
	`ASSERT
 (
	`is_öãri‹
 (
ñem
));

260 
ñem
->
¥ev
->
√xt
 =Élem->next;

261 
ñem
->
√xt
->
¥ev
 =Élem->prev;

262  
ñem
->
√xt
;

263 
	}
}

267 
li°_ñem
 *

268 
	$li°_p›_‰⁄t
 (
li°
 *list)

270 
li°_ñem
 *
‰⁄t
 = 
	`li°_‰⁄t
 (
li°
);

271 
	`li°_ªmove
 (
‰⁄t
);

272  
‰⁄t
;

273 
	}
}

277 
li°_ñem
 *

278 
	$li°_p›_back
 (
li°
 *list)

280 
li°_ñem
 *
back
 = 
	`li°_back
 (
li°
);

281 
	`li°_ªmove
 (
back
);

282  
back
;

283 
	}
}

287 
li°_ñem
 *

288 
	$li°_‰⁄t
 (
li°
 *list)

290 
	`ASSERT
 (!
	`li°_em±y
 (
li°
));

291  
li°
->
hód
.
√xt
;

292 
	}
}

296 
li°_ñem
 *

297 
	$li°_back
 (
li°
 *list)

299 
	`ASSERT
 (!
	`li°_em±y
 (
li°
));

300  
li°
->
èû
.
¥ev
;

301 
	}
}

305 
size_t


306 
	$li°_size
 (
li°
 *list)

308 
li°_ñem
 *
e
;

309 
size_t
 
˙t
 = 0;

311 
e
 = 
	`li°_begö
 (
li°
);É !
	`li°_íd
 (li°);É = 
	`li°_√xt
 (e))

312 
˙t
++;

313  
˙t
;

314 
	}
}

317 
boﬁ


318 
	$li°_em±y
 (
li°
 *list)

320  
	`li°_begö
 (
li°
Ë=
	`li°_íd
 (list);

321 
	}
}

325 
	$sw≠
 (
li°_ñem
 **
a
, li°_ñem **
b
)

327 
li°_ñem
 *
t
 = *
a
;

328 *
a
 = *
b
;

329 *
b
 = 
t
;

330 
	}
}

334 
	$li°_ªvî£
 (
li°
 *list)

336 i‡(!
	`li°_em±y
 (
li°
))

338 
li°_ñem
 *
e
;

340 
e
 = 
	`li°_begö
 (
li°
);É !
	`li°_íd
 (li°);É =É->
¥ev
)

341 
	`sw≠
 (&
e
->
¥ev
, &e->
√xt
);

342 
	`sw≠
 (&
li°
->
hód
.
√xt
, &li°->
èû
.
¥ev
);

343 
	`sw≠
 (&
li°
->
hód
.
√xt
->
¥ev
, &li°->
èû
.prev->next);

345 
	}
}

349 
boﬁ


350 
	$is_s‹ãd
 (
li°_ñem
 *
a
, li°_ñem *
b
,

351 
li°_Àss_func
 *
Àss
, *
aux
)

353 i‡(
a
 !
b
)

354 (
a
 = 
	`li°_√xt
 (a)Ë!
b
)

355 i‡(
	`Àss
 (
a
, 
	`li°_¥ev
 (a), 
aux
))

356  
Ál£
;

357  
åue
;

358 
	}
}

365 
li°_ñem
 *

366 
	$föd_íd_of_run
 (
li°_ñem
 *
a
, li°_ñem *
b
,

367 
li°_Àss_func
 *
Àss
, *
aux
)

369 
	`ASSERT
 (
a
 !
NULL
);

370 
	`ASSERT
 (
b
 !
NULL
);

371 
	`ASSERT
 (
Àss
 !
NULL
);

372 
	`ASSERT
 (
a
 !
b
);

376 
a
 = 
	`li°_√xt
 (a);

378 
a
 !
b
 && !
	`Àss
 (a, 
	`li°_¥ev
 (a), 
aux
));

379  
a
;

380 
	}
}

388 
	$ö∂a˚_mîge
 (
li°_ñem
 *
a0
, li°_ñem *
a1b0
,

389 
li°_ñem
 *
b1
,

390 
li°_Àss_func
 *
Àss
, *
aux
)

392 
	`ASSERT
 (
a0
 !
NULL
);

393 
	`ASSERT
 (
a1b0
 !
NULL
);

394 
	`ASSERT
 (
b1
 !
NULL
);

395 
	`ASSERT
 (
Àss
 !
NULL
);

396 
	`ASSERT
 (
	`is_s‹ãd
 (
a0
, 
a1b0
, 
Àss
, 
aux
));

397 
	`ASSERT
 (
	`is_s‹ãd
 (
a1b0
, 
b1
, 
Àss
, 
aux
));

399 
a0
 !
a1b0
 &&á1b0 !
b1
)

400 i‡(!
	`Àss
 (
a1b0
, 
a0
, 
aux
))

401 
a0
 = 
	`li°_√xt
 (a0);

404 
a1b0
 = 
	`li°_√xt
 (a1b0);

405 
	`li°_•li˚
 (
a0
, 
	`li°_¥ev
 (
a1b0
),á1b0);

407 
	}
}

413 
	$li°_s‹t
 (
li°
 *li°, 
li°_Àss_func
 *
Àss
, *
aux
)

415 
size_t
 
ouçut_run_˙t
;

417 
	`ASSERT
 (
li°
 !
NULL
);

418 
	`ASSERT
 (
Àss
 !
NULL
);

424 
li°_ñem
 *
a0
;

425 
li°_ñem
 *
a1b0
;

426 
li°_ñem
 *
b1
;

428 
ouçut_run_˙t
 = 0;

429 
a0
 = 
	`li°_begö
 (
li°
);á0 !
	`li°_íd
 (li°);á0 = 
b1
)

432 
ouçut_run_˙t
++;

436 
a1b0
 = 
	`föd_íd_of_run
 (
a0
, 
	`li°_íd
 (
li°
), 
Àss
, 
aux
);

437 i‡(
a1b0
 =
	`li°_íd
 (
li°
))

439 
b1
 = 
	`föd_íd_of_run
 (
a1b0
, 
	`li°_íd
 (
li°
), 
Àss
, 
aux
);

442 
	`ö∂a˚_mîge
 (
a0
, 
a1b0
, 
b1
, 
Àss
, 
aux
);

445 
ouçut_run_˙t
 > 1);

447 
	`ASSERT
 (
	`is_s‹ãd
 (
	`li°_begö
 (
li°
), 
	`li°_íd
 (li°), 
Àss
, 
aux
));

448 
	}
}

454 
	$li°_ö£π_‹dîed
 (
li°
 *li°, 
li°_ñem
 *
ñem
,

455 
li°_Àss_func
 *
Àss
, *
aux
)

457 
li°_ñem
 *
e
;

459 
	`ASSERT
 (
li°
 !
NULL
);

460 
	`ASSERT
 (
ñem
 !
NULL
);

461 
	`ASSERT
 (
Àss
 !
NULL
);

463 
e
 = 
	`li°_begö
 (
li°
);É !
	`li°_íd
 (li°);É = 
	`li°_√xt
 (e))

464 i‡(
	`Àss
 (
ñem
, 
e
, 
aux
))

466  
	`li°_ö£π
 (
e
, 
ñem
);

467 
	}
}

474 
	$li°_unique
 (
li°
 *li°, li° *
du∂iˇãs
,

475 
li°_Àss_func
 *
Àss
, *
aux
)

477 
li°_ñem
 *
ñem
, *
√xt
;

479 
	`ASSERT
 (
li°
 !
NULL
);

480 
	`ASSERT
 (
Àss
 !
NULL
);

481 i‡(
	`li°_em±y
 (
li°
))

484 
ñem
 = 
	`li°_begö
 (
li°
);

485 (
√xt
 = 
	`li°_√xt
 (
ñem
)Ë!
	`li°_íd
 (
li°
))

486 i‡(!
	`Àss
 (
ñem
, 
√xt
, 
aux
) && !less (next,Élem,áux))

488 
	`li°_ªmove
 (
√xt
);

489 i‡(
du∂iˇãs
 !
NULL
)

490 
	`li°_push_back
 (
du∂iˇãs
, 
√xt
);

493 
ñem
 = 
√xt
;

494 
	}
}

500 
li°_ñem
 *

501 
	$li°_max
 (
li°
 *li°, 
li°_Àss_func
 *
Àss
, *
aux
)

503 
li°_ñem
 *
max
 = 
	`li°_begö
 (
li°
);

504 i‡(
max
 !
	`li°_íd
 (
li°
))

506 
li°_ñem
 *
e
;

508 
e
 = 
	`li°_√xt
 (
max
);É !
	`li°_íd
 (
li°
);É =Üist_next (e))

509 i‡(
	`Àss
 (
max
, 
e
, 
aux
))

510 
max
 = 
e
;

512  
max
;

513 
	}
}

519 
li°_ñem
 *

520 
	$li°_mö
 (
li°
 *li°, 
li°_Àss_func
 *
Àss
, *
aux
)

522 
li°_ñem
 *
mö
 = 
	`li°_begö
 (
li°
);

523 i‡(
mö
 !
	`li°_íd
 (
li°
))

525 
li°_ñem
 *
e
;

527 
e
 = 
	`li°_√xt
 (
mö
);É !
	`li°_íd
 (
li°
);É =Üist_next (e))

528 i‡(
	`Àss
 (
e
, 
mö
, 
aux
))

529 
mö
 = 
e
;

531  
mö
;

532 
	}
}

	@kernel/mem/malloc.c

	@kernel/mem/mm.c

1 
	~<mem/mm.h
>

3 
gëMemSize
();

4 
nGëMemSize
();

6 
	gMEM_SIZE
;

8 
	$dëe˘_mem
()

10 
MEM_SIZE
 = 
	`nGëMemSize
();

12 
	}
}

14 
	$nGëMemSize
()

16 *
pAddr
 = (*)0x20000;

17 
tmp
;

19 
pAddr
 += (4*1024*1024);

20 
tmp
 = *
pAddr
;

21 *
pAddr
 = 0x12345678;

22 if(*
pAddr
 != 0x12345678) {

23 
pAddr
 -= (4*1024*1024);

25 
pAddr
 += (4*1024);

26 
tmp
 = *
pAddr
;

27 *
pAddr
 = 0x87654321;

28 if(*
pAddr
 != 0x87654321)

30 *
pAddr
 = 
tmp
;

34 *
pAddr
 = 
tmp
;

37  ()
pAddr
;

38 
	}
}

40 
	$mem_size
()

42  
MEM_SIZE
;

43 
	}
}

	@kernel/mem/paging.c

1 
	~<devi˚/io.h
>

2 
	~<mem/mm.h
>

3 
	~<mem/∑gög.h
>

4 
	~<devi˚/c⁄sﬁe.h
>

5 
	~<¥oc/¥oc.h
>

6 
	~<öãºu±.h
>

7 
	~<mem/∑Œoc.h
>

8 
	~<ssulib.h
>

10 
uöt32_t
 *
	gPID0_PAGE_DIR
;

12 
öå_h™dÀr_func
 
	gpf_h™dÀr
;

14 
uöt32_t
 
	$sˇÀ_up
(
uöt32_t
 
ba£
, uöt32_à
size
)

16 
uöt32_t
 
mask
 = ~(
size
-1);

17 if(
ba£
 & 
mask
 != 0)

18 
ba£
 = ba£ & 
mask
 + 
size
;

19  
ba£
;

20 
	}
}

22 
uöt32_t
 
	$sˇÀ_down
(
uöt32_t
 
ba£
, uöt32_à
size
)

24 
uöt32_t
 
mask
 = ~(
size
-1);

25 if(
ba£
 & 
mask
 != 0)

26 
ba£
 = ba£ & 
mask
 - 
size
;

27  
ba£
;

28 
	}
}

30 
	$öô_∑gög
()

32 
uöt32_t
 *
∑ge_dú
 = 
	`∑Œoc_gë_∑ge
();

33 
uöt32_t
 *
∑ge_tbl
 = 
	`∑Œoc_gë_∑ge
();

34 
PID0_PAGE_DIR
 = 
∑ge_dú
;

36 
NUM_PT
, 
NUM_PE
;

37 
uöt32_t
 
¸0_∑gög_£t
;

38 
i
;

40 
NUM_PE
 = 
	`mem_size
(Ë/ 
PAGE_SIZE
;

41 
NUM_PT
 = 
NUM_PE
 / 1024;

43 
	`¥ötk
("-PE=%d, PT=%d\n", 
NUM_PE
, 
NUM_PT
);

44 
	`¥ötk
("-∑gêdú=%xÖagêtbl=%x\n", 
∑ge_dú
, 
∑ge_tbl
);

46 
∑ge_dú
[0] = (
uöt32_t
)
∑ge_tbl
 | 
PAGE_FLAG_RW
 | 
PAGE_FLAG_PRESENT
;

49 
NUM_PE
 = 
KERNEL_HEAP
 / 
PAGE_SIZE
;

50  
i
 = 0; i < 
NUM_PE
; i++ ) {

51 
∑ge_tbl
[
i
] = (
PAGE_SIZE
 * i)

52 | 
PAGE_FLAG_RW


53 | 
PAGE_FLAG_PRESENT
;

57 
¸0_∑gög_£t
 = 
	`ªad_¸0
(Ë| 
CR0_FLAG_PG
;

59 
	`wrôe_¸3
–()
∑ge_dú
 );

60 
	`wrôe_¸0
–
¸0_∑gög_£t
 );

62 
	`ªg_h™dÀr
(14, 
pf_h™dÀr
);

63 
	}
}

65 
	$mem˝y_h¨d
(* 
‰om
, * 
to
, 
uöt32_t
 
Àn
)

67 
	`wrôe_¸0
–
	`ªad_¸0
(Ë& ~
CR0_FLAG_PG
);

69 
	`mem˝y
(
‰om
, 
to
, 
Àn
);

71 
	`wrôe_¸0
–
	`ªad_¸0
(Ë| 
CR0_FLAG_PG
);

72 
	}
}

74 
uöt32_t
* 
	$gë_cur_pd
()

76  (
uöt32_t
*)
	`ªad_¸3
();

77 
	}
}

79 
uöt32_t
 
	$pde_idx_addr
(
uöt32_t
* 
addr
)

81 
uöt32_t
 
ªt
 = ((uöt32_t)
addr
 & 
PAGE_MASK_PDE
Ë>> 
PAGE_OFFSET_PDE
;

82  
ªt
;

83 
	}
}

85 
uöt32_t
 
	$±e_idx_addr
(
uöt32_t
* 
addr
)

87 
uöt32_t
 
ªt
 = ((uöt32_t)
addr
 & 
PAGE_MASK_PTE
Ë>> 
PAGE_OFFSET_PTE
;

88  
ªt
;

89 
	}
}

91 
uöt32_t
* 
	$±_pde
(
uöt32_t
 
pde
)

93 
uöt32_t
 * 
ªt
 = (uöt32_t*)(
pde
 & 
PAGE_MASK_BASE
);

94  
ªt
;

95 
	}
}

97 
uöt32_t
* 
	$±_addr
(
uöt32_t
* 
addr
)

99 
uöt32_t
 
idx
 = 
	`pde_idx_addr
(
addr
);

100 
uöt32_t
* 
pd
 = 
	`gë_cur_pd
();

101  
	`±_pde
(
pd
[
idx
]);

102 
	}
}

104 
uöt32_t
* 
	$pg_addr
(
uöt32_t
* 
addr
)

106 
uöt32_t
 *
±
 = 
	`±_addr
(
addr
);

107 
uöt32_t
 
idx
 = 
	`±e_idx_addr
(
addr
);

108 
uöt32_t
 *
ªt
 = (uöt32_t*)(
±
[
idx
] & 
PAGE_MASK_BASE
);

109  
ªt
;

110 
	}
}

112 
uöt32_t
 
	$±_c›y
(
uöt32_t
 *
pd
, uöt32_à*
de°_pd
, uöt32_à
idx
, uöt32_t* 
°¨t
, uöt32_t* 
íd
, 
boﬁ
 
sh¨e
)

114 
uöt32_t
 *
±
 = 
	`±_pde
(
pd
[
idx
]);

115 
uöt32_t
 *
√w_±
;

116 
uöt32_t
 *
±e_s
 = 
°¨t
;

117 
uöt32_t
 *
±e_e
 = 
íd
;

118 
uöt32_t
 
s
, 
e
, 
i
;

119 
uöt32_t
 
size


120 
PAGE_SIZE
;

122 
√w_±
 = 
	`∑Œoc_gë_∑ge
();

123 
de°_pd
[
idx
] = (
uöt32_t
)
√w_±
 | (
pd
[idx] & ~
PAGE_MASK_BASE
 & ~
PAGE_FLAG_ACCESS
);

125 if(
°¨t
 =
íd
)

128 
±e_s
 = (
uöt32_t
*)
	`sˇÀ_down
((uöt32_tÌã_s, 
size
);

129 
±e_e
 = (
uöt32_t
*)
	`sˇÀ_up
((uöt32_tÌã_e, 
size
);

131 
s
 = 
	`±e_idx_addr
(
±e_s
);

132 
e
 = 
	`±e_idx_addr
(
±e_e
);

134 if(
e
 =0 && 
°¨t
 !
íd
)

135 
e
 = 
PAGE_TBL_SIZE
/(
uöt32_t
);

137 
i
 = 
s
; i<
e
; i++)

139 if(
±
[
i
] & 
PAGE_FLAG_PRESENT
)

141 if(!
sh¨e
)

143 
uöt32_t
* 
pg
 = 
	`∑Œoc_gë_∑ge
();

144 
√w_±
[
i
] = (
uöt32_t
)
pg
 | (
±
[i] & ~
PAGE_MASK_BASE
 & ~
PAGE_FLAG_ACCESS
);

145 
	`mem˝y_h¨d
((*)(
±
[
i
] & 
PAGE_MASK_BASE
), (*)
pg
, 
PAGE_SIZE
);

148 
√w_±
[
i
] = 
±
[i];

151  
de°_pd
[
idx
];

152 
	}
}

154 
	$pd_c›y
(
uöt32_t
* 
‰om
, uöt32_t* 
to
, uöt32_t* 
°¨t
, uöt32_t* 
íd
, 
boﬁ
 
sh¨e
)

156 
uöt32_t
 *
pde_s
 = 
°¨t
;

157 
uöt32_t
 *
pde_e
 = 
íd
;

158 
uöt32_t
 
s
, 
e
, 
i
;

159 
uöt32_t
 
size


160 
PAGE_SIZE


161 * 
PAGE_TBL_SIZE
/(
uöt32_t
);

163 
pde_s
 = (
uöt32_t
*)
	`sˇÀ_down
((uöt32_tÌde_s, 
size
);

164 
pde_e
 = (
uöt32_t
*)
	`sˇÀ_up
((uöt32_tÌde_e, 
size
);

166 
s
 = 
	`pde_idx_addr
(
pde_s
);

167 
e
 = 
	`pde_idx_addr
(
pde_e
);

169 
i
 = 
s
; i<
e
; i++)

171 if(
‰om
[
i
] & 
PAGE_FLAG_PRESENT
)

172 
	`±_c›y
(
‰om
, 
to
, 
i
, 
°¨t
, 
íd
, 
sh¨e
);

174 
	}
}

176 
uöt32_t
* 
	$pd_¸óã
 (
pid_t
 
pid
)

178 
uöt32_t
 *
pd
 = 
	`∑Œoc_gë_∑ge
();

179 
	`pd_c›y
(
PID0_PAGE_DIR
, 
pd
, (
uöt32_t
*)0, (uöt32_t*)
KERNEL_HEAP
, 
åue
);

180  
pd
;

181 
	}
}

183 
	$pf_h™dÀr
(
öå_‰ame
 *
i‰ame
)

185 *
Áu…_addr
;

187 
	`asm
 ("mov»%%¸2, %0" : "Ù" (
Áu…_addr
));

189 
	`¥ötk
("PagêÁu… : %X\n",
Áu…_addr
);

192 
	}
}

	@kernel/mem/palloc.c

1 
	~<mem/∑Œoc.h
>

2 
	~<bôm≠.h
>

3 
	~<ty≥.h
>

4 
	~<round.h
>

5 
	~<mem/mm.h
>

6 
	~<synch.h
>

7 
	~<devi˚/c⁄sﬁe.h
>

8 
	~<mem/∑gög.h
>

19 
	spoﬁ


21 
lock
 
	mlock
;

22 
bôm≠
 *
	mu£d_m≠
;

23 
uöt32_t
 *
	mba£
;

26 
poﬁ
 
	gmem_poﬁ
;

28 
öô_poﬁ
 (
poﬁ
 *, *
ba£
, 
size_t
 
∑ge_˙t
,

29 c⁄° *
«me
);

33 
	$öô_∑Œoc
 ()

36 
uöt32_t
 *
‰ì_°¨t
 = (uöt32_t*)
KERNEL_ADDR
;

37 
uöt32_t
 *
‰ì_íd
 = (uöt32_t*)
	`mem_size
();

38 
size_t
 
‰ì_∑ges
 = (()
‰ì_íd
 - ()
‰ì_°¨t
Ë/ 
PAGE_SIZE
;

40 
	`öô_poﬁ
 (&
mem_poﬁ
, 
‰ì_°¨t
, 
‰ì_∑ges
, "memoryÖool");

41 
	}
}

45 
uöt32_t
 *

46 
	$∑Œoc_gë_mu…ùÀ
 (
size_t
 
∑ge_˙t
)

48 
poﬁ
 *poﬁ = &
mem_poﬁ
;

49 *
∑ges
;

50 
size_t
 
∑ge_idx
;

52 i‡(
∑ge_˙t
 == 0)

53  
NULL
;

55 
	`lock_acquúe
 (&
poﬁ
->
lock
);

56 
∑ge_idx
 = 
	`bôm≠_sˇn_™d_Êù
 (
poﬁ
->
u£d_m≠
, 0, 
∑ge_˙t
, 
Ál£
);

57 
	`lock_ªÀa£
 (&
poﬁ
->
lock
);

59 i‡(
∑ge_idx
 !
BITMAP_ERROR
)

60 
∑ges
 = 
poﬁ
->
ba£
 + 
PAGE_SIZE
 * 
∑ge_idx
/(
uöt32_t
);

62 
∑ges
 = 
NULL
;

64 i‡(
∑ges
 !
NULL
)

66 
	`mem£t
 (
∑ges
, 0, 
PAGE_SIZE
 * 
∑ge_˙t
);

69  (
uöt32_t
*)
∑ges
;

70 
	}
}

74 
uöt32_t
 *

75 
	$∑Œoc_gë_∑ge
 ()

77  
	`∑Œoc_gë_mu…ùÀ
 (1);

78 
	}
}

82 
	$∑Œoc_‰ì_mu…ùÀ
 (*
∑ges
, 
size_t
 
∑ge_˙t
)

84 
poﬁ
 *pool;

85 
size_t
 
∑ge_idx
;

87 i‡(
∑ges
 =
NULL
 || 
∑ge_˙t
 == 0)

90 
poﬁ
 = &
mem_poﬁ
;

92 
∑ge_idx
 = 
	`pg_no
 (
∑ges
Ë-Ög_nÿ(
poﬁ
->
ba£
);

94 
	`bôm≠_£t_mu…ùÀ
 (
poﬁ
->
u£d_m≠
, 
∑ge_idx
, 
∑ge_˙t
, 
Ál£
);

95 
	}
}

99 
	$∑Œoc_‰ì_∑ge
 (*
∑ge
)

101 
	`∑Œoc_‰ì_mu…ùÀ
 (
∑ge
, 1);

102 
	}
}

107 
	$öô_poﬁ
 (
poﬁ
 *
p
, *
ba£
, 
size_t
 
∑ge_˙t
, c⁄° *
«me
)

112 
size_t
 
bm_∑ges
 = 
	`DIV_ROUND_UP
 (
	`bôm≠_buf_size
 (
∑ge_˙t
), 
PAGE_SIZE
);

113 i‡(
bm_∑ges
 > 
∑ge_˙t
)

114 
	`¥ötk
("NŸÉnough mem‹y i¿%†f‹ bôm≠.", 
«me
);

115 
∑ge_˙t
 -
bm_∑ges
;

117 
	`¥ötk
 ("%uÖage†avaûabÀ i¿%s.\n", 
∑ge_˙t
, 
«me
);

120 
	`lock_öô
 (&
p
->
lock
);

121 
p
->
u£d_m≠
 = 
	`bôm≠_¸óã_ö_buf
 (
∑ge_˙t
, 
ba£
, 
bm_∑ges
 * 
PAGE_SIZE
);

122 
p
->
ba£
 = ba£ + 
bm_∑ges
 * 
PAGE_SIZE
;

123 
	}
}

	@kernel/proc/proc.c

1 
	~<li°.h
>

2 
	~<¥oc/sched.h
>

3 
	~<mem/mÆloc.h
>

4 
	~<¥oc/¥oc.h
>

5 
	~<ssulib.h
>

6 
	~<°rög.h
>

7 
	~<öãºu±.h
>

8 
	~<¥oc/sched.h
>

9 
	~<devi˚/c⁄sﬁe.h
>

10 
	~<devi˚/io.h
>

11 
	~<sysˇŒ.h
>

12 
	~<mem/∑gög.h
>

13 
	~<mem/∑Œoc.h
>

14 
	~<fûesys/fs.h
>

16 
	#STACK_SIZE
 512

	)

17 
	#PROC_NUM_MAX
 16

	)

19 
li°
 
	gp_li°
;

20 
li°
 
	gr_li°
;

21 
li°
 
	gs_li°
;

22 
li°
 
	gd_li°
;

24 
¥o˚ss
 
	g¥ocs
[
PROC_NUM_MAX
];

25 
¥o˚ss
 *
	gcur_¥o˚ss
;

26 
	gpid_num_max
;

28 
uöt32_t
 
	g¥o˚ss_°ack_ofs
;

31 
	glock_pid_sim∂e
;

32 
	gœãly_pid
;

34 
boﬁ
 
m‹e_¥io
(c⁄° 
li°_ñem
 *
a
, c⁄° li°_ñem *
b
,*
aux
);

35 
boﬁ
 
Àss_time_¶ìp
(c⁄° 
li°_ñem
 *
a
, c⁄° li°_ñem *
b
,*
aux
);

36 
pid_t
 
gëVÆidPid
(*
idx
);

38 
¥oc_°¨t
();

39 
¥oc_íd
();

41 
	$öô_¥oc
()

43 
¥o˚ss_°ack_ofs
 = 
	`off£tof
 (
¥o˚ss
, 
°ack
);

45 
lock_pid_sim∂e
 = 0;

46 
œãly_pid
 = -1;

48 
	`li°_öô
(&
p_li°
);

49 
	`li°_öô
(&
r_li°
);

50 
	`li°_öô
(&
s_li°
);

51 
	`li°_öô
(&
d_li°
);

53 
i
;

54 
i
 = 0; i < 
PROC_NUM_MAX
; i++)

56 
	`mem£t
 (&
¥ocs
[
i
], 0, 77);

57 
¥ocs
[
i
].
pid
 = i;

58 
¥ocs
[
i
].
°©e
 = 
PROC_UNUSED
;

59 
¥ocs
[
i
].
∑ª¡
 = 
NULL
;

62 
pid_t
 
pid
 = 
	`gëVÆidPid
(&
i
);

63 
cur_¥o˚ss
 = &
¥ocs
[
i
];

65 
cur_¥o˚ss
->
pid
 =Öid;

66 
cur_¥o˚ss
->
∑ª¡
 = 
NULL
;

67 
cur_¥o˚ss
->
°©e
 = 
PROC_RUN
;

68 
cur_¥o˚ss
->
¥i‹ôy
 = 0;

69 
cur_¥o˚ss
->
°ack
 = 0;

70 
cur_¥o˚ss
->
pd
 = (*)
	`ªad_¸3
();

72 
	`li°_push_back
(&
p_li°
, &
cur_¥o˚ss
->
ñem_Æl
);

73 
	`li°_push_back
(&
r_li°
, &
cur_¥o˚ss
->
ñem_°©
);

74 
	}
}

76 
pid_t
 
	$gëVÆidPid
(*
idx
) {

78 
pid_t
 
pid
 = -1;

79 
i
;

81 
lock_pid_sim∂e
)

84 
lock_pid_sim∂e
++;

87 
i
 = 0; i < 
PROC_NUM_MAX
; i++)

89 
tmp
 = 
i
 + 
œãly_pid
 + 1;

90 if(
¥ocs
[
tmp
 % 
PROC_NUM_MAX
].
°©e
 =
PROC_UNUSED
) {

91 
pid
 = 
œãly_pid
 + 1;

92 *
idx
 = 
tmp
 % 
PROC_NUM_MAX
;

97 if(
pid
 != -1)

99 
œãly_pid
 = 
pid
;

102 
lock_pid_sim∂e
 = 0;

104  
pid
;

105 
	}
}

107 
pid_t
 
	$¥oc_¸óã
(
¥oc_func
 
func
, 
¥oc_›ti⁄
 *
›t
, * 
aux
)

109 
¥o˚ss
 *
p
;

110 
idx
;

112 
öå_Àvñ
 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
();

114 
pid_t
 
pid
 = 
	`gëVÆidPid
(&
idx
);

115 
p
 = &
¥ocs
[
idx
];

117 
p
->
pid
 =Öid;

118 
p
->
°©e
 = 
PROC_RUN
;

120 if(
›t
 !
NULL
)

121 
p
->
¥i‹ôy
 = 
›t
->priority;

123 
p
->
¥i‹ôy
 = ()0;

125 
p
->
time_u£d
 = 0;

126 
p
->
time_sched
= 0;

127 
p
->
∑ª¡
 = 
cur_¥o˚ss
;

128 
p
->
sim∂e_lock
 = 0;

129 
p
->
chûd_pid
 = -1;

130 
p
->
pd
 = 
	`pd_¸óã
(
pid
);

133 *
t›
 = (*)
	`∑Œoc_gë_∑ge
();

134 
°ack
 = ()
t›
;

135 
t›
 = (*)
°ack
 + 
STACK_SIZE
 - 1;

137 *(--
t›
Ë()
aux
;

138 *(--
t›
Ë()
¥oc_íd
;

139 *(--
t›
Ë()
func
;

140 *(--
t›
Ë()
¥oc_°¨t
;

143 *(--
t›
Ë()((*)
°ack
 + 
STACK_SIZE
 - 1);

144 *(--
t›
) = 1;

145 *(--
t›
) = 2;

146 *(--
t›
) = 3;

147 *(--
t›
) = 4;

148 *(--
t›
) = 5;

149 *(--
t›
) = 6;

151 
p
->
°ack
 = 
t›
;

152 
p
->
ñem_Æl
.
¥ev
 = 
NULL
;

153 
p
->
ñem_Æl
.
√xt
 = 
NULL
;

154 
p
->
ñem_°©
.
¥ev
 = 
NULL
;

155 
p
->
ñem_°©
.
√xt
 = 
NULL
;

157 
p
->
roŸdú
 = 
cur_¥o˚ss
->rootdir;

158 
p
->
cwd
 = 
cur_¥o˚ss
->cwd;

160 
	`li°_push_back
(&
p_li°
, &
p
->
ñem_Æl
);

161 
	`li°_push_back
(&
r_li°
, &
p
->
ñem_°©
);

163 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

164  
p
->
pid
;

165 
	}
}

167 
¥o˚ss
 *
	$gë_¥o˚ss
(
pid_t
 
pid
)

169  &
¥ocs
[
pid
];

170 
	}
}

172 * 
	$gëEIP
()

174  
	`__buûtö_ªtu∫_addªss
(0);

175 
	}
}

177 
	$¥oc_°¨t
()

179 
	`öå_íabÀ
 ();

181 
	}
}

183 
	$¥oc_‰ì
()

185 
uöt32_t
 
±
 = *(uöt32_t*)
cur_¥o˚ss
->
pd
;

186 
cur_¥o˚ss
->
∑ª¡
->
chûd_pid
 = cur_¥o˚ss->
pid
;

187 
cur_¥o˚ss
->
∑ª¡
->
sim∂e_lock
 = 0;

189 
	`li°_ªmove
(&
cur_¥o˚ss
->
ñem_°©
);

191 
cur_¥o˚ss
->
°©e
 = 
PROC_ZOMBIE
;

192 
	`li°_push_back
(&
d_li°
, &
cur_¥o˚ss
->
ñem_°©
);

194 
	}
}

196 
	$¥oc_íd
()

198 
	`¥oc_‰ì
();

199 
	`scheduÀ
();

200 
	`¥ötk
("neverÑeach\n");

202 
	}
}

204 
	$¥oc_wake
()

206 
¥o˚ss
* 
p
;

207 
t
 = 
	`gë_ticks
();

209 !
	`li°_em±y
(&
s_li°
))

211 
p
 = 
	`li°_íåy
(
	`li°_‰⁄t
(&
s_li°
), 
¥o˚ss
, 
ñem_°©
);

212 if(
p
->
time_¶ìp
 > 
t
)

215 
p
->
°©e
 = 
PROC_RUN
;

216 
	`li°_ªmove
(&
p
->
ñem_°©
);

218 
	}
}

220 
	$¥oc_¶ìp
(
ticks
)

222 
cur_ticks
 = 
	`gë_ticks
();

223 
cur_¥o˚ss
->
time_¶ìp
 = 
ticks
 + 
cur_ticks
;

224 
cur_¥o˚ss
->
°©e
 = 
PROC_STOP
;

225 
	`li°_ö£π_‹dîed
(&
s_li°
, &
cur_¥o˚ss
->
ñem_°©
,

226 
Àss_time_¶ìp
, 
NULL
);

227 
	`scheduÀ
();

228 
	}
}

230 
	$¥oc_block
()

232 
cur_¥o˚ss
->
°©e
 = 
PROC_BLOCK
;

233 
	`scheduÀ
();

234 
	}
}

236 
	$¥oc_unblock
(
¥o˚ss
* 
¥oc
)

238 
öå_Àvñ
 
ﬁd_Àvñ
;

240 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
();

242 
	`li°_push_back
(&
r_li°
, &
¥oc
->
ñem_°©
);

243 
¥oc
->
°©e
 = 
PROC_RUN
;

245 
	`öå_£t_Àvñ
(
ﬁd_Àvñ
);

246 
	}
}

248 
boﬁ
 
	$Àss_time_¶ìp
(c⁄° 
li°_ñem
 *
a
, c⁄° li°_ñem *
b
,*
aux
)

250 
¥o˚ss
 *
p1
 = 
	`li°_íåy
(
a
, ¥o˚ss, 
ñem_°©
);

251 
¥o˚ss
 *
p2
 = 
	`li°_íåy
(
b
, ¥o˚ss, 
ñem_°©
);

253  
p1
->
time_¶ìp
 < 
p2
->time_sleep;

254 
	}
}

256 
boﬁ
 
	$m‹e_¥io
(c⁄° 
li°_ñem
 *
a
, c⁄° li°_ñem *
b
,*
aux
)

258 
¥o˚ss
 *
p1
 = 
	`li°_íåy
(
a
, ¥o˚ss, 
ñem_°©
);

259 
¥o˚ss
 *
p2
 = 
	`li°_íåy
(
b
, ¥o˚ss, 
ñem_°©
);

260  
p1
->
¥i‹ôy
 > 
p2
->priority;

261 
	}
}

264 
	$kî√l1_¥oc
(* 
aux
)

266 
cur_¥o˚ss
 -> 
¥i‹ôy
 = 200;

269 
	`scheduÀ
();

271 
	}
}

273 
	$kî√l2_¥oc
(* 
aux
)

275 
cur_¥o˚ss
 -> 
¥i‹ôy
 = 200;

278 
	`scheduÀ
();

280 
	}
}

282 
	$ps_¥oc
(* 
aux
)

284 
i
;

285 
i
 = 0; i<
PROC_NUM_MAX
; i++)

287 
¥o˚ss
 *
p
 = &
¥ocs
[
i
];

289 if(
p
->
°©e
 =
PROC_UNUSED
)

292 
	`¥ötk
("pid %dÖpid ", 
p
->
pid
);

294 if(
p
->
∑ª¡
 !
NULL
)

295 
	`¥ötk
("%d", 
p
->
∑ª¡
->
pid
);

297 
	`¥ötk
("non");

299 
	`¥ötk
(" state %dÖrio %d usingÅime %d schedÅime %d\n",

300 
p
->
°©e
,Ö->
¥i‹ôy
,Ö->
time_u£d
,Ö->
time_sched
);

303 
	`exô
(1);

304 
	}
}

306 c⁄° * 
VERSION
;

307 c⁄° * 
AUTHOR
;

308 c⁄° * 
MODIFIER
;

309 
	$u«me_¥oc
(* 
aux
)

311 
	`¥ötk
("SSUOS %s\nmadêby %s\nmodefõd by %s\n", 
VERSION
, 
AUTHOR
, 
MODIFIER
);

313 
	}
}

315 
	$mkdú_¥oc
(* 
aux
)

317 *
dú_«me
 = (*)
aux
;

319 
cur_¥o˚ss
->
cwd
->
v_›
.
	`mkdú
(
dú_«me
);

320 
	}
}

322 
	$ls_¥oc
(){

323 
li°_ñem
 *
e
;

324 
vnode
 *
cwd
 = 
cur_¥o˚ss
->cwd;

325 
vnode
 *
chûd
;

327 if(
cwd
->
v_›
.
ls
 !
NULL
){

328 
cwd
->
v_›
.
	`ls
();

330 
	`¥ötk
(". .. ");

331 
e
 = 
	`li°_begö
 (&
cwd
->
chûdli°
);É !
	`li°_íd
 (&cwd->chûdli°);É = 
	`li°_√xt
 (e))

333 
chûd
 = 
	`li°_íåy
(
e
, 
vnode
, 
ñem
);

334 
	`¥ötk
("%†", 
chûd
->
v_«me
);

336 
	`¥ötk
("\n");

338 
	}
}

340 
	$ˇt_¥oc
(*
aux
){

341 *
fûíame
 = (*)
aux
;

342 
vnode
 *
cwd
 = 
cur_¥o˚ss
->cwd;

344 if(
cwd
->
v_›
.
ˇt
 !
NULL
){

345 
cwd
->
v_›
.
	`ˇt
(
fûíame
);

347 
	`¥ötk
("cat command isÇotávailiable\n");

349 
	}
}

351 
	$cd_¥oc
(*
dú_«me
)

353 
li°_ñem
 *
e
;

354 
vnode
 *
cwd
 = 
cur_¥o˚ss
->cwd;

355 
vnode
 *
chûd
;

357 if(
	`°rcmp
(
dú_«me
, ".") == 0){

359 }if(
	`°rcmp
(
dú_«me
, "..") == 0){

360 
cur_¥o˚ss
->
cwd
 = cur_¥o˚ss->cwd->
v_∑ª¡
;

362 }if(
	`°rcmp
(
dú_«me
, "/") == 0){

363 
cur_¥o˚ss
->
cwd
 = cur_¥o˚ss->
roŸdú
;

367 if(
cwd
->
v_›
.
cd
 !
NULL
){

368 
cwd
->
v_›
.
	`cd
(
dú_«me
);

372 
e
 = 
	`li°_begö
 (&
cwd
->
chûdli°
);É !
	`li°_íd
 (&cwd->chûdli°);É = 
	`li°_√xt
 (e))

374 
chûd
 = 
	`li°_íåy
(
e
, 
vnode
, 
ñem
);

376 if(
	`°rcmp
(
chûd
->
v_«me
, 
dú_«me
) == 0){

377 if(
chûd
->
ty≥
 =
DIR_TYPE
){

378 
cur_¥o˚ss
->
cwd
 = 
chûd
;

380 
	`¥ötk
("%s isÇotá directory\n");

385 
	`¥ötk
("%s isÇotá directory\n");

387 
	}
}

389 
	$¥öt_pid
(* 
aux
) {

392 
	`¥ötk
("pid = %d ", 
cur_¥o˚ss
->
pid
);

393 
	`¥ötk
("¥iÿ%d ", 
cur_¥o˚ss
->
¥i‹ôy
);

394 
	`¥ötk
("timê%d ", 
cur_¥o˚ss
->
time_¶i˚
);

395 
	`¥ötk
("tick†%d ", 
	`gë_ticks
());

396 
	`¥ötk
("ö %s\n", 
aux
);

398 
	#SLEEP_FREQ
 100

	)

399 
	`¥oc_¶ìp
(
cur_¥o˚ss
->
pid
 * cur_¥o˚ss->pid * 
SLEEP_FREQ
);

401 
	}
}

403 
	$¥öt_cwd
(
vnode
 *vnode){

404 if(
cur_¥o˚ss
->
roŸdú
 =
vnode
){

405 
	`¥ötk
("~");

407 
	`¥öt_cwd
(
vnode
->
v_∑ª¡
);

408 
	`¥ötk
("/%s", 
vnode
->
v_«me
);

410 
	}
}

414 * 
	mcmd
;

415 
	mty≥
;

416 * 
	mfunc
;

417 } 
	tCmdLi°
;

419 
	$shñl_¥oc
(* 
aux
)

422 
CmdLi°
 
cmdli°
[] = {

423 {"shutdown", 0, 
shutdown
},

424 {"ps", 1, 
ps_¥oc
},

426 {"mkdú", 1, 
mkdú_¥oc
},

427 {"ls", 0, 
ls_¥oc
},

428 {"ˇt", 1, 
ˇt_¥oc
},

430 
	#CMDNUM
 5

	)

431 
	#TOKNUM
 3

	)

432 
buf
[
BUFSIZ
];

433 
tokí
[
TOKNUM
][
BUFSIZ
];

434 
tokí_num
;

436 
cur_¥o˚ss
 -> 
¥i‹ôy
 = 100;

441 
¥oc_func
 *
func
;

442 
i
, 
Àn
;

445 
	`¥öt_cwd
(
cur_¥o˚ss
->
cwd
);

446 
	`¥ötk
("> ");

448 
	`gëkbd
(
buf
,
BUFSIZ
))

453 
i
=0;
buf
[i] != '\n'; i++);

454 
i
--; 
buf
[i] == ' '; i--)

455 
buf
[
i
] = 0;

457 
tokí_num
 = 
	`gëTokí
(
buf
,
tokí
,
TOKNUM
);

460 if–
	`°rcmp
(
tokí
[0], "exit") == 0)

463 if–
	`°∫cmp
(
tokí
[0], "li°", 
BUFSIZ
) == 0)

465 
i
 = 0; i < 
CMDNUM
; i++)

466 
	`¥ötk
("%s\n", 
cmdli°
[
i
].
cmd
);

470 if–
	`°∫cmp
(
tokí
[0], "cd", 
BUFSIZ
) == 0)

472 
	`cd_¥oc
(
tokí
[1]);

476 if–
	`°∫cmp
(
tokí
[0], "mou¡", 
BUFSIZ
) == 0)

478 
	`mou¡
(
tokí
[1],Åoken[2]);

482 
i
 = 0; i < 
CMDNUM
; i++)

484 if–
	`°∫cmp
(
cmdli°
[
i
].
cmd
, 
tokí
[0], 
BUFSIZ
) == 0)

488 if(
i
 =
CMDNUM
)

490 
	`¥ötk
("Unknow¿comm™d %s\n", 
buf
);

494 if(
cmdli°
[
i
].
ty≥
 == 0)

496 (*
func
)(*);

497 
func
 = 
cmdli°
[
i
].func;

498 
	`func
((*)0x9);

500 if(
cmdli°
[
i
].
ty≥
 == 1)

502 
cur_¥o˚ss
->
sim∂e_lock
 = 1;

503 
pid
 = 
	`f‹k
(
cmdli°
[
i
].
func
, 
tokí
[1]);

505 
cur_¥o˚ss
->
sim∂e_lock
)

510 
	`¥ötk
("UnknownÅype\n");

514 
	}
}

516 
	$idÀ
(* 
aux
)

518 
	`¥oc_¸óã
(
kî√l1_¥oc
, 
NULL
, NULL);

519 
	`¥oc_¸óã
(
kî√l2_¥oc
, 
NULL
, NULL);

520 
	`¥oc_¸óã
(
shñl_¥oc
, 
NULL
, NULL);

523 if(
cur_¥o˚ss
->
pid
 != 0) {

524 
	`¥ötk
("îr‹ : idÀÖro˚ss'†pid !0\n", 
cur_¥o˚ss
->
pid
);

528  !
	`li°_em±y
(&
d_li°
) )

530 
li°_ñem
 *
e
 = 
	`li°_p›_‰⁄t
(&
d_li°
);

531 
¥o˚ss
 *
p
 = 
	`li°_íåy
(
e
, ¥o˚ss, 
ñem_°©
);

532 
p
->
°©e
 = 
PROC_UNUSED
;

533 
	`li°_ªmove
–&
p
->
ñem_Æl
);

536 
	`scheduÀ
();

538 
	}
}

540 
	$¥oc_¥öt_d©a
()

542 
a
, 
b
, 
c
, 
d
, 
bp
, 
si
, 
di
, 
•
;

545 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
a
));

547 
__asm__
 
	`__vﬁ©ûe
("mov %ebx ,%eax");

548 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
b
));

550 
__asm__
 
	`__vﬁ©ûe
("mov %ecx ,%eax");

551 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
c
));

553 
__asm__
 
	`__vﬁ©ûe
("mov %edx ,%eax");

554 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
d
));

557 
__asm__
 
	`__vﬁ©ûe
("mov %ebp ,%eax");

558 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
bp
));

560 
__asm__
 
	`__vﬁ©ûe
("mov %esi ,%eax");

561 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
si
));

563 
__asm__
 
	`__vﬁ©ûe
("mov %edi ,%eax");

564 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
di
));

566 
__asm__
 
	`__vﬁ©ûe
("mov %esp ,%eax");

567 
__asm__
 
	`__vﬁ©ûe
("mov %%óx ,%0": "=m"(
•
));

569 
	`¥ötk
( "\neax %oÉbx %oÉcx %oÉdx %o"\

571 , 
a
, 
b
, 
c
, 
d
, 
bp
, 
si
, 
di
, 
•
);

572 
	}
}

574 
	$hexDump
 (*
addr
, 
Àn
) {

575 
i
;

576 
buff
[17];

577 *
pc
 = (*)
addr
;

579 i‡(
Àn
 == 0) {

580 
	`¥ötk
(" ZERO LENGTH\n");

583 i‡(
Àn
 < 0) {

584 
	`¥ötk
(" NEGATIVE LENGTH: %i\n",
Àn
);

589 
i
 = 0; i < 
Àn
; i++) {

592 i‡((
i
 % 16) == 0) {

594 i‡(
i
 != 0)

595 
	`¥ötk
 (" %s\n", 
buff
);

598 
	`¥ötk
 (" %04x ", 
i
);

602 
	`¥ötk
 (" %02x", 
pc
[
i
]);

605 i‡((
pc
[
i
] < 0x20) || (pc[i] > 0x7e))

606 
buff
[
i
 % 16] = '.';

608 
buff
[
i
 % 16] = 
pc
[i];

609 
buff
[(
i
 % 16) + 1] = '\0';

613 (
i
 % 16) != 0) {

614 
	`¥ötk
 (" ");

615 
i
++;

619 
	`¥ötk
 (" %s\n", 
buff
);

620 
	}
}

	@kernel/proc/sched.c

1 
	~<li°.h
>

2 
	~<¥oc/sched.h
>

3 
	~<mem/mÆloc.h
>

4 
	~<¥oc/¥oc.h
>

5 
	~<¥oc/swôch.h
>

7 
li°
 
r_li°
;

9 
boﬁ
 
m‹e_¥io
(c⁄° 
li°_ñem
 *
a
, c⁄° li°_ñem *
b
,*
aux
);

11 
¥o˚ss
* 
	$gë_√xt_¥oc
() {

13 
li°_ñem
 *
e
;

15 if(
cur_¥o˚ss
->
°©e
 =
PROC_RUN
)

17 
	`li°_ªmove
(&
cur_¥o˚ss
->
ñem_°©
);

18 
	`li°_push_back
(&
r_li°
, &
cur_¥o˚ss
->
ñem_°©
);

21 
e
 = 
	`li°_begö
 (&
r_li°
);É !
	`li°_íd
 (&r_list);

22 
e
 = 
	`li°_√xt
 (e))

24 
¥o˚ss
* 
p
 = 
	`li°_íåy
(
	`li°_‰⁄t
(&
r_li°
), ¥o˚ss, 
ñem_°©
);

25 if(
p
->
°©e
 =
PROC_RUN
)

26  
p
;

28  
cur_¥o˚ss
;

29 
	}
}

31 
	$scheduÀ
()

33 
¥o˚ss
 *
cur
;

34 
¥o˚ss
 *
√xt
;

36 
	`¥oc_wake
();

38 
√xt
 = 
	`gë_√xt_¥oc
();

39 
cur
 = 
cur_¥o˚ss
;

40 
cur_¥o˚ss
 = 
√xt
;

41 
cur_¥o˚ss
->
time_sched
++;

42 
cur_¥o˚ss
->
time_¶i˚
 = 0;

44 
	`swôch_¥o˚ss
(
cur
, 
√xt
);

45 
	}
}

	@kernel/ssulib.c

1 
	~<ssulib.h
>

2 
	~<devi˚/c⁄sﬁe.h
>

3 
	~<devi˚/io.h
>

4 
	~<sysˇŒ.h
>

27 
	$°∫cmp
(* 
b1
, * 
b2
, 
Àn
)

29 
i
;

31 
i
 = 0; i < 
Àn
; i++)

33 
c
 = 
b1
[
i
] - 
b2
[i];

34 if(
c
)

35  
c
;

36 if(
b1
[
i
] == 0)

40 
	}
}

42 
boﬁ
 
	$gëkbd
(*
buf
, 
Àn
)

44 
ch
;

45 
off£t
 = 0;

47 
Àn
--;

49 ; 
off£t
 < 
Àn
 && 
buf
[offset] != 0; offset++)

50 if(
buf
[
off£t
] == '\n')

52 ;
off£t
>=0;offset--)

53 
buf
[
off£t
] = 0;

54 
off£t
++;

58  (
ch
 = 
	`ssuªad
()) >= 0)

60 if(
ch
 ='\b' && 
off£t
 == 0)

62 
	`£t_curs‹
();

65 
	`¥ötk
("%c",
ch
);

66 
	`£t_curs‹
();

67 i‡(
ch
 == '\b')

69 
buf
[
off£t
-1] = 0;

70 
off£t
--;

72 i‡(
ch
 == '\n')

74 
buf
[
off£t
] = 
ch
;

75  
FALSE
;

79 
buf
[
off£t
] = 
ch
;

80 
off£t
++;

82 if(
off£t
 =
Àn
) offset--;

116  
TRUE
;

117 
	}
}

120 
	$gëTokí
(* 
buf
, 
tokí
[][
BUFSIZ
], 
max_tok
)

122 
num_tok
 = 0;

123 
off_tok
 = 0;

124 
num_tok
 < 
max_tok
 && *
buf
 != '\n')

126 if(*
buf
 == ' ')

128 
tokí
[
num_tok
][
off_tok
] = 0;

129 *
buf
 == ' ') buf++;

130 
off_tok
 = 0;

131 
num_tok
++;

135 
tokí
[
num_tok
][
off_tok
] = *
buf
;

136 
off_tok
++;

137 
buf
++;

140 
tokí
[
num_tok
][
off_tok
] = 0;

141 
num_tok
++;

143  
num_tok
;

144 
	}
}

	@kernel/stdio.c

1 
	~<°dio.h
>

2 
	~<˘y≥.h
>

3 
	~<öây≥s.h
>

4 
	~<round.h
>

5 
	~<°döt.h
>

6 
	~<°rög.h
>

9 
	sv¢¥ötf_aux


11 *
	mp
;

12 
	mÀngth
;

13 
	mmax_Àngth
;

16 
v¢¥ötf_hñ≥r
 (, *);

26 
	$v¢¥ötf
 (*
buf„r
, 
size_t
 
buf_size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

29 
v¢¥ötf_aux
 
aux
;

30 
aux
.
p
 = 
buf„r
;

31 
aux
.
Àngth
 = 0;

32 
aux
.
max_Àngth
 = 
buf_size
 > 0 ? buf_size - 1 : 0;

35 
	`__v¥ötf
 (
f‹m©
, 
¨gs
, 
v¢¥ötf_hñ≥r
, &
aux
);

38 i‡(
buf_size
 > 0)

39 *
aux
.
p
 = '\0';

41  
aux
.
Àngth
;

42 
	}
}

46 
	$v¢¥ötf_hñ≥r
 (
ch
, *
aux_
)

48 
v¢¥ötf_aux
 *
aux
 = 
aux_
;

50 i‡(
aux
->
Àngth
++ <áux->
max_Àngth
)

51 *
aux
->
p
++ = 
ch
;

52 
	}
}

62 
	$¢¥ötf
 (*
buf„r
, 
size_t
 
buf_size
, c⁄° *
f‹m©
, ...)

64 
va_li°
 
¨gs
;

65 
ªtvÆ
;

67 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

68 
ªtvÆ
 = 
	`v¢¥ötf
 (
buf„r
, 
buf_size
, 
f‹m©
, 
¨gs
);

69 
	`va_íd
 (
¨gs
);

71  
ªtvÆ
;

72 
	}
}

79 
	$¥ötf
 (c⁄° *
f‹m©
, ...)

82 
ªtvÆ
;

88  
ªtvÆ
;

89 
	}
}

94 
	s¥ötf_c⁄vîsi⁄


99 
	mMINUS
 = 1 << 0,

100 
	mPLUS
 = 1 << 1,

101 
	mSPACE
 = 1 << 2,

102 
	mPOUND
 = 1 << 3,

103 
	mZERO
 = 1 << 4,

104 
	mGROUP
 = 1 << 5

106 
	mÊags
;

109 
	mwidth
;

113 
	m¥ecisi⁄
;

118 
	mCHAR
 = 1,

119 
	mSHORT
 = 2,

120 
	mINT
 = 3,

121 
	mINTMAX
 = 4,

122 
	mLONG
 = 5,

123 
	mLONGLONG
 = 6,

124 
	mPTRDIFFT
 = 7,

125 
	mSIZET
 = 8

127 
	mty≥
;

130 
	söãgî_ba£


132 
	mba£
;

133 c⁄° *
	mdigôs
;

134 
	mx
;

135 
	mgroup
;

138 c⁄° 
öãgî_ba£
 
	gba£_d
 = {10, "0123456789", 0, 3};

139 c⁄° 
öãgî_ba£
 
	gba£_o
 = {8, "01234567", 0, 3};

140 c⁄° 
öãgî_ba£
 
	gba£_x
 = {16, "0123456789abcdef", 'x', 4};

141 c⁄° 
öãgî_ba£
 
	gba£_X
 = {16, "0123456789ABCDEF", 'X', 4};

143 c⁄° *
∑r£_c⁄vîsi⁄
 (c⁄° *
f‹m©
,

144 
¥ötf_c⁄vîsi⁄
 *,

145 
va_li°
 *);

146 
f‹m©_öãgî
 (
vÆue
, 
boﬁ
 
is_sig√d
, boﬁ 
√g©ive
,

147 c⁄° 
öãgî_ba£
 *,

148 c⁄° 
¥ötf_c⁄vîsi⁄
 *,

149 (*
ouçut
Ë(, *), *
aux
);

150 
	`ouçut_dup
 (
ch
, 
size_t
 
˙t
,

151 (*
ouçut
Ë(, *), *
aux
);

152 
	`f‹m©_°rög
 (c⁄° *
°rög
, 
Àngth
,

153 
¥ötf_c⁄vîsi⁄
 *,

154 (*
ouçut
Ë(, *), *
aux
);

157 
	$__v¥ötf
 (c⁄° *
f‹m©
, 
va_li°
 
¨gs
,

158 (*
ouçut
Ë(, *), *
aux
)

160 ; *
f‹m©
 != '\0'; format++)

162 
¥ötf_c⁄vîsi⁄
 
c
;

165 i‡(*
f‹m©
 != '%')

167 
	`ouçut
 (*
f‹m©
, 
aux
);

170 
f‹m©
++;

173 i‡(*
f‹m©
 == '%')

175 
	`ouçut
 ('%', 
aux
);

180 
f‹m©
 = 
	`∑r£_c⁄vîsi⁄
 (f‹m©, &
c
, &
¨gs
);

183 *
f‹m©
)

189 
ötmax_t
 
vÆue
;

191 
c
.
ty≥
)

193 
CHAR
:

194 
vÆue
 = (sig√d Ë
	`va_¨g
 (
¨gs
, );

196 
SHORT
:

197 
vÆue
 = (Ë
	`va_¨g
 (
¨gs
, );

199 
INT
:

200 
vÆue
 = 
	`va_¨g
 (
¨gs
, );

202 
INTMAX
:

203 
vÆue
 = 
	`va_¨g
 (
¨gs
, 
ötmax_t
);

205 
LONG
:

206 
vÆue
 = 
	`va_¨g
 (
¨gs
, );

208 
LONGLONG
:

209 
vÆue
 = 
	`va_¨g
 (
¨gs
, );

211 
PTRDIFFT
:

212 
vÆue
 = 
	`va_¨g
 (
¨gs
, 
±rdiff_t
);

214 
SIZET
:

215 
vÆue
 = 
	`va_¨g
 (
¨gs
, 
size_t
);

216 i‡(
vÆue
 > 
SIZE_MAX
 / 2)

217 
vÆue
 = vÆuê- 
SIZE_MAX
 - 1;

223 
	`f‹m©_öãgî
 (
vÆue
 < 0 ? -value : value,

224 
åue
, 
vÆue
 < 0, &
ba£_d
, &
c
, 
ouçut
, 
aux
);

234 
uötmax_t
 
vÆue
;

235 c⁄° 
öãgî_ba£
 *
b
;

237 
c
.
ty≥
)

239 
CHAR
:

240 
vÆue
 = (Ë
	`va_¨g
 (
¨gs
, );

242 
SHORT
:

243 
vÆue
 = (Ë
	`va_¨g
 (
¨gs
, );

245 
INT
:

246 
vÆue
 = 
	`va_¨g
 (
¨gs
, );

248 
INTMAX
:

249 
vÆue
 = 
	`va_¨g
 (
¨gs
, 
uötmax_t
);

251 
LONG
:

252 
vÆue
 = 
	`va_¨g
 (
¨gs
, );

254 
LONGLONG
:

255 
vÆue
 = 
	`va_¨g
 (
¨gs
, );

257 
PTRDIFFT
:

258 
vÆue
 = 
	`va_¨g
 (
¨gs
, 
±rdiff_t
);

259 #i‡
UINTMAX_MAX
 !
PTRDIFF_MAX


260 
vÆue
 &((
uötmax_t
Ë
PTRDIFF_MAX
 << 1) | 1;

263 
SIZET
:

264 
vÆue
 = 
	`va_¨g
 (
¨gs
, 
size_t
);

270 *
f‹m©
)

272 'o': 
b
 = &
ba£_o
; ;

273 'u': 
b
 = &
ba£_d
; ;

274 'x': 
b
 = &
ba£_x
; ;

275 'X': 
b
 = &
ba£_X
; ;

280 
	`f‹m©_öãgî
 (
vÆue
, 
Ál£
, fÆ£, 
b
, &
c
, 
ouçut
, 
aux
);

287 
ch
 = 
	`va_¨g
 (
¨gs
, );

288 
	`f‹m©_°rög
 (&
ch
, 1, &
c
, 
ouçut
, 
aux
);

295 c⁄° *
s
 = 
	`va_¨g
 (
¨gs
, *);

296 i‡(
s
 =
NULL
)

297 
s
 = "(null)";

302 
	`f‹m©_°rög
 (
s
, 
	`°∫Àn
 (s, 
c
.
¥ecisi⁄
), &c, 
ouçut
, 
aux
);

310 *
p
 = 
	`va_¨g
 (
¨gs
, *);

312 
c
.
Êags
 = 
POUND
;

313 
	`f‹m©_öãgî
 ((
uöçå_t
Ë
p
, 
Ál£
, false,

314 &
ba£_x
, &
c
, 
ouçut
, 
aux
);

326 
	`__¥ötf
 ("<<nÿ%%%¯ö kî√l>>", 
ouçut
, 
aux
, *
f‹m©
);

330 
	`__¥ötf
 ("<<nÿ%%%¯c⁄vîsi⁄>>", 
ouçut
, 
aux
, *
f‹m©
);

334 
	}
}

341 
	$∑r£_c⁄vîsi⁄
 (c⁄° *
f‹m©
, 
¥ötf_c⁄vîsi⁄
 *
c
,

342 
va_li°
 *
¨gs
)

345 
c
->
Êags
 = 0;

348 *
f‹m©
++)

351 
c
->
Êags
 |
MINUS
;

354 
c
->
Êags
 |
PLUS
;

357 
c
->
Êags
 |
SPACE
;

360 
c
->
Êags
 |
POUND
;

363 
c
->
Êags
 |
ZERO
;

366 
c
->
Êags
 |
GROUP
;

369 
f‹m©
--;

370 
nŸ_a_Êag
;

373 
nŸ_a_Êag
:

374 i‡(
c
->
Êags
 & 
MINUS
)

375 
c
->
Êags
 &~
ZERO
;

376 i‡(
c
->
Êags
 & 
PLUS
)

377 
c
->
Êags
 &~
SPACE
;

380 
c
->
width
 = 0;

381 i‡(*
f‹m©
 == '*')

383 
f‹m©
++;

384 
c
->
width
 = 
	`va_¨g
 (*
¨gs
, );

388 ; 
	`isdigô
 (*
f‹m©
); format++)

389 
c
->
width
 = c->width * 10 + *
f‹m©
 - '0';

391 i‡(
c
->
width
 < 0)

393 
c
->
width
 = -c->width;

394 
c
->
Êags
 |
MINUS
;

398 
c
->
¥ecisi⁄
 = -1;

399 i‡(*
f‹m©
 == '.')

401 
f‹m©
++;

402 i‡(*
f‹m©
 == '*')

404 
f‹m©
++;

405 
c
->
¥ecisi⁄
 = 
	`va_¨g
 (*
¨gs
, );

409 
c
->
¥ecisi⁄
 = 0;

410 ; 
	`isdigô
 (*
f‹m©
); format++)

411 
c
->
¥ecisi⁄
 = c->¥ecisi⁄ * 10 + *
f‹m©
 - '0';

413 i‡(
c
->
¥ecisi⁄
 < 0)

414 
c
->
¥ecisi⁄
 = -1;

416 i‡(
c
->
¥ecisi⁄
 >= 0)

417 
c
->
Êags
 &~
ZERO
;

420 
c
->
ty≥
 = 
INT
;

421 *
f‹m©
++)

424 i‡(*
f‹m©
 == 'h')

426 
f‹m©
++;

427 
c
->
ty≥
 = 
CHAR
;

430 
c
->
ty≥
 = 
SHORT
;

434 
c
->
ty≥
 = 
INTMAX
;

438 i‡(*
f‹m©
 == 'l')

440 
f‹m©
++;

441 
c
->
ty≥
 = 
LONGLONG
;

444 
c
->
ty≥
 = 
LONG
;

448 
c
->
ty≥
 = 
PTRDIFFT
;

452 
c
->
ty≥
 = 
SIZET
;

456 
f‹m©
--;

460  
f‹m©
;

461 
	}
}

471 
	$f‹m©_öãgî
 (
vÆue
, 
boﬁ
 
is_sig√d
, boﬁ 
√g©ive
,

472 c⁄° 
öãgî_ba£
 *
b
,

473 c⁄° 
¥ötf_c⁄vîsi⁄
 *
c
,

474 (*
ouçut
Ë(, *), *
aux
)

476 
buf
[64], *
˝
;

477 
x
;

478 
sign
;

479 
¥ecisi⁄
;

480 
∑d_˙t
;

481 
digô_˙t
;

486 
sign
 = 0;

487 i‡(
is_sig√d
)

489 i‡(
c
->
Êags
 & 
PLUS
)

490 
sign
 = 
√g©ive
 ? '-' : '+';

491 i‡(
c
->
Êags
 & 
SPACE
)

492 
sign
 = 
√g©ive
 ? '-' : ' ';

493 i‡(
√g©ive
)

494 
sign
 = '-';

500 
x
 = (
c
->
Êags
 & 
POUND
Ë&& 
vÆue
 ? 
b
->x : 0;

505 
˝
 = 
buf
;

506 
digô_˙t
 = 0;

507 
vÆue
 > 0)

509 i‡((
c
->
Êags
 & 
GROUP
Ë&& 
digô_˙t
 > 0 && digô_˙à% 
b
->
group
 == 0)

510 *
˝
++ = ',';

511 *
˝
++ = 
b
->
digôs
[
vÆue
 % b->
ba£
];

512 
vÆue
 /
b
->
ba£
;

513 
digô_˙t
++;

521 
¥ecisi⁄
 = 
c
->precision < 0 ? 1 : c->precision;

522 
˝
 - 
buf
 < 
¥ecisi⁄
 && cp < buf +  buf - 1)

523 *
˝
++ = '0';

524 i‡((
c
->
Êags
 & 
POUND
Ë&& 
b
->
ba£
 =8 && (
˝
 =
buf
 || cp[-1] != '0'))

525 *
˝
++ = '0';

528 
∑d_˙t
 = 
c
->
width
 - (
˝
 - 
buf
Ë- (
x
 ? 2 : 0Ë- (
sign
 != 0);

529 i‡(
∑d_˙t
 < 0)

530 
∑d_˙t
 = 0;

533 i‡((
c
->
Êags
 & (
MINUS
 | 
ZERO
)) == 0)

534 
	`ouçut_dup
 (' ', 
∑d_˙t
, 
ouçut
, 
aux
);

535 i‡(
sign
)

536 
	`ouçut
 (
sign
, 
aux
);

537 i‡(
x
)

539 
	`ouçut
 ('0', 
aux
);

540 
	`ouçut
 (
x
, 
aux
);

542 i‡(
c
->
Êags
 & 
ZERO
)

543 
	`ouçut_dup
 ('0', 
∑d_˙t
, 
ouçut
, 
aux
);

544 
˝
 > 
buf
)

545 
	`ouçut
 (*--
˝
, 
aux
);

546 i‡(
c
->
Êags
 & 
MINUS
)

547 
	`ouçut_dup
 (' ', 
∑d_˙t
, 
ouçut
, 
aux
);

548 
	}
}

552 
	$ouçut_dup
 (
ch
, 
size_t
 
˙t
, (*
ouçut
Ë(, *), *
aux
)

554 
˙t
-- > 0)

555 
	`ouçut
 (
ch
, 
aux
);

556 
	}
}

562 
	$f‹m©_°rög
 (c⁄° *
°rög
, 
Àngth
,

563 
¥ötf_c⁄vîsi⁄
 *
c
,

564 (*
ouçut
Ë(, *), *
aux
)

566 
i
;

567 i‡(
c
->
width
 > 
Àngth
 && (c->
Êags
 & 
MINUS
) == 0)

568 
	`ouçut_dup
 (' ', 
c
->
width
 - 
Àngth
, 
ouçut
, 
aux
);

569 
i
 = 0; i < 
Àngth
; i++)

570 
	`ouçut
 (
°rög
[
i
], 
aux
);

571 i‡(
c
->
width
 > 
Àngth
 && (c->
Êags
 & 
MINUS
) != 0)

572 
	`ouçut_dup
 (' ', 
c
->
width
 - 
Àngth
, 
ouçut
, 
aux
);

573 
	}
}

578 
	$__¥ötf
 (c⁄° *
f‹m©
,

579 (*
ouçut
Ë(, *), *
aux
, ...)

581 
va_li°
 
¨gs
;

583 
	`va_°¨t
 (
¨gs
, 
aux
);

584 
	`__v¥ötf
 (
f‹m©
, 
¨gs
, 
ouçut
, 
aux
);

585 
	`va_íd
 (
¨gs
);

586 
	}
}

594 
	$hex_dump
 (
uöçå_t
 
ofs
, c⁄° *
buf_
, 
size_t
 
size
, 
boﬁ
 
ascii
)

596 c⁄° 
uöt8_t
 *
buf
 = 
buf_
;

597 c⁄° 
size_t
 
≥r_löe
 = 16;

599 
size
 > 0)

601 
size_t
 
°¨t
, 
íd
, 
n
;

602 
size_t
 
i
;

605 
°¨t
 = 
ofs
 % 
≥r_löe
;

606 
íd
 = 
≥r_löe
;

607 i‡(
íd
 - 
°¨t
 > 
size
)

608 
íd
 = 
°¨t
 + 
size
;

609 
n
 = 
íd
 - 
°¨t
;

612 
	`¥ötf
 ("%08jx ", (
uötmax_t
Ë
	`ROUND_DOWN
 (
ofs
, 
≥r_löe
));

613 
i
 = 0; i < 
°¨t
; i++)

614 
	`¥ötf
 (" ");

615 ; 
i
 < 
íd
; i++)

616 
	`¥ötf
 ("%02hhx%c",

617 
buf
[
i
 - 
°¨t
], i =
≥r_löe
 / 2 - 1? '-' : ' ');

618 i‡(
ascii
)

620 ; 
i
 < 
≥r_löe
; i++)

621 
	`¥ötf
 (" ");

622 
	`¥ötf
 ("|");

623 
i
 = 0; i < 
°¨t
; i++)

624 
	`¥ötf
 (" ");

625 ; 
i
 < 
íd
; i++)

626 
	`¥ötf
 ("%c",

627 
	`i•röt
 (
buf
[
i
 - 
°¨t
]) ? buf[i - start] : '.');

628 ; 
i
 < 
≥r_löe
; i++)

629 
	`¥ötf
 (" ");

630 
	`¥ötf
 ("|");

632 
	`¥ötf
 ("\n");

634 
ofs
 +
n
;

635 
buf
 +
n
;

636 
size
 -
n
;

638 
	}
}

643 
	$¥öt_hum™_ªadabÀ_size
 (
uöt64_t
 
size
)

645 i‡(
size
 == 1)

646 
	`¥ötf
 ("1 byte");

649 c⁄° *
Á˘‹s
[] = {"byãs", "kB", "MB", "GB", "TB", 
NULL
};

650 c⁄° **
Â
;

652 
Â
 = 
Á˘‹s
; 
size
 >1024 && fp[1] !
NULL
; fp++)

653 
size
 /= 1024;

654 
	`¥ötf
 ("%"
PRIu64
" %s", 
size
, *
Â
);

656 
	}
}

	@kernel/string.c

1 
	~<°rög.h
>

2 
	~<°d¨g.h
>

3 
	~<debug.h
>

4 
	~<ty≥.h
>

8 
	$mem˝y
 (*
d°_
, c⁄° *
§c_
, 
size_t
 
size
)

10 *
d°
 = 
d°_
;

11 c⁄° *
§c
 = 
§c_
;

16 
size
-- > 0)

17 *
d°
++ = *
§c
++;

19  
d°_
;

20 
	}
}

25 
	$memmove
 (*
d°_
, c⁄° *
§c_
, 
size_t
 
size
)

27 *
d°
 = 
d°_
;

28 c⁄° *
§c
 = 
§c_
;

33 i‡(
d°
 < 
§c
)

35 
size
-- > 0)

36 *
d°
++ = *
§c
++;

40 
d°
 +
size
;

41 
§c
 +
size
;

42 
size
-- > 0)

43 *--
d°
 = *--
§c
;

46  
d°
;

47 
	}
}

54 
	$memcmp
 (c⁄° *
a_
, c⁄° *
b_
, 
size_t
 
size
)

56 c⁄° *
a
 = 
a_
;

57 c⁄° *
b
 = 
b_
;

62 ; 
size
-- > 0; 
a
++, 
b
++)

63 i‡(*
a
 !*
b
)

64  *
a
 > *
b
 ? +1 : -1;

66 
	}
}

74 
	$°rcmp
 (c⁄° *
a_
, c⁄° *
b_
)

76 c⁄° *
a
 = (c⁄° *Ë
a_
;

77 c⁄° *
b
 = (c⁄° *Ë
b_
;

82 *
a
 !'\0' && *®=*
b
)

84 
a
++;

85 
b
++;

88  *
a
 < *
b
 ? -1 : *a > *b;

89 
	}
}

95 
	$memchr
 (c⁄° *
block_
, 
ch_
, 
size_t
 
size
)

97 c⁄° *
block
 = 
block_
;

98 
ch
 = 
ch_
;

102 ; 
size
-- > 0; 
block
++)

103 i‡(*
block
 =
ch
)

104  (*Ë
block
;

106  
NULL
;

107 
	}
}

114 
	$°rchr
 (c⁄° *
°rög
, 
c_
)

116 
c
 = 
c_
;

121 i‡(*
°rög
 =
c
)

122  (*Ë
°rög
;

123 i‡(*
°rög
 == '\0')

124  
NULL
;

126 
°rög
++;

127 
	}
}

131 
size_t


132 
	$°rc•n
 (c⁄° *
°rög
, c⁄° *
°›
)

134 
size_t
 
Àngth
;

136 
Àngth
 = 0; 
°rög
[length] != '\0';Üength++)

137 i‡(
	`°rchr
 (
°›
, 
°rög
[
Àngth
]Ë!
NULL
)

139  
Àngth
;

140 
	}
}

146 
	$°Ωbrk
 (c⁄° *
°rög
, c⁄° *
°›
)

148 ; *
°rög
 != '\0'; string++)

149 i‡(
	`°rchr
 (
°›
, *
°rög
Ë!
NULL
)

150  (*Ë
°rög
;

151  
NULL
;

152 
	}
}

157 
	$°ºchr
 (c⁄° *
°rög
, 
c_
)

159 
c
 = 
c_
;

160 c⁄° *
p
 = 
NULL
;

162 ; *
°rög
 != '\0'; string++)

163 i‡(*
°rög
 =
c
)

164 
p
 = 
°rög
;

165  (*Ë
p
;

166 
	}
}

170 
size_t


171 
	$°r•n
 (c⁄° *
°rög
, c⁄° *
skù
)

173 
size_t
 
Àngth
;

175 
Àngth
 = 0; 
°rög
[length] != '\0';Üength++)

176 i‡(
	`°rchr
 (
skù
, 
°rög
[
Àngth
]Ë=
NULL
)

178  
Àngth
;

179 
	}
}

185 
	$°r°r
 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

187 
size_t
 
hay°ack_Àn
 = 
	`°æí
 (
hay°ack
);

188 
size_t
 
√edÀ_Àn
 = 
	`°æí
 (
√edÀ
);

190 i‡(
hay°ack_Àn
 >
√edÀ_Àn
)

192 
size_t
 
i
;

194 
i
 = 0; i <
hay°ack_Àn
 - 
√edÀ_Àn
; i++)

195 i‡(!
	`memcmp
 (
hay°ack
 + 
i
, 
√edÀ
, 
√edÀ_Àn
))

196  (*Ë
hay°ack
 + 
i
;

199  
NULL
;

200 
	}
}

236 
	$°πok_r
 (*
s
, c⁄° *
dñimôîs
, **
ßve_±r
)

238 *
tokí
;

245 i‡(
s
 =
NULL
)

246 
s
 = *
ßve_±r
;

250 
	`°rchr
 (
dñimôîs
, *
s
Ë!
NULL
)

255 i‡(*
s
 == '\0')

257 *
ßve_±r
 = 
s
;

258  
NULL
;

261 
s
++;

265 
tokí
 = 
s
;

266 
	`°rchr
 (
dñimôîs
, *
s
Ë=
NULL
)

267 
s
++;

268 i‡(*
s
 != '\0')

270 *
s
 = '\0';

271 *
ßve_±r
 = 
s
 + 1;

274 *
ßve_±r
 = 
s
;

275  
tokí
;

276 
	}
}

280 
	$mem£t
 (*
d°_
, 
vÆue
, 
size_t
 
size
)

282 *
d°
 = 
d°_
;

286 
size
-- > 0)

287 *
d°
++ = 
vÆue
;

289  
d°_
;

290 
	}
}

307 
size_t


308 
	$°∫Àn
 (c⁄° *
°rög
, 
size_t
 
maxÀn
)

310 
size_t
 
Àngth
;

312 
Àngth
 = 0; 
°rög
[Àngth] !'\0' &&Üígth < 
maxÀn
;Üength++)

314  
Àngth
;

315 
	}
}

326 
size_t


327 
	$°æ˝y
 (*
d°
, c⁄° *
§c
, 
size_t
 
size
)

329 
size_t
 
§c_Àn
;

334 
§c_Àn
 = 
	`°æí
 (
§c
);

335 i‡(
size
 > 0)

337 
size_t
 
d°_Àn
 = 
size
 - 1;

338 i‡(
§c_Àn
 < 
d°_Àn
)

339 
d°_Àn
 = 
§c_Àn
;

340 
	`mem˝y
 (
d°
, 
§c
, 
d°_Àn
);

341 
d°
[
d°_Àn
] = '\0';

343  
§c_Àn
;

344 
	}
}

356 
size_t


357 
	$°æˇt
 (*
d°
, c⁄° *
§c
, 
size_t
 
size
)

359 
size_t
 
§c_Àn
, 
d°_Àn
;

364 
§c_Àn
 = 
	`°æí
 (
§c
);

365 
d°_Àn
 = 
	`°æí
 (
d°
);

366 i‡(
size
 > 0 && 
d°_Àn
 < size)

368 
size_t
 
c›y_˙t
 = 
size
 - 
d°_Àn
 - 1;

369 i‡(
§c_Àn
 < 
c›y_˙t
)

370 
c›y_˙t
 = 
§c_Àn
;

371 
	`mem˝y
 (
d°
 + 
d°_Àn
, 
§c
, 
c›y_˙t
);

372 
d°
[
d°_Àn
 + 
c›y_˙t
] = '\0';

374  
§c_Àn
 + 
d°_Àn
;

375 
	}
}

	@kernel/synch.c

1 
	~<synch.h
>

2 
	~<öãºu±.h
>

3 
	~<¥oc/¥oc.h
>

4 
	~<devi˚/c⁄sﬁe.h
>

6 #i‚de‡
ASSERT


7 
	#ASSERT
(
COND
Ë;

	)

21 
	$£ma_öô
(
£m≠h‹e
 *
£ma
, 
vÆue
)

23 
	`ASSERT
 (
£ma
 !
NULL
);

25 
£ma
->
vÆue
 = value;

26 
	`li°_öô
(&
£ma
->
waôîs
);

27 
	}
}

38 
	$£ma_down
 (
£m≠h‹e
 *
£ma
)

40 
öå_Àvñ
 
ﬁd_Àvñ
;

42 
	`ASSERT
 (
£ma
 !
NULL
);

43 
	`ASSERT
 (!
	`öå_c⁄ãxt
 ());

45 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
 ();

46 
£ma
->
vÆue
 == 0)

49 
	`li°_push_back
 (&
£ma
->
waôîs
, &
cur_¥o˚ss
->
ñem_°©
);

50 
	`¥oc_block
 ();

52 
£ma
->
vÆue
--;

53 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

54 
	}
}

61 
boﬁ


62 
	$£ma_åy_down
 (
£m≠h‹e
 *
£ma
)

64 
öå_Àvñ
 
ﬁd_Àvñ
;

66 
boﬁ
 
suc˚ss
;

68 
	`ASSERT
 (
£ma
 !
NULL
);

70 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
 ();

71 i‡(
£ma
->
vÆue
 > 0)

73 
£ma
->
vÆue
--;

74 
suc˚ss
 = 
åue
;

77 
suc˚ss
 = 
Ál£
;

78 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

80  
suc˚ss
;

81 
	}
}

88 
	$£ma_up
 (
£m≠h‹e
 *
£ma
)

90 
öå_Àvñ
 
ﬁd_Àvñ
;

92 
	`ASSERT
 (
£ma
 !
NULL
);

94 
ﬁd_Àvñ
 = 
	`öå_dißbÀ
 ();

95 i‡(!
	`li°_em±y
 (&
£ma
->
waôîs
))

96 
	`¥oc_unblock
 (
	`li°_íåy
 (
	`li°_p›_‰⁄t
 (&
£ma
->
waôîs
),

97 
¥o˚ss
, 
ñem_°©
));

98 
£ma
->
vÆue
++;

99 
	`öå_£t_Àvñ
 (
ﬁd_Àvñ
);

100 
	}
}

101 
£ma_ã°_hñ≥r
 (*
£ma_
);

107 
	$£ma_£lf_ã°
 ()

109 
£m≠h‹e
 
£ma
[2];

110 
i
;

112 
	`¥ötk
 ("Testing semaphores...");

113 
	`£ma_öô
 (&
£ma
[0], 0);

114 
	`£ma_öô
 (&
£ma
[1], 0);

115 
	`¥oc_¸óã
 (
£ma_ã°_hñ≥r
, 
NULL
, &
£ma
);

116 
i
 = 0; i < 10; i++)

118 
	`£ma_up
 (&
£ma
[0]);

119 
	`£ma_down
 (&
£ma
[1]);

121 
	`¥ötk
 ("done.\n");

122 
	}
}

126 
	$£ma_ã°_hñ≥r
 (*
£ma_
)

128 
£m≠h‹e
 *
£ma
 = 
£ma_
;

129 
i
;

130 
cur_¥o˚ss
 -> 
¥i‹ôy
 = 100;

132 
i
 = 0; i < 10; i++)

134 
	`£ma_down
 (&
£ma
[0]);

135 
	`£ma_up
 (&
£ma
[1]);

137 
	}
}

156 
	$lock_öô
 (
lock
 *lock)

158 
	`ASSERT
 (
lock
 !
NULL
);

160 
lock
->
hﬁdî
 = 
NULL
;

161 
	`£ma_öô
 (&
lock
->
£m≠h‹e
, 1);

162 
	}
}

173 
	$lock_acquúe
 (
lock
 *lock)

175 
	`ASSERT
 (
lock
 !
NULL
);

176 
	`ASSERT
 (!
	`öå_c⁄ãxt
 ());

177 
	`ASSERT
 (!
	`lock_hñd_by_cuºít_thªad
 (
lock
));

179 
	`£ma_down
 (&
lock
->
£m≠h‹e
);

180 
lock
->
hﬁdî
 = 
cur_¥o˚ss
;

181 
	}
}

189 
boﬁ


190 
	$lock_åy_acquúe
 (
lock
 *lock)

192 
boﬁ
 
suc˚ss
;

194 
	`ASSERT
 (
lock
 !
NULL
);

195 
	`ASSERT
 (!
	`lock_hñd_by_cuºít_thªad
 (
lock
));

197 
suc˚ss
 = 
	`£ma_åy_down
 (&
lock
->
£m≠h‹e
);

198 i‡(
suc˚ss
)

199 
lock
->
hﬁdî
 = 
cur_¥o˚ss
;

200  
suc˚ss
;

201 
	}
}

209 
	$lock_ªÀa£
 (
lock
 *lock)

211 
	`ASSERT
 (
lock
 !
NULL
);

212 
	`ASSERT
 (
	`lock_hñd_by_cuºít_thªad
 (
lock
));

214 
lock
->
hﬁdî
 = 
NULL
;

215 
	`£ma_up
 (&
lock
->
£m≠h‹e
);

216 
	}
}

221 
boﬁ


222 
	$lock_hñd_by_cuºít_thªad
 (c⁄° 
lock
 *lock)

224 
	`ASSERT
 (
lock
 !
NULL
);

226  
lock
->
hﬁdî
 =
cur_¥o˚ss
;

227 
	}
}

	@kernel/vsprintk.c

1 
	~<°d¨g.h
>

3 
	#ZEROPAD
 1

	)

4 
	#SIGN
 2

	)

5 
	#PLUS
 4

	)

6 
	#SPACE
 8

	)

7 
	#LEFT
 16

	)

8 
	#SPECIAL
 32

	)

9 
	#SMALL
 64

	)

11 
	#is_digô
(
c
Ë–(cË> '0' && (cË< '9' )

	)

13 
	#do_div
(
n
,
ba£
) \

15 
__ªs
; \

16 
__ªs
 = (()
n
Ë% ()
ba£
; \

17 
n
 = ((ÍË/ ()
ba£
; \

18 
__ªs
; \

19 })

	)

21 
	$°æí
(c⁄° *
°rög
)

23 c⁄° *
ªt
 = 
°rög
;

25 *
°rög
++);

27  
°rög
 - 1 - 
ªt
;

28 
	}
}

30 *
	$numbî
(* 
°r
, 
num
, 
ba£
, 
size
, 
¥ecisi⁄
, 
ty≥
)

32 
c
,
sign
,
tmp
[36];

33 c⁄° *
digôs
="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";

34 
i
;

36 i‡(
ty≥
&
SMALL
Ë
digôs
="0123456789abcdefghijklmnopqrstuvwxyz";

37 i‡(
ty≥
&
LEFT
Ëty≥ &~
ZEROPAD
;

38 i‡(
ba£
<2 || base>36)

40 
c
 = (
ty≥
 & 
ZEROPAD
) ? '0' : ' ' ;

41 i‡(
ty≥
&
SIGN
 && 
num
<0) {

42 
sign
='-';

43 
num
 = -num;

45 
sign
=(
ty≥
&
PLUS
Ë? '+' : (—y≥&
SPACE
) ? ' ' : 0);

46 i‡(
sign
Ë
size
--;

47 i‡(
ty≥
&
SPECIAL
)

48 i‡(
ba£
==16Ë
size
 -= 2;

49 i‡(
ba£
==8Ë
size
--;

50 
i
=0;

51 i‡(
num
==0)

52 
tmp
[
i
++]='0';

53 
num
!=0)

54 
tmp
[
i
++]=
digôs
[
	`do_div
(
num
,
ba£
)];

55 i‡(
i
>
¥ecisi⁄
)Örecision=i;

56 
size
 -
¥ecisi⁄
;

57 i‡(!(
ty≥
&(
ZEROPAD
+
LEFT
)))

58 
size
-->0)

59 *
°r
++ = ' ';

60 i‡(
sign
)

61 *
°r
++ = 
sign
;

62 i‡(
ty≥
&
SPECIAL
)

63 i‡(
ba£
==8)

64 *
°r
++ = '0';

65 i‡(
ba£
==16) {

66 *
°r
++ = '0';

67 *
°r
++ = 
digôs
[33];

69 i‡(!(
ty≥
&
LEFT
))

70 
size
-->0)

71 *
°r
++ = 
c
;

72 
i
<
¥ecisi⁄
--)

73 *
°r
++ = '0';

74 
i
-->0)

75 *
°r
++ = 
tmp
[
i
];

76 
size
-->0)

77 *
°r
++ = ' ';

78  
°r
;

79 
	}
}

81 
	$skù_©oi
(c⁄° **
s
)

83 
i
=0;

85 
	`is_digô
(**
s
))

87 
i
 = i*10 + *((*
s
)++) - '0';

89  
i
;

90 
	}
}

92 
	$v•rötk
(*
buf
, c⁄° *
fmt
, 
va_li°
 
¨gs
)

94 
Àn
;

95 
i
;

97 
quÆifõr
;

98 
¥ecisi⁄
;

99 
fõld_width
;

101 *
°r
;

102 *
s
;

103 *
ù
;

105 
Êags
;

107 
°r
 = 
buf
 ; *
fmt
 ; ++fmt)

109 if(*
fmt
 != '%')

111 *
°r
++ = *
fmt
;

115 
Êags
 = 0;

116 
ª≥©
:

117 ++
fmt
;

118 *
fmt
)

120 '-': 
Êags
 |
LEFT
; 
ª≥©
;

121 '+': 
Êags
 |
PLUS
; 
ª≥©
;

122 ' ': 
Êags
 |
SPACE
; 
ª≥©
;

123 '#': 
Êags
 |
SPECIAL
 ; 
ª≥©
;

124 '0': 
Êags
 |
ZEROPAD
; 
ª≥©
;

127 
fõld_width
 = -1;

129 if(
	`is_digô
(*
fmt
))

131 
fõld_width
 = 
	`skù_©oi
(&
fmt
);

133 if(*
fmt
 == '*')

135 
fõld_width
 = 
	`va_¨g
(
¨gs
, );

136 if(
fõld_width
 < 0)

138 
fõld_width
 = -field_width;

139 
Êags
 |
LEFT
;

143 
¥ecisi⁄
 = -1;

145 if(*
fmt
 == '.')

147 ++
fmt
;

148 if(
	`is_digô
(*
fmt
))

150 
¥ecisi⁄
 = 
	`skù_©oi
(&
fmt
);

152 if(*
fmt
 == '*')

154 
¥ecisi⁄
 = 
	`va_¨g
(
¨gs
, );

156 if(
¥ecisi⁄
 < 0)

158 
¥ecisi⁄
 = 0;

162 
quÆifõr
 = -1;

164 if(*
fmt
 == 'h' || *fmt == 'l' || *fmt == 'L')

166 
quÆifõr
 = *
fmt
;

167 ++
fmt
;

170 *
fmt
)

174 if(!(
Êags
 & 
LEFT
))

176 --
fõld_width
 > 0)

178 *
°r
++ = ' ';

181 *
°r
++ = ()
	`va_¨g
(
¨gs
, );

182 --
fõld_width
 > 0)

184 *
°r
++ = ' ';

190 
s
 = 
	`va_¨g
(
¨gs
, *);

191 
Àn
 = 
	`°æí
(
s
);

192 if(
¥ecisi⁄
 < 0)

194 
¥ecisi⁄
 = 
Àn
;

196 if(
Àn
 > 
¥ecisi⁄
)

198 
Àn
 = 
¥ecisi⁄
;

201 if(!(
Êags
 & 
LEFT
))

203 
Àn
 < 
fõld_width
--)

205 *
°r
++ = ' ';

208 
i
 = 0 ; i < 
Àn
 ; ++i)

210 *
°r
++ = *
s
++;

213 
Àn
 < 
fõld_width
--)

215 *
°r
++ = ' ';

221 
°r
 = 
	`numbî
(°r, 
	`va_¨g
(
¨gs
, ), 8, 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

226 if(
fõld_width
 == -1)

228 
fõld_width
 = 8;

229 
Êags
 |
ZEROPAD
;

231 
°r
 = 
	`numbî
(°r, ()
	`va_¨g
(
¨gs
, *), 16, 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

236 
Êags
 |
SMALL
;

240 
°r
 = 
	`numbî
(°r, 
	`va_¨g
(
¨gs
, ), 16, 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

246 
Êags
 |
SIGN
;

250 
°r
 = 
	`numbî
(°r, 
	`va_¨g
(
¨gs
, ), 10, 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

255 
ù
 = 
	`va_¨g
(
¨gs
, *);

256 *
ù
 = (
°r
 - 
buf
);

261 if(*
fmt
 != '%')

263 *
°r
++ = '%';

265 if(*
fmt
)

267 *
°r
++ = *
fmt
;

271 --
fmt
;

278 *
°r
 = '\0';

279  (
°r
 - 
buf
);

280 
	}
}

	@/usr/include/ctype.h

22 #i‚def 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 
	g__BEGIN_DECLS


30 #i‚de‡
_ISbô


39 
	~<ídün.h
>

40 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


41 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

43 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

48 
	m_ISuµî
 = 
_ISbô
 (0),

49 
	m_ISlowî
 = 
_ISbô
 (1),

50 
	m_ISÆpha
 = 
_ISbô
 (2),

51 
	m_ISdigô
 = 
_ISbô
 (3),

52 
	m_ISxdigô
 = 
_ISbô
 (4),

53 
	m_IS•a˚
 = 
_ISbô
 (5),

54 
	m_IS¥öt
 = 
_ISbô
 (6),

55 
	m_ISgøph
 = 
_ISbô
 (7),

56 
	m_ISbœnk
 = 
_ISbô
 (8),

57 
	m_IS˙ål
 = 
_ISbô
 (9),

58 
	m_ISpun˘
 = 
_ISbô
 (10),

59 
	m_ISÆnum
 = 
_ISbô
 (11)

79 c⁄° **
	$__˘y≥_b_loc
 ()

80 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

81 c⁄° 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

82 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

83 c⁄° 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

84 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

87 #i‚de‡
__˝lu•lus


88 
	#__is˘y≥
(
c
, 
ty≥
) \

89 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

90 #ñi‡
deföed
 
__USE_EXTERN_INLINES


91 
	#__is˘y≥_f
(
ty≥
) \

92 
__exã∫_ölöe
 \

93 
is
##
	`ty≥
 (
__c
Ë
__THROW
 \

95  (*
	`__˘y≥_b_loc
 ())[(Ë(
__c
)] & (Ë
_IS
##
ty≥
; \

96 
	}

	)
}

99 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

100 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

102 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__ex˘y≥
 (
iß um
);

111 
__ex˘y≥
 (
ißÕha
);

112 
__ex˘y≥
 (
is˙ål
);

113 
__ex˘y≥
 (
isdigô
);

114 
__ex˘y≥
 (
i¶owî
);

115 
__ex˘y≥
 (
isgøph
);

116 
__ex˘y≥
 (
i•röt
);

117 
__ex˘y≥
 (
i•un˘
);

118 
__ex˘y≥
 (
is•a˚
);

119 
__ex˘y≥
 (
isuµî
);

120 
__ex˘y≥
 (
isxdigô
);

124 
	$tﬁowî
 (
__c
Ë
__THROW
;

127 
	$touµî
 (
__c
Ë
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__ex˘y≥
 (
isbœnk
);

138 
__END_NAMESPACE_C99


141 #ifde‡
__USE_GNU


143 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

146 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


150 
	$ißscii
 (
__c
Ë
__THROW
;

154 
	$tﬂscii
 (
__c
Ë
__THROW
;

158 
	`__ex˘y≥
 (
_touµî
);

159 
	`__ex˘y≥
 (
_tﬁowî
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

164 (
__exãnsi⁄__
 \

165 ({ 
__ªs
; \

166 i‡( (
c
) > 1) \

168 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

174 
__ªs
 = 
f
 
¨gs
; \

177 
__ªs
 = (
a
)[(Ë(
c
)]; \

178 
__ªs
; 
	}
}))

	)

180 #i‡!
deföed
 
__NO_CTYPE


181 #ifde‡
__is˘y≥_f


182 
	$__is˘y≥_f
 (
Ænum
)

183 
	$__is˘y≥_f
 (
Æpha
)

184 
	$__is˘y≥_f
 (
˙ål
)

185 
	$__is˘y≥_f
 (
digô
)

186 
	$__is˘y≥_f
 (
lowî
)

187 
	$__is˘y≥_f
 (
gøph
)

188 
	$__is˘y≥_f
 (
¥öt
)

189 
	$__is˘y≥_f
 (
pun˘
)

190 
	$__is˘y≥_f
 (
•a˚
)

191 
	$__is˘y≥_f
 (
uµî
)

192 
	$__is˘y≥_f
 (
xdigô
)

193 #ifde‡
__USE_ISOC99


194 
	$__is˘y≥_f
 (
bœnk
)

196 #ñi‡
deföed
 
__is˘y≥


197 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

198 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

199 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

200 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

201 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

202 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

203 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

204 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

205 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

206 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

207 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

208 #ifde‡
__USE_ISOC99


209 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

213 #ifde‡
__USE_EXTERN_INLINES


214 
__exã∫_ölöe
 

215 
	`__NTH
 (
	$tﬁowî
 (
__c
))

217  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

218 
	}
}

220 
__exã∫_ölöe
 

221 
__NTH
 (
	$touµî
 (
__c
))

223  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

224 
	}
}

227 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


228 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

229 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

232 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


233 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

234 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

236 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

237 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

243 #ifde‡
__USE_XOPEN2K8


257 
	~<xloˇÀ.h
>

261 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

262 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

264 
	#__ex˘y≥_l
(
«me
) \

265 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

271 
__ex˘y≥_l
 (
iß um_l
);

272 
__ex˘y≥_l
 (
ißÕha_l
);

273 
__ex˘y≥_l
 (
is˙ål_l
);

274 
__ex˘y≥_l
 (
isdigô_l
);

275 
__ex˘y≥_l
 (
i¶owî_l
);

276 
__ex˘y≥_l
 (
isgøph_l
);

277 
__ex˘y≥_l
 (
i•röt_l
);

278 
__ex˘y≥_l
 (
i•un˘_l
);

279 
__ex˘y≥_l
 (
is•a˚_l
);

280 
__ex˘y≥_l
 (
isuµî_l
);

281 
__ex˘y≥_l
 (
isxdigô_l
);

283 
__ex˘y≥_l
 (
isbœnk_l
);

287 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

288 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

291 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

292 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

294 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


295 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

296 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

297 
	#__touµî_l
(
c
, 
loˇÀ
) \

298 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

299 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

300 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

304 #i‚de‡
__NO_CTYPE


305 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

306 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

307 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

308 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

309 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

310 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

311 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

312 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

313 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

314 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

315 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

317 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

319 #ifde‡
__USE_MISC


320 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

321 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

324 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

325 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

326 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

327 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

328 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

329 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

330 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

331 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

332 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

333 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

334 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

336 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

338 #ifde‡
__USE_MISC


339 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

340 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/inttypes.h

22 #i‚de‡
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<„©uªs.h
>

27 
	~<°döt.h
>

30 #i‚de‡
____gwch¨_t_deföed


31 #ifde‡
__˝lu•lus


32 
	#__gwch¨_t
 
wch¨_t


	)

33 #ñi‡
deföed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¨_t
;

36 
	#__√ed_wch¨_t


	)

37 
	~<°ddef.h
>

38 
wch¨_t
 
	t__gwch¨_t
;

40 
	#____gwch¨_t_deföed
 1

	)

43 #i‡
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Œ"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #i‡
__WORDSIZE
 == 64

273 
	mquŸ
;

274 
	mªm
;

275 } 
	timaxdiv_t
;

282 
__exãnsi⁄__
 
	mquŸ
;

283 
__exãnsi⁄__
 
	mªm
;

284 } 
	timaxdiv_t
;

290 
ötmax_t
 
	$imaxabs
 (
ötmax_t
 
__n
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
ötmax_t
 
__numî
, i¡max_à
__díom
)

294 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

297 
ötmax_t
 
	$°πoimax
 (c⁄° *
__ª°ri˘
 
__≈å
,

298 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

301 
uötmax_t
 
	$°πoumax
 (c⁄° *
__ª°ri˘
 
__≈å
,

302 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

305 
ötmax_t
 
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

306 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

307 
__THROW
;

310 
uötmax_t
 
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

311 
__gwch¨_t
 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
)

312 
__THROW
;

314 #ifde‡
__USE_EXTERN_INLINES


316 #i‡
__WORDSIZE
 == 64

318 
	$__°πﬁ_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

319 **
__ª°ri˘
 
__íd±r
,

320 
__ba£
, 
__group
)

321 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

323 
__exã∫_ölöe
 
ötmax_t


324 
	`__NTH
 (
	$°πoimax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

325 
ba£
))

327  
	`__°πﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

328 
	}
}

330 
	$__°πoul_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

331 ** 
__ª°ri˘
 
__íd±r
,

332 
__ba£
, 
__group
)

333 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

335 
__exã∫_ölöe
 
uötmax_t


336 
	`__NTH
 (
	$°πoumax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

337 
ba£
))

339  
	`__°πoul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

340 
	}
}

342 
	$__wc°ﬁ_öã∫Æ
 (c⁄° 
__gwch¨_t
 * 
__ª°ri˘
 
__≈å
,

343 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

344 
__ba£
, 
__group
)

345 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

347 
__exã∫_ölöe
 
ötmax_t


348 
	`__NTH
 (
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

349 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

351  
	`__wc°ﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

352 
	}
}

354 
	$__wc°oul_öã∫Æ
 (c⁄° 
__gwch¨_t
 *

355 
__ª°ri˘
 
__≈å
,

356 
__gwch¨_t
 **

357 
__ª°ri˘
 
__íd±r
,

358 
__ba£
, 
__group
)

359 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

361 
__exã∫_ölöe
 
uötmax_t


362 
	`__NTH
 (
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

363 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

365  
	`__wc°oul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

366 
	}
}

370 
__exãnsi⁄__


371 
	$__°πﬁl_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

372 **
__ª°ri˘
 
__íd±r
,

373 
__ba£
, 
__group
)

374 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

376 
__exã∫_ölöe
 
ötmax_t


377 
	`__NTH
 (
	$°πoimax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

378 
ba£
))

380  
	`__°πﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

381 
	}
}

383 
__exãnsi⁄__


384 
	$__°πouŒ_öã∫Æ
 (const *

385 
__ª°ri˘
 
__≈å
,

387 
__ª°ri˘
 
__íd±r
,

388 
__ba£
,

389 
__group
)

390 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

392 
__exã∫_ölöe
 
uötmax_t


393 
	`__NTH
 (
	$°πoumax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

394 
ba£
))

396  
	`__°πouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

397 
	}
}

399 
__exãnsi⁄__


400 
	$__wc°ﬁl_öã∫Æ
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

401 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

402 
__ba£
, 
__group
)

403 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

405 
__exã∫_ölöe
 
ötmax_t


406 
	`__NTH
 (
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

407 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

409  
	`__wc°ﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

410 
	}
}

413 
__exãnsi⁄__


414 
	$__wc°ouŒ_öã∫Æ
 (c⁄° 
__gwch¨_t
 *

415 
__ª°ri˘
 
__≈å
,

416 
__gwch¨_t
 **

417 
__ª°ri˘
 
__íd±r
,

418 
__ba£
,

419 
__group
)

420 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

422 
__exã∫_ölöe
 
uötmax_t


423 
	`__NTH
 (
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

424 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

426  
	`__wc°ouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

427 
	}
}

432 
	g__END_DECLS


	@/usr/include/limits.h

22 #i‚de‡
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	~<„©uªs.h
>

31 
	#MB_LEN_MAX
 16

	)

36 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

41 #i‚de‡
_LIMITS_H


42 
	#_LIMITS_H
 1

	)

44 
	~<bôs/w‹dsize.h
>

53 
	#CHAR_BIT
 8

	)

56 
	#SCHAR_MIN
 (-128)

	)

57 
	#SCHAR_MAX
 127

	)

60 
	#UCHAR_MAX
 255

	)

63 #ifde‡
__CHAR_UNSIGNED__


64 
	#CHAR_MIN
 0

	)

65 
	#CHAR_MAX
 
UCHAR_MAX


	)

67 
	#CHAR_MIN
 
SCHAR_MIN


	)

68 
	#CHAR_MAX
 
SCHAR_MAX


	)

72 
	#SHRT_MIN
 (-32768)

	)

73 
	#SHRT_MAX
 32767

	)

76 
	#USHRT_MAX
 65535

	)

79 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

80 
	#INT_MAX
 2147483647

	)

83 
	#UINT_MAX
 4294967295U

	)

86 #i‡
__WORDSIZE
 == 64

87 
	#LONG_MAX
 9223372036854775807L

	)

89 
	#LONG_MAX
 2147483647L

	)

91 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

94 #i‡
__WORDSIZE
 == 64

95 
	#ULONG_MAX
 18446744073709551615UL

	)

97 
	#ULONG_MAX
 4294967295UL

	)

100 #ifde‡
__USE_ISOC99


103 
	#LLONG_MAX
 9223372036854775807LL

	)

104 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

107 
	#ULLONG_MAX
 18446744073709551615ULL

	)

121 #i‡
deföed
 
__GNUC__
 && !deföed 
_GCC_LIMITS_H_


123 #ö˛ude_√xà<
limôs
.
h
>

129 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__


130 #i‚de‡
LLONG_MIN


131 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

133 #i‚de‡
LLONG_MAX


134 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

136 #i‚de‡
ULLONG_MAX


137 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

141 #ifdef 
__USE_POSIX


143 
	~<bôs/posix1_lim.h
>

146 #ifdef 
__USE_POSIX2


147 
	~<bôs/posix2_lim.h
>

150 #ifdef 
__USE_XOPEN


151 
	~<bôs/x›í_lim.h
>

	@/usr/include/stdint.h

22 #i‚de‡
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/wch¨.h
>

27 
	~<bôs/w‹dsize.h
>

34 #i‚de‡
__öt8_t_deföed


35 
	#__öt8_t_deföed


	)

36 sig√d 
	töt8_t
;

37 
	töt16_t
;

38 
	töt32_t
;

39 #i‡
__WORDSIZE
 == 64

40 
	töt64_t
;

42 
__exãnsi⁄__


43 
	töt64_t
;

48 
	tuöt8_t
;

49 
	tuöt16_t
;

50 #i‚de‡
__uöt32_t_deföed


51 
	tuöt32_t
;

52 
	#__uöt32_t_deföed


	)

54 #i‡
__WORDSIZE
 == 64

55 
	tuöt64_t
;

57 
__exãnsi⁄__


58 
	tuöt64_t
;

65 sig√d 
	töt_Àa°8_t
;

66 
	töt_Àa°16_t
;

67 
	töt_Àa°32_t
;

68 #i‡
__WORDSIZE
 == 64

69 
	töt_Àa°64_t
;

71 
__exãnsi⁄__


72 
	töt_Àa°64_t
;

76 
	tuöt_Àa°8_t
;

77 
	tuöt_Àa°16_t
;

78 
	tuöt_Àa°32_t
;

79 #i‡
__WORDSIZE
 == 64

80 
	tuöt_Àa°64_t
;

82 
__exãnsi⁄__


83 
	tuöt_Àa°64_t
;

90 sig√d 
	töt_Á°8_t
;

91 #i‡
__WORDSIZE
 == 64

92 
	töt_Á°16_t
;

93 
	töt_Á°32_t
;

94 
	töt_Á°64_t
;

96 
	töt_Á°16_t
;

97 
	töt_Á°32_t
;

98 
__exãnsi⁄__


99 
	töt_Á°64_t
;

103 
	tuöt_Á°8_t
;

104 #i‡
__WORDSIZE
 == 64

105 
	tuöt_Á°16_t
;

106 
	tuöt_Á°32_t
;

107 
	tuöt_Á°64_t
;

109 
	tuöt_Á°16_t
;

110 
	tuöt_Á°32_t
;

111 
__exãnsi⁄__


112 
	tuöt_Á°64_t
;

117 #i‡
__WORDSIZE
 == 64

118 #i‚de‡
__öçå_t_deföed


119 
	töçå_t
;

120 
	#__öçå_t_deföed


	)

122 
	tuöçå_t
;

124 #i‚de‡
__öçå_t_deföed


125 
	töçå_t
;

126 
	#__öçå_t_deföed


	)

128 
	tuöçå_t
;

133 #i‡
__WORDSIZE
 == 64

134 
	tötmax_t
;

135 
	tuötmax_t
;

137 
__exãnsi⁄__


138 
	tötmax_t
;

139 
__exãnsi⁄__


140 
	tuötmax_t
;

144 #i‡
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
Ë¯## 
L


	)

146 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

148 
	#__INT64_C
(
c
Ë¯## 
LL


	)

149 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #i‡
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #i‡
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #i‡
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #i‡
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #i‡
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #i‡
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifde‡
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #i‚de‡
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

282 
	#INT8_C
(
c
Ë
	)
c

283 
	#INT16_C
(
c
Ë
	)
c

284 
	#INT32_C
(
c
Ë
	)
c

285 #i‡
__WORDSIZE
 == 64

286 
	#INT64_C
(
c
Ë¯## 
L


	)

288 
	#INT64_C
(
c
Ë¯## 
LL


	)

292 
	#UINT8_C
(
c
Ë
	)
c

293 
	#UINT16_C
(
c
Ë
	)
c

294 
	#UINT32_C
(
c
Ë¯## 
U


	)

295 #i‡
__WORDSIZE
 == 64

296 
	#UINT64_C
(
c
Ë¯## 
UL


	)

298 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

302 #i‡
__WORDSIZE
 == 64

303 
	#INTMAX_C
(
c
Ë¯## 
L


	)

304 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

306 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

307 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/stdio.h

23 #i‚de‡
_STDIO_H


25 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	#__√ed_size_t


	)

32 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	~<bôs/ty≥s.h
>

36 
	#__√ed_FILE


	)

37 
	#__√ed___FILE


	)

41 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_POSIX
 \

51 || 
deföed
 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

52 || 
deföed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_deföed
 1

	)

58 #unde‡
__√ed_FILE


61 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_deföed
 1

	)

68 #unde‡
__√ed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


77 #ifde‡
__GNUC__


78 #i‚de‡
_VA_LIST_DEFINED


79 
_G_va_li°
 
	tva_li°
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<°d¨g.h
>

87 #ifde‡
__USE_XOPEN2K8


88 #i‚de‡
__off_t_deföed


89 #i‚de‡
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_deföed


	)

96 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_deföed


	)

101 #i‚de‡
__ssize_t_deföed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_deföed


	)

108 
__BEGIN_NAMESPACE_STD


109 #i‚de‡
__USE_FILE_OFFSET64


110 
_G_Âos_t
 
	tÂos_t
;

112 
_G_Âos64_t
 
	tÂos_t
;

114 
__END_NAMESPACE_STD


115 #ifde‡
__USE_LARGEFILE64


116 
_G_Âos64_t
 
	tÂos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #i‚de‡
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #i‚de‡
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifde‡
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


151 
	#P_tmpdú
 "/tmp"

	)

164 
	~<bôs/°dio_lim.h
>

168 
_IO_FILE
 *
°dö
;

169 
_IO_FILE
 *
°dout
;

170 
_IO_FILE
 *
°dîr
;

172 
	#°dö
 
°dö


	)

173 
	#°dout
 
°dout


	)

174 
	#°dîr
 
°dîr


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$ªmove
 (c⁄° *
__fûíame
Ë
__THROW
;

180 
	$ª«me
 (c⁄° *
__ﬁd
, c⁄° *
__√w
Ë
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifde‡
__USE_ATFILE


185 
	$ª«mót
 (
__ﬁdfd
, c⁄° *
__ﬁd
, 
__√wfd
,

186 c⁄° *
__√w
Ë
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #i‚de‡
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

197 #ifde‡
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

200 
	#tmpfûe
 
tmpfûe64


	)

204 #ifde‡
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

209 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifde‡
__USE_MISC


215 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

219 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


227 *
	$ãm≤am
 (c⁄° *
__dú
, c⁄° *
__pfx
)

228 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`f˛o£
 (
FILE
 *
__°ªam
);

242 
	`fÊush
 (
FILE
 *
__°ªam
);

243 
__END_NAMESPACE_STD


245 #ifde‡
__USE_MISC


252 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

255 #ifde‡
__USE_GNU


262 
	`f˛o£Æl
 ();

266 
__BEGIN_NAMESPACE_STD


267 #i‚de‡
__USE_FILE_OFFSET64


272 
FILE
 *
	$f›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

273 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

278 
FILE
 *
	$‰e›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

279 c⁄° *
__ª°ri˘
 
__modes
,

280 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

282 #ifde‡
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
f›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

284 c⁄° *
__ª°ri˘
 
__modes
), 
f›í64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

287 c⁄° *
__ª°ri˘
 
__modes
,

288 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

289 
__wur
;

291 
	#f›í
 
f›í64


	)

292 
	#‰e›í
 
‰e›í64


	)

295 
__END_NAMESPACE_STD


296 #ifde‡
__USE_LARGEFILE64


297 
FILE
 *
	$f›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

298 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

299 
FILE
 *
	$‰e›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

300 c⁄° *
__ª°ri˘
 
__modes
,

301 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fd›í
 (
__fd
, c⁄° *
__modes
Ë
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

313 c⁄° *
__ª°ri˘
 
__modes
,

314 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

317 #ifde‡
__USE_XOPEN2K8


319 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, c⁄° *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

337 
__modes
, 
size_t
 
__n
Ë
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_MISC


343 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

344 
size_t
 
__size
Ë
__THROW
;

347 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

357 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

362 
	`¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

364 
	$•rötf
 (*
__ª°ri˘
 
__s
,

365 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

371 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

372 
_G_va_li°
 
__¨g
);

377 
	`v¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

379 
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

380 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

387 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

388 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

390 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

391 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

392 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifde‡
__USE_GNU


399 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__f
,

400 
_G_va_li°
 
__¨g
)

401 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

402 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

403 c⁄° *
__ª°ri˘
 
__fmt
, ...)

404 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

405 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

406 c⁄° *
__ª°ri˘
 
__fmt
, ...)

407 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

410 #ifde‡
__USE_XOPEN2K8


412 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
,

413 
_G_va_li°
 
__¨g
)

414 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

415 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

416 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

426 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

431 
	$sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

433 
	$ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

434 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

436 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

437 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

438 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

439 #ifde‡
__REDIRECT


443 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

444 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

445 
__isoc99_fsˇnf
Ë
__wur
;

446 
	`__REDIRECT
 (
sˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

447 
__isoc99_sˇnf
Ë
__wur
;

448 
	`__REDIRECT_NTH
 (
ssˇnf
, (c⁄° *
__ª°ri˘
 
__s
,

449 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

450 
__isoc99_ssˇnf
);

452 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

453 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

454 
	$__isoc99_sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

455 
	$__isoc99_ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

456 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

457 
	#fsˇnf
 
__isoc99_fsˇnf


	)

458 
	#sˇnf
 
__isoc99_sˇnf


	)

459 
	#ssˇnf
 
__isoc99_ssˇnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

472 
_G_va_li°
 
__¨g
)

473 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

479 
	$vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

480 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

483 
	$vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

484 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

485 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

487 #i‡!
deföed
 
__USE_GNU
 \

488 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

489 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

490 #ifde‡
__REDIRECT


494 
	`__REDIRECT
 (
vfsˇnf
,

495 (
FILE
 *
__ª°ri˘
 
__s
,

496 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

497 
__isoc99_vfsˇnf
)

498 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

499 
	`__REDIRECT
 (
vsˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
,

500 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

501 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

502 
	`__REDIRECT_NTH
 (
vssˇnf
,

503 (c⁄° *
__ª°ri˘
 
__s
,

504 c⁄° *
__ª°ri˘
 
__f‹m©
,

505 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

506 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

508 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

509 c⁄° *
__ª°ri˘
 
__f‹m©
,

510 
_G_va_li°
 
__¨g
Ë
__wur
;

511 
	$__isoc99_vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
,

512 
_G_va_li°
 
__¨g
Ë
__wur
;

513 
	$__isoc99_vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

514 c⁄° *
__ª°ri˘
 
__f‹m©
,

515 
_G_va_li°
 
__¨g
Ë
__THROW
;

516 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

517 
	#vsˇnf
 
__isoc99_vsˇnf


	)

518 
	#vssˇnf
 
__isoc99_vssˇnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fgëc
 (
FILE
 *
__°ªam
);

532 
	`gëc
 (
FILE
 *
__°ªam
);

538 
	`gëch¨
 ();

539 
__END_NAMESPACE_STD


543 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

545 #ifde‡
__USE_POSIX


550 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

551 
	`gëch¨_u∆ocked
 ();

554 #ifde‡
__USE_MISC


561 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

565 
__BEGIN_NAMESPACE_STD


573 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

574 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

580 
	`putch¨
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

587 #ifde‡
__USE_MISC


594 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

597 #ifde‡
__USE_POSIX


602 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

603 
	`putch¨_u∆ocked
 (
__c
);

607 #i‡
deföed
 
__USE_MISC
 \

608 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

610 
	`gëw
 (
FILE
 *
__°ªam
);

613 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

623 
__wur
;

625 #i‡!
deföed
 
__USE_ISOC11
 \

626 || (
deföed
 
__˝lu•lus
 && __cplusplus <= 201103L)

638 *
	$gës
 (*
__s
Ë
__wur
 
__©åibuã_dïªˇãd__
;

640 
__END_NAMESPACE_STD


642 #ifde‡
__USE_GNU


649 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

650 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

666 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

667 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

668 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

669 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

670 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

678 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

679 
size_t
 *
__ª°ri˘
 
__n
,

680 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`Âuts
 (c⁄° *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

695 
	`puts
 (c⁄° *
__s
);

702 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

709 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

715 
size_t
 
	`fwrôe
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

716 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifde‡
__USE_GNU


726 
	`Âuts_u∆ocked
 (c⁄° *
__ª°ri˘
 
__s
,

727 
FILE
 *
__ª°ri˘
 
__°ªam
);

730 #ifde‡
__USE_MISC


737 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

739 
size_t
 
	`fwrôe_u∆ocked
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

740 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

754 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

759 
	`ªwöd
 (
FILE
 *
__°ªam
);

760 
__END_NAMESPACE_STD


767 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


768 #i‚de‡
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

778 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

780 #ifde‡
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#·ñlo
 
·ñlo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #i‚de‡
__USE_FILE_OFFSET64


798 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

803 
	`f£ços
 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
);

805 #ifde‡
__REDIRECT


806 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

807 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

808 
	`__REDIRECT
 (
f£ços
,

809 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
), 
f£ços64
);

811 
	#fgëpos
 
fgëpos64


	)

812 
	#f£ços
 
f£ços64


	)

815 
__END_NAMESPACE_STD


817 #ifde‡
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

819 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

820 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

821 
	`f£ços64
 (
FILE
 *
__°ªam
, c⁄° 
Âos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

828 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

830 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifde‡
__USE_MISC


835 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

836 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

837 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`≥º‹
 (c⁄° *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<bôs/sys_îæi°.h
>

856 #ifdef 
__USE_POSIX


858 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

861 #ifde‡
__USE_MISC


863 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

867 #ifde‡
__USE_POSIX2


872 
FILE
 *
	$p›í
 (c⁄° *
__comm™d
, c⁄° *
__modes
Ë
__wur
;

878 
	`p˛o£
 (
FILE
 *
__°ªam
);

882 #ifdef 
__USE_POSIX


884 *
	$˘îmid
 (*
__s
Ë
__THROW
;

888 #ifde‡
__USE_XOPEN


890 *
	`cu£rid
 (*
__s
);

894 #ifdef 
__USE_GNU


895 
ob°ack
;

898 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

899 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

900 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

901 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

902 c⁄° *
__ª°ri˘
 
__f‹m©
,

903 
_G_va_li°
 
__¨gs
)

904 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

908 #ifde‡
__USE_POSIX


912 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

916 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

919 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

922 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


926 
	#__√ed_gë›t


	)

927 
	~<gë›t.h
>

932 #ifde‡
__USE_EXTERN_INLINES


933 
	~<bôs/°dio.h
>

935 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


936 
	~<bôs/°dio2.h
>

938 #ifde‡
__LDBL_COMPAT


939 
	~<bôs/°dio-ldbl.h
>

942 
__END_DECLS


	@/usr/include/string.h

22 #i‚def 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


30 
	#__√ed_size_t


	)

31 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

35 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

43 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

46 *
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

47 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


54 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

65 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

69 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

74 c⁄° *
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

77 #ifde‡
__OPTIMIZE__


78 
__exã∫_Æways_ölöe
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


81  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

84 
__exã∫_Æways_ölöe
 const *

85 
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


87  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifde‡
__USE_GNU


100 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

103 "C++" c⁄° *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

107 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

111 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

114 "C++" c⁄° *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

117 *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

126 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

128 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

129 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

130 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

133 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

134 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

136 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

137 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

140 
	$°rcmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

141 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

143 
	$°∫cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

147 
	$°rcﬁl
 (c⁄° *
__s1
, c⁄° *
__s2
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

150 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

151 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
 
	`__n⁄nuŒ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifde‡
__USE_XOPEN2K8


159 
	~<xloˇÀ.h
>

162 
	$°rcﬁl_l
 (c⁄° *
__s1
, c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

163 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

165 
size_t
 
	$°rx‰m_l
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

166 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

169 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


171 *
	$°rdup
 (c⁄° *
__s
)

172 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

178 #i‡
deföed
 
__USE_XOPEN2K8


179 *
	$°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

180 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

183 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


185 
	#°rdu∑
(
s
) \

186 (
__exãnsi⁄__
 \

188 c⁄° *
__ﬁd
 = (
s
); \

189 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

190 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

191 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

192 
	}
}))

	)

195 
	#°∫du∑
(
s
, 
n
) \

196 (
__exãnsi⁄__
 \

198 c⁄° *
__ﬁd
 = (
s
); \

199 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

200 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

201 
__√w
[
__Àn
] = '\0'; \

202 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

203 }))

	)

206 
	g__BEGIN_NAMESPACE_STD


208 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


211 *
°rchr
 (*
__s
, 
__c
)

212 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

213 c⁄° *
°rchr
 (c⁄° *
__s
, 
__c
)

214 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

216 #ifde‡
__OPTIMIZE__


217 
__exã∫_Æways_ölöe
 *

218 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


220  
__buûtö_°rchr
 (
__s
, 
__c
);

223 
__exã∫_Æways_ölöe
 const *

224 
°rchr
 (c⁄° *
__s
, 
__c
Ë
	g__THROW


226  
__buûtö_°rchr
 (
__s
, 
__c
);

231 *
	$°rchr
 (c⁄° *
__s
, 
__c
)

232 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

235 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


238 *
	`°ºchr
 (*
__s
, 
__c
)

239 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

240 c⁄° *
	`°ºchr
 (c⁄° *
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

243 #ifde‡
__OPTIMIZE__


244 
__exã∫_Æways_ölöe
 *

245 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


247  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

250 
__exã∫_Æways_ölöe
 const *

251 
	`°ºchr
 (c⁄° *
__s
, 
__c
Ë
__THROW


253  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

256 
	}
}

258 *
	$°ºchr
 (c⁄° *
__s
, 
__c
)

259 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

261 
__END_NAMESPACE_STD


263 #ifde‡
__USE_GNU


266 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


267 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

268 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

269 "C++" c⁄° *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

272 *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

273 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

277 
__BEGIN_NAMESPACE_STD


280 
size_t
 
	$°rc•n
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

281 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

284 
size_t
 
	$°r•n
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

285 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

287 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


290 *
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
)

291 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

292 c⁄° *
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

293 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

295 #ifde‡
__OPTIMIZE__


296 
__exã∫_Æways_ölöe
 *

297 
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
Ë
__THROW


299  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

302 
__exã∫_Æways_ölöe
 const *

303 
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
Ë
__THROW


305  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

308 
	}
}

310 *
	$°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

311 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

314 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


317 *
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

318 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

319 c⁄° *
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

320 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

322 #ifde‡
__OPTIMIZE__


323 
__exã∫_Æways_ölöe
 *

324 
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


326  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

329 
__exã∫_Æways_ölöe
 const *

330 
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


332  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

335 
	}
}

337 *
	$°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

338 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

343 *
	$°πok
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
)

344 
__THROW
 
	`__n⁄nuŒ
 ((2));

345 
__END_NAMESPACE_STD


349 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

350 c⁄° *
__ª°ri˘
 
__dñim
,

351 **
__ª°ri˘
 
__ßve_±r
)

352 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

353 #ifde‡
__USE_POSIX


354 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
,

355 **
__ª°ri˘
 
__ßve_±r
)

356 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

359 #ifde‡
__USE_GNU


361 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


362 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

363 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

364 "C++" c⁄° *
	$°rˇ£°r
 (c⁄° *
__hay°ack
,

365 c⁄° *
__√edÀ
)

366 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

368 *
	$°rˇ£°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

369 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

373 #ifde‡
__USE_GNU


377 *
	$memmem
 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

378 c⁄° *
__√edÀ
, 
size_t
 
__√edÀÀn
)

379 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

383 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

384 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

385 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

386 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

387 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

388 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

392 
__BEGIN_NAMESPACE_STD


394 
size_t
 
	$°æí
 (c⁄° *
__s
)

395 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

396 
__END_NAMESPACE_STD


398 #ifdef 
__USE_XOPEN2K8


401 
size_t
 
	$°∫Àn
 (c⁄° *
__°rög
, 
size_t
 
__maxÀn
)

402 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

406 
__BEGIN_NAMESPACE_STD


408 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

409 
__END_NAMESPACE_STD


410 #ifde‡
__USE_XOPEN2K


418 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


421 #ifde‡
__REDIRECT_NTH


422 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

423 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

424 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

426 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

427 
__THROW
 
	`__n⁄nuŒ
 ((2));

428 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

433 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

434 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

438 #ifde‡
__USE_XOPEN2K8


440 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

446 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

448 #ifde‡
__USE_MISC


450 
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__n
)

451 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

454 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

457 
	$bcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

458 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

461 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


464 *
	`ödex
 (*
__s
, 
__c
)

465 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

466 c⁄° *
	`ödex
 (c⁄° *
__s
, 
__c
)

467 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

469 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


470 
__exã∫_Æways_ölöe
 *

471 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


473  
	`__buûtö_ödex
 (
__s
, 
__c
);

476 
__exã∫_Æways_ölöe
 const *

477 
	`ödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


479  
	`__buûtö_ödex
 (
__s
, 
__c
);

482 
	}
}

484 *
	$ödex
 (c⁄° *
__s
, 
__c
)

485 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

489 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


492 *
	`rödex
 (*
__s
, 
__c
)

493 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

494 c⁄° *
	`rödex
 (c⁄° *
__s
, 
__c
)

495 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

497 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


498 
__exã∫_Æways_ölöe
 *

499 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


501  
	`__buûtö_rödex
 (
__s
, 
__c
);

504 
__exã∫_Æways_ölöe
 const *

505 
	`rödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


507  
	`__buûtö_rödex
 (
__s
, 
__c
);

510 
	}
}

512 *
	$rödex
 (c⁄° *
__s
, 
__c
)

513 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

518 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

522 #ifdef 
__USE_GNU


523 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

524 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

525 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

529 
	$°rˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

530 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

533 
	$°∫ˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

534 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

537 #ifdef 
__USE_GNU


540 
	$°rˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

541 
__loˇÀ_t
 
__loc
)

542 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

544 
	$°∫ˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

545 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

546 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

549 #ifdef 
__USE_MISC


552 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

553 c⁄° *
__ª°ri˘
 
__dñim
)

554 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

557 #ifdef 
__USE_XOPEN2K8


559 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

562 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

563 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

564 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

565 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

569 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

570 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

571 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

572 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

573 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

574 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

577 #ifdef 
__USE_GNU


579 
	$°rvîscmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

580 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

583 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

586 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

588 #i‚de‡
ba£«me


593 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


594 "C++" *
	$ba£«me
 (*
__fûíame
)

595 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

596 "C++" c⁄° *
	$ba£«me
 (c⁄° *
__fûíame
)

597 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

599 *
	$ba£«me
 (c⁄° *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

605 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

606 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

607 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


627 
	~<bôs/°rög.h
>

630 
	~<bôs/°rög2.h
>

633 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


635 
	~<bôs/°rög3.h
>

639 #i‡
deföed
 
__USE_GNU
 && deföed 
__OPTIMIZE__
 \

640 && 
deföed
 
__exã∫_Æways_ölöe
 && 
	$__GNUC_PREREQ
 (3,2)

641 #i‡!
deföed
 
_FORCE_INLINES
 && !deföed 
_HAVE_STRING_ARCH_memp˝y


643 #unde‡
memp˝y


644 #unde‡
__memp˝y


645 
	#memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y_ölöe
 (de°, src,Ç)

	)

646 
	#__memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y_ölöe
 (de°, src,Ç)

	)

648 
__exã∫_Æways_ölöe
 *

649 
	$__memp˝y_ölöe
 (*
__ª°ri˘
 
__de°
,

650 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

652  (*Ë
	`mem˝y
 (
__de°
, 
__§c
, 
__n
) + __n;

653 
	}
}

658 
	g__END_DECLS


	@/usr/include/syscall.h

1 
	~<sys/sysˇŒ.h
>

	@/usr/include/endian.h

18 #i‚def 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<„©uªs.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<bôs/ídün.h
>

40 #i‚de‡
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

53 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

58 #i‡
deföed
 
__USE_MISC
 && !deföed 
__ASSEMBLER__


60 
	~<bôs/byãsw≠.h
>

62 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


63 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

64 
	#htﬁe16
(
x
Ë(x)

	)

65 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

66 
	#À16toh
(
x
Ë(x)

	)

68 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

69 
	#htﬁe32
(
x
Ë(x)

	)

70 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

71 
	#À32toh
(
x
Ë(x)

	)

73 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

74 
	#htﬁe64
(
x
Ë(x)

	)

75 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

76 
	#À64toh
(
x
Ë(x)

	)

79 
	#htobe16
(
x
Ë(x)

	)

80 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

81 
	#be16toh
(
x
Ë(x)

	)

82 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

84 
	#htobe32
(
x
Ë(x)

	)

85 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

86 
	#be32toh
(
x
Ë(x)

	)

87 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

89 
	#htobe64
(
x
Ë(x)

	)

90 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

91 
	#be64toh
(
x
Ë(x)

	)

92 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

18 #i‚def 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #unde‡
__USE_ISOC11


98 #unde‡
__USE_ISOC99


99 #unde‡
__USE_ISOC95


100 #unde‡
__USE_ISOCXX11


101 #unde‡
__USE_POSIX


102 #unde‡
__USE_POSIX2


103 #unde‡
__USE_POSIX199309


104 #unde‡
__USE_POSIX199506


105 #unde‡
__USE_XOPEN


106 #unde‡
__USE_XOPEN_EXTENDED


107 #unde‡
__USE_UNIX98


108 #unde‡
__USE_XOPEN2K


109 #unde‡
__USE_XOPEN2KXSI


110 #unde‡
__USE_XOPEN2K8


111 #unde‡
__USE_XOPEN2K8XSI


112 #unde‡
__USE_LARGEFILE


113 #unde‡
__USE_LARGEFILE64


114 #unde‡
__USE_FILE_OFFSET64


115 #unde‡
__USE_MISC


116 #unde‡
__USE_ATFILE


117 #unde‡
__USE_GNU


118 #unde‡
__USE_REENTRANT


119 #unde‡
__USE_FORTIFY_LEVEL


120 #unde‡
__KERNEL_STRICT_NAMES


124 #i‚de‡
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

137 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

146 #i‡(
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE
) \

147 && !
deföed
 
	g_DEFAULT_SOURCE


152 #unde‡
_DEFAULT_SOURCE


153 
	#_DEFAULT_SOURCE
 1

	)

157 #ifde‡
_GNU_SOURCE


158 #unde‡
_ISOC95_SOURCE


159 
	#_ISOC95_SOURCE
 1

	)

160 #unde‡
_ISOC99_SOURCE


161 
	#_ISOC99_SOURCE
 1

	)

162 #unde‡
_ISOC11_SOURCE


163 
	#_ISOC11_SOURCE
 1

	)

164 #unde‡
_POSIX_SOURCE


165 
	#_POSIX_SOURCE
 1

	)

166 #unde‡
_POSIX_C_SOURCE


167 
	#_POSIX_C_SOURCE
 200809L

	)

168 #unde‡
_XOPEN_SOURCE


169 
	#_XOPEN_SOURCE
 700

	)

170 #unde‡
_XOPEN_SOURCE_EXTENDED


171 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

172 #unde‡
_LARGEFILE64_SOURCE


173 
	#_LARGEFILE64_SOURCE
 1

	)

174 #unde‡
_DEFAULT_SOURCE


175 
	#_DEFAULT_SOURCE
 1

	)

176 #unde‡
_ATFILE_SOURCE


177 
	#_ATFILE_SOURCE
 1

	)

182 #i‡(
deföed
 
_DEFAULT_SOURCE
 \

183 || (!
deföed
 
	g__STRICT_ANSI__
 \

184 && !
deföed
 
	g_ISOC99_SOURCE
 \

185 && !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 \

186 && !
deföed
 
	g_XOPEN_SOURCE
))

187 #unde‡
_DEFAULT_SOURCE


188 
	#_DEFAULT_SOURCE
 1

	)

192 #i‡(
deföed
 
_ISOC11_SOURCE
 \

193 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

194 
	#__USE_ISOC11
 1

	)

198 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

199 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

200 
	#__USE_ISOC99
 1

	)

204 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

205 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

206 
	#__USE_ISOC95
 1

	)

213 #i‡((
deföed
 
__˝lu•lus
 && __cplusplus >= 201103L) \

214 || 
deföed
 
__GXX_EXPERIMENTAL_CXX0X__
)

215 
	#__USE_ISOCXX11
 1

	)

221 #ifde‡
_DEFAULT_SOURCE


222 #i‡!
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE


223 
	#__USE_POSIX_IMPLICITLY
 1

	)

225 #unde‡
_POSIX_SOURCE


226 
	#_POSIX_SOURCE
 1

	)

227 #unde‡
_POSIX_C_SOURCE


228 
	#_POSIX_C_SOURCE
 200809L

	)

230 #i‡((!
deföed
 
__STRICT_ANSI__
 \

231 || (
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

232 && !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

233 
	#_POSIX_SOURCE
 1

	)

234 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

235 
	#_POSIX_C_SOURCE
 2

	)

236 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

237 
	#_POSIX_C_SOURCE
 199506L

	)

238 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

239 
	#_POSIX_C_SOURCE
 200112L

	)

241 
	#_POSIX_C_SOURCE
 200809L

	)

243 
	#__USE_POSIX_IMPLICITLY
 1

	)

246 #i‡(
deföed
 
_POSIX_SOURCE
 \

247 || (
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

248 || 
deföed
 
_XOPEN_SOURCE
)

249 
	#__USE_POSIX
 1

	)

252 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


253 
	#__USE_POSIX2
 1

	)

256 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

257 
	#__USE_POSIX199309
 1

	)

260 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

261 
	#__USE_POSIX199506
 1

	)

264 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

265 
	#__USE_XOPEN2K
 1

	)

266 #unde‡
__USE_ISOC95


267 
	#__USE_ISOC95
 1

	)

268 #unde‡
__USE_ISOC99


269 
	#__USE_ISOC99
 1

	)

272 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

273 
	#__USE_XOPEN2K8
 1

	)

274 #unde‡
_ATFILE_SOURCE


275 
	#_ATFILE_SOURCE
 1

	)

278 #ifdef 
_XOPEN_SOURCE


279 
	#__USE_XOPEN
 1

	)

280 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

281 
	#__USE_XOPEN_EXTENDED
 1

	)

282 
	#__USE_UNIX98
 1

	)

283 #unde‡
_LARGEFILE_SOURCE


284 
	#_LARGEFILE_SOURCE
 1

	)

285 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

286 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

287 
	#__USE_XOPEN2K8
 1

	)

288 
	#__USE_XOPEN2K8XSI
 1

	)

290 
	#__USE_XOPEN2K
 1

	)

291 
	#__USE_XOPEN2KXSI
 1

	)

292 #unde‡
__USE_ISOC95


293 
	#__USE_ISOC95
 1

	)

294 #unde‡
__USE_ISOC99


295 
	#__USE_ISOC99
 1

	)

298 #ifde‡
_XOPEN_SOURCE_EXTENDED


299 
	#__USE_XOPEN_EXTENDED
 1

	)

304 #ifde‡
_LARGEFILE_SOURCE


305 
	#__USE_LARGEFILE
 1

	)

308 #ifde‡
_LARGEFILE64_SOURCE


309 
	#__USE_LARGEFILE64
 1

	)

312 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

313 
	#__USE_FILE_OFFSET64
 1

	)

316 #i‡
deföed
 
_DEFAULT_SOURCE


317 
	#__USE_MISC
 1

	)

320 #ifdef 
_ATFILE_SOURCE


321 
	#__USE_ATFILE
 1

	)

324 #ifdef 
_GNU_SOURCE


325 
	#__USE_GNU
 1

	)

328 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


329 
	#__USE_REENTRANT
 1

	)

332 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

333 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

334 #i‡
_FORTIFY_SOURCE
 > 1

335 
	#__USE_FORTIFY_LEVEL
 2

	)

337 
	#__USE_FORTIFY_LEVEL
 1

	)

340 
	#__USE_FORTIFY_LEVEL
 0

	)

345 
	~<°dc-¥edef.h
>

353 #unde‡
__GNU_LIBRARY__


354 
	#__GNU_LIBRARY__
 6

	)

358 
	#__GLIBC__
 2

	)

359 
	#__GLIBC_MINOR__
 23

	)

361 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

362 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

365 #i‚de‡
__ASSEMBLER__


366 #i‚de‡
_SYS_CDEFS_H


367 
	~<sys/cdefs.h
>

372 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


373 
	#__USE_LARGEFILE
 1

	)

374 
	#__USE_LARGEFILE64
 1

	)

380 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

381 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

382 && 
deföed
 
	g__exã∫_ölöe


383 
	#__USE_EXTERN_INLINES
 1

	)

391 
	~<gnu/°ubs.h
>

	@/usr/include/getopt.h

19 #i‚de‡
_GETOPT_H


21 #i‚de‡
__√ed_gë›t


22 
	#_GETOPT_H
 1

	)

32 #i‡!
deföed
 
__GNU_LIBRARY__


33 
	~<˘y≥.h
>

36 #i‚de‡
__THROW


37 #i‚de‡
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

40 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__˝lu•lus


57 *
›èrg
;

71 
›töd
;

76 
›ãº
;

80 
›t›t
;

82 #i‚de‡
__√ed_gë›t


104 
	s›ti⁄


106 c⁄° *
	g«me
;

109 
	ghas_¨g
;

110 *
	gÊag
;

111 
	gvÆ
;

116 
	#no_¨gumít
 0

	)

117 
	#ªquúed_¨gumít
 1

	)

118 
	#›ti⁄Æ_¨gumít
 2

	)

146 #ifde‡
__GNU_LIBRARY__


150 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

151 
__THROW
;

153 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

154 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


158 #ifde‡
__REDIRECT


159 
__REDIRECT_NTH
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

160 c⁄° *
__sh‹t›ts
),

161 
__posix_gë›t
);

163 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

164 c⁄° *
__sh‹t›ts
Ë
__THROW
;

165 
	#gë›t
 
__posix_gë›t


	)

169 
gë›t
 ();

172 #i‚de‡
__√ed_gë›t


173 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

174 c⁄° *
__sh‹t›ts
,

175 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

176 
__THROW
;

177 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

178 c⁄° *
__sh‹t›ts
,

179 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

180 
__THROW
;

184 #ifdef 
__˝lu•lus


189 #unde‡
__√ed_gë›t


	@/usr/include/libio.h

28 #i‚de‡
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_c⁄fig.h
>

33 
	#_IO_Âos_t
 
_G_Âos_t


	)

34 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li°
 
_G_va_li°


	)

45 
	#_IO_wöt_t
 
wöt_t


	)

48 
	#__√ed___va_li°


	)

49 
	~<°d¨g.h
>

50 #ifde‡
__GNUC_VA_LIST


51 #unde‡
_IO_va_li°


52 
	#_IO_va_li°
 
__gnuc_va_li°


	)

55 #i‚de‡
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #i‚de‡
EOF


62 
	#EOF
 (-1)

	)

64 #i‚de‡
NULL


65 #i‡
deföed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuŒ
)

	)

69 #i‡!
deföed
(
__˝lu•lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifde‡
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifde‡
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifde‡
_IO_MTSAFE_IO


150 
	t_IO_lock_t
;

156 
	s_IO_m¨kî
 {

157 
_IO_m¨kî
 *
	m_√xt
;

158 
_IO_FILE
 *
	m_sbuf
;

162 
	m_pos
;

164 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

165 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

166 
	mpublic
:

167 
°ªamm¨kî
(
°ªambuf
 *
sb
);

168 ~
°ªamm¨kî
();

169 
ßvög
(Ë{  
	m_•os
 == -2; }

170 
dñè
(
°ªamm¨kî
&);

171 
dñè
();

176 
	e__codecvt_ªsu…


178 
	m__codecvt_ok
,

179 
	m__codecvt_∑πül
,

180 
	m__codecvt_îr‹
,

181 
	m__codecvt_noc⁄v


184 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


187 
	s_IO_codecvt


189 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

190 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

191 
	m__mb°©e_t
 *,

192 c⁄° 
	mwch¨_t
 *,

193 c⁄° 
	mwch¨_t
 *,

194 c⁄° 
	mwch¨_t
 **, *,

196 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

197 
	m__mb°©e_t
 *, *,

199 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

200 
	m__mb°©e_t
 *,

202 c⁄° **, 
	mwch¨_t
 *,

203 
	mwch¨_t
 *, wchar_t **);

204 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

205 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

206 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

207 c⁄° *, c⁄° *, 
	m_IO_size_t
);

208 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

210 
_IO_ic⁄v_t
 
	m__cd_ö
;

211 
_IO_ic⁄v_t
 
	m__cd_out
;

215 
	s_IO_wide_d©a


217 
wch¨_t
 *
	m_IO_ªad_±r
;

218 
wch¨_t
 *
	m_IO_ªad_íd
;

219 
wch¨_t
 *
	m_IO_ªad_ba£
;

220 
wch¨_t
 *
	m_IO_wrôe_ba£
;

221 
wch¨_t
 *
	m_IO_wrôe_±r
;

222 
wch¨_t
 *
	m_IO_wrôe_íd
;

223 
wch¨_t
 *
	m_IO_buf_ba£
;

224 
wch¨_t
 *
	m_IO_buf_íd
;

226 
wch¨_t
 *
	m_IO_ßve_ba£
;

227 
wch¨_t
 *
	m_IO_backup_ba£
;

229 
wch¨_t
 *
	m_IO_ßve_íd
;

231 
__mb°©e_t
 
	m_IO_°©e
;

232 
__mb°©e_t
 
	m_IO_œ°_°©e
;

233 
_IO_codecvt
 
	m_codecvt
;

235 
wch¨_t
 
	m_sh‹tbuf
[1];

237 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

241 
	s_IO_FILE
 {

242 
	m_Êags
;

243 
	#_IO_fûe_Êags
 
_Êags


	)

247 * 
	m_IO_ªad_±r
;

248 * 
	m_IO_ªad_íd
;

249 * 
	m_IO_ªad_ba£
;

250 * 
	m_IO_wrôe_ba£
;

251 * 
	m_IO_wrôe_±r
;

252 * 
	m_IO_wrôe_íd
;

253 * 
	m_IO_buf_ba£
;

254 * 
	m_IO_buf_íd
;

256 *
	m_IO_ßve_ba£
;

257 *
	m_IO_backup_ba£
;

258 *
	m_IO_ßve_íd
;

260 
_IO_m¨kî
 *
	m_m¨kîs
;

262 
_IO_FILE
 *
	m_chaö
;

264 
	m_fûío
;

266 
	m_blksize
;

268 
	m_Êags2
;

270 
_IO_off_t
 
	m_ﬁd_off£t
;

272 
	#__HAVE_COLUMN


	)

274 
	m_cur_cﬁumn
;

275 sig√d 
	m_vèbÀ_off£t
;

276 
	m_sh‹tbuf
[1];

280 
_IO_lock_t
 *
	m_lock
;

281 #ifde‡
_IO_USE_OLD_IO_FILE


284 
	s_IO_FILE_com∂ëe


286 
_IO_FILE
 
	m_fûe
;

288 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

289 
_IO_off64_t
 
	m_off£t
;

290 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


292 
_IO_codecvt
 *
	m_codecvt
;

293 
_IO_wide_d©a
 *
	m_wide_d©a
;

294 
_IO_FILE
 *
	m_‰ìªs_li°
;

295 *
	m_‰ìªs_buf
;

297 *
	m__∑d1
;

298 *
	m__∑d2
;

299 *
	m__∑d3
;

300 *
	m__∑d4
;

302 
size_t
 
	m__∑d5
;

303 
	m_mode
;

305 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

309 #i‚de‡
__˝lu•lus


310 
_IO_FILE
 
	t_IO_FILE
;

313 
	g_IO_FILE_∂us
;

315 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

316 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

317 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

318 #i‚de‡
_LIBC


319 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

320 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

321 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

323 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

324 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

325 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

333 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

341 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, c⁄° *
	t__buf
,

342 
	tsize_t
 
	t__n
);

350 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

353 
	t__io_˛o£_‚
 (*
	t__cookõ
);

356 #ifde‡
_GNU_SOURCE


358 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

359 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

360 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

361 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

366 
__io_ªad_‚
 *
	mªad
;

367 
__io_wrôe_‚
 *
	mwrôe
;

368 
__io_£ek_‚
 *
	m£ek
;

369 
__io_˛o£_‚
 *
	m˛o£
;

370 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

371 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

373 
	g_IO_cookõ_fûe
;

376 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

377 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

381 #ifde‡
__˝lu•lus


385 
__undîÊow
 (
_IO_FILE
 *);

386 
__uÊow
 (
_IO_FILE
 *);

387 
__ovîÊow
 (
_IO_FILE
 *, );

388 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


389 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

390 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

391 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

394 #i‡ 
__GNUC__
 >= 3

395 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

397 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

400 
	#_IO_gëc_u∆ocked
(
_Â
) \

401 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

402 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

403 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

404 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

405 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

406 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

407 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

408 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

409 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

410 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

412 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


413 
	#_IO_gëwc_u∆ocked
(
_Â
) \

414 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

415 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

416 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

417 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

418 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

419 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

420 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

421 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

422 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

423 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

426 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

427 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

429 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

430 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

431 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

432 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

434 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

437 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

438 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

440 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

441 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

442 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

444 #ifde‡
_IO_MTSAFE_IO


445 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

446 
	#_IO_Êockfûe
(
_Â
) \

447 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

448 
	#_IO_fu∆ockfûe
(
_Â
) \

449 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

451 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

452 
	#_IO_Êockfûe
(
_Â
Ë

	)

453 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

454 
	#_IO_·rylockfûe
(
_Â
Ë

	)

455 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

456 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

459 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

460 
_IO_va_li°
, *
__ª°ri˘
);

461 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

462 
_IO_va_li°
);

463 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

464 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

466 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

467 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

469 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

471 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


472 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

473 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

474 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

475 #i‡
__GNUC__
 >= 2

478 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


479 
	~<shlib-com∑t.h
>

480 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

481 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

482 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

483 c⁄° 
_IO_°dö_u£d
;

484 
wók_exã∫
 (
_IO_°dö_u£d
);

487 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


488 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

492 
	#_IO_fwide
(
__Â
, 
__mode
) \

493 ({ 
__ªsu…
 = (
__mode
); \

494 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

496 i‡((
__Â
)->
_mode
 == 0) \

498 (
__Â
)->
_mode
 = -1; \

499 
__ªsu…
 = (
__Â
)->
_mode
; \

501 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

502 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

504 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

505 
__ªsu…
; })

	)

508 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

509 
_IO_va_li°
, *
__ª°ri˘
);

510 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

511 
_IO_va_li°
);

512 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

513 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

516 #ifde‡
__LDBL_COMPAT


517 
	~<bôs/libio-ldbl.h
>

520 #ifde‡
__˝lu•lus


	@/usr/include/xlocale.h

20 #i‚de‡
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loˇÀ_°ru˘


30 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

33 c⁄° *
	m__˘y≥_b
;

34 c⁄° *
	m__˘y≥_tﬁowî
;

35 c⁄° *
	m__˘y≥_touµî
;

38 c⁄° *
	m__«mes
[13];

39 } *
	t__loˇÀ_t
;

42 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

23 
__off_t
 
	m__pos
;

24 
__mb°©e_t
 
	m__°©e
;

25 } 
	t_G_Âos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb°©e_t
 
	m__°©e
;

30 } 
	t_G_Âos64_t
;

31 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gc⁄v.h
>

35 
__gc⁄v_öfo
 
	m__cd
;

38 
__gc⁄v_öfo
 
	m__cd
;

39 
__gc⁄v_°ï_d©a
 
	m__d©a
;

40 } 
	m__comböed
;

41 } 
	t_G_ic⁄v_t
;

46 
	#_G_va_li°
 
__gnuc_va_li°


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/stdc-predef.h

18 #i‚def 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifde‡
__GCC_IEC_559


37 #i‡
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifde‡
__GCC_IEC_559_COMPLEX


45 #i‡
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

55 
	#__STDC_ISO_10646__
 201505L

	)

58 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #i‚de‡
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<„©uªs.h
>

26 
	#__√ed_mb°©e_t


	)

27 
	#__√ed_wöt_t


	)

28 
	~<wch¨.h
>

29 
	#__√ed_size_t


	)

30 
	#__√ed_wch¨_t


	)

31 
	~<°ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004,

60 
	m__GCONV_TRANSLIT
 = 0x0008

65 
	g__gc⁄v_°ï
;

66 
	g__gc⁄v_°ï_d©a
;

67 
	g__gc⁄v_lﬂded_obje˘
;

71 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

79 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

80 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

84 
	s__gc⁄v_°ï


86 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

87 c⁄° *
__mod«me
;

89 
__cou¡î
;

91 *
__‰om_«me
;

92 *
__to_«me
;

94 
__gc⁄v_f˘
 
__f˘
;

95 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

96 
__gc⁄v_öô_f˘
 
__öô_f˘
;

97 
__gc⁄v_íd_f˘
 
__íd_f˘
;

101 
__mö_√eded_‰om
;

102 
__max_√eded_‰om
;

103 
__mö_√eded_to
;

104 
__max_√eded_to
;

107 
__°©eful
;

109 *
__d©a
;

114 
	s__gc⁄v_°ï_d©a


116 *
__outbuf
;

117 *
__outbu„nd
;

121 
__Êags
;

125 
__övoˇti⁄_cou¡î
;

129 
__öã∫Æ_u£
;

131 
__mb°©e_t
 *
__°©ï
;

132 
__mb°©e_t
 
__°©e
;

138 
	s__gc⁄v_öfo


140 
size_t
 
__n°ïs
;

141 
__gc⁄v_°ï
 *
__°ïs
;

142 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
 
__Êex¨r
;

143 } *
	t__gc⁄v_t
;

146 
	`__gc⁄v_å™¶ôî©e
 (
__gc⁄v_°ï
 *
°ï
,

147 
__gc⁄v_°ï_d©a
 *
°ï_d©a
,

148 c⁄° *
öbuf°¨t
,

149 c⁄° **
öbuÂ
,

150 c⁄° *
öbu„nd
,

151 **
outbuf°¨t
,

152 
size_t
 *
úªvîsibÀ
);

	@/usr/include/wchar.h

23 #i‚de‡
_WCHAR_H


25 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<„©uªs.h
>

30 #ifde‡
_WCHAR_H


32 
	#__√ed___FILE


	)

33 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


34 
	#__√ed_FILE


	)

36 
	~<°dio.h
>

38 
	#__√ed___va_li°


	)

39 
	~<°d¨g.h
>

41 
	~<bôs/wch¨.h
>

44 
	#__√ed_size_t


	)

45 
	#__√ed_wch¨_t


	)

46 
	#__√ed_NULL


	)

48 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


49 #unde‡
__√ed_wöt_t


50 
	#__√ed_wöt_t


	)

51 
	~<°ddef.h
>

55 #i‚de‡
_WINT_T


60 
	#_WINT_T


	)

61 
	twöt_t
;

65 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
deföed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twöt_t
;

69 
	g__END_NAMESPACE_STD


74 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
____mb°©e_t_deföed


80 
	#____mb°©e_t_deföed
 1

	)

84 
	m__cou¡
;

87 #ifde‡
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wöt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__vÆue
;

94 } 
	t__mb°©e_t
;

96 #unde‡
__√ed_mb°©e_t


101 #ifde‡
_WCHAR_H


103 #i‚de‡
__mb°©e_t_deföed


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb°©e_t_deföed
 1

	)

111 #ifde‡
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

115 #i‚de‡
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #i‚de‡
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


128 
	~<w˘y≥.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
)

149 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

152 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

153 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

154 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

157 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

158 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
)

159 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

161 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

162 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

163 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

166 
	$wcscmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
)

167 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

169 
	$wc¢cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

170 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

171 
__END_NAMESPACE_STD


173 #ifde‡
__USE_XOPEN2K8


175 
	$wcsˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

178 
	$wc¢ˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

179 
size_t
 
__n
Ë
__THROW
;

183 
	~<xloˇÀ.h
>

185 
	$wcsˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

186 
__loˇÀ_t
 
__loc
Ë
__THROW
;

188 
	$wc¢ˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

189 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

192 
__BEGIN_NAMESPACE_STD


195 
	$wcscﬁl
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

199 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

200 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

201 
__END_NAMESPACE_STD


203 #ifde‡
__USE_XOPEN2K8


209 
	$wcscﬁl_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

210 
__loˇÀ_t
 
__loc
Ë
__THROW
;

215 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

216 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

219 
wch¨_t
 *
	$wcsdup
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

222 
__BEGIN_NAMESPACE_STD


224 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


225 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

226 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

227 "C++" c⁄° 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

228 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

230 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

231 
__THROW
 
__©åibuã_puª__
;

234 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


235 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

236 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

237 "C++" c⁄° 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

238 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

240 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

241 
__THROW
 
__©åibuã_puª__
;

243 
__END_NAMESPACE_STD


245 #ifde‡
__USE_GNU


248 
wch¨_t
 *
	$wcsch∫ul
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__wc
)

249 
__THROW
 
__©åibuã_puª__
;

252 
__BEGIN_NAMESPACE_STD


255 
size_t
 
	$wcsc•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ªje˘
)

256 
__THROW
 
__©åibuã_puª__
;

259 
size_t
 
	$wcs•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

260 
__THROW
 
__©åibuã_puª__
;

262 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


263 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

264 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

265 "C++" c⁄° 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
,

266 c⁄° 
wch¨_t
 *
__ac˚±
)

267 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

269 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

270 
__THROW
 
__©åibuã_puª__
;

273 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


274 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

275 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

276 "C++" c⁄° 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
,

277 c⁄° 
wch¨_t
 *
__√edÀ
)

278 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

280 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

281 
__THROW
 
__©åibuã_puª__
;

285 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

286 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

287 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

290 
size_t
 
	$wc¶í
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

291 
__END_NAMESPACE_STD


293 #ifde‡
__USE_XOPEN


295 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


296 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

297 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

298 "C++" c⁄° 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
,

299 c⁄° 
wch¨_t
 *
__√edÀ
)

300 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

302 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

303 
__THROW
 
__©åibuã_puª__
;

307 #ifde‡
__USE_XOPEN2K8


309 
size_t
 
	$wc¢Àn
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

310 
__THROW
 
__©åibuã_puª__
;

314 
__BEGIN_NAMESPACE_STD


316 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


317 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

319 "C++" c⁄° 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
,

320 
size_t
 
__n
)

321 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

323 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

324 
__THROW
 
__©åibuã_puª__
;

328 
	$wmemcmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

329 
__THROW
 
__©åibuã_puª__
;

332 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

333 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

337 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

338 
__THROW
;

341 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

342 
__END_NAMESPACE_STD


344 #ifde‡
__USE_GNU


347 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

348 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

349 
__THROW
;

353 
__BEGIN_NAMESPACE_STD


356 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

360 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

364 
	$mbsöô
 (c⁄° 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

368 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

369 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

370 
mb°©e_t
 *
__ª°ri˘
 
__p
Ë
__THROW
;

373 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

374 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

377 
size_t
 
	$__mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

378 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

379 
size_t
 
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

380 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

381 
__END_NAMESPACE_STD


383 #ifde‡
__USE_EXTERN_INLINES


389 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

390 
__exã∫_ölöe
 
wöt_t


391 
	`__NTH
 (
	$btowc
 (
__c
))

392 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

393 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

395 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

396 
__exã∫_ölöe
 

397 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

398 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

399 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

401 
__exã∫_ölöe
 
size_t


402 
__NTH
 (
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

403 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

404 {  (
__ps
 !
NULL


405 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

408 
__BEGIN_NAMESPACE_STD


411 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

412 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

413 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

417 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

418 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

419 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

420 
__END_NAMESPACE_STD


423 #ifdef 
__USE_XOPEN2K8


426 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

427 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

428 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

432 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

433 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

434 
size_t
 
__nwc
, size_à
__Àn
,

435 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

440 #ifde‡
__USE_XOPEN


442 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

446 
	$wcswidth
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

450 
__BEGIN_NAMESPACE_STD


453 
	$wc°od
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

454 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

455 
__END_NAMESPACE_STD


457 #ifde‡
__USE_ISOC99


458 
__BEGIN_NAMESPACE_C99


460 
	$wc°of
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

461 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

462 
	$wc°ﬁd
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

463 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

464 
__END_NAMESPACE_C99


468 
__BEGIN_NAMESPACE_STD


471 
	$wc°ﬁ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

472 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

476 
	$wc°oul
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

477 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

478 
__THROW
;

479 
__END_NAMESPACE_STD


481 #ifde‡
__USE_ISOC99


482 
__BEGIN_NAMESPACE_C99


485 
__exãnsi⁄__


486 
	$wc°ﬁl
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

487 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

488 
__THROW
;

492 
__exãnsi⁄__


493 
	$wc°ouŒ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

494 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

495 
__ba£
Ë
__THROW
;

496 
__END_NAMESPACE_C99


499 #ifde‡
__USE_GNU


502 
__exãnsi⁄__


503 
	$wc°oq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

504 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

505 
__THROW
;

509 
__exãnsi⁄__


510 
	$wc°ouq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

511 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

512 
__ba£
Ë
__THROW
;

515 #ifde‡
__USE_GNU


529 
	~<xloˇÀ.h
>

533 
	$wc°ﬁ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

534 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

535 
__loˇÀ_t
 
__loc
Ë
__THROW
;

537 
	$wc°oul_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

538 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

539 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

541 
__exãnsi⁄__


542 
	$wc°ﬁl_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

543 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

544 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

546 
__exãnsi⁄__


547 
	$wc°ouŒ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

548 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

549 
__ba£
, 
__loˇÀ_t
 
__loc
)

550 
__THROW
;

552 
	$wc°od_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

553 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

554 
__THROW
;

556 
	$wc°of_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

557 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

558 
__THROW
;

560 
	$wc°ﬁd_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

561 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

562 
__loˇÀ_t
 
__loc
Ë
__THROW
;

566 #ifde‡
__USE_XOPEN2K8


569 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

570 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

574 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

575 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

576 
__THROW
;

583 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

586 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


587 
__BEGIN_NAMESPACE_STD


590 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

597 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

598 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

604 
	`w¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

607 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

608 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

609 
__THROW
 ;

615 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

616 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

617 
__gnuc_va_li°
 
__¨g
)

623 
	`vw¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

624 
__gnuc_va_li°
 
__¨g
)

628 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

629 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

630 
__gnuc_va_li°
 
__¨g
)

631 
__THROW
 ;

638 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

639 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

645 
	`wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

648 
	$swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

649 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

650 
__THROW
 ;

652 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

653 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

654 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

655 #ifde‡
__REDIRECT


659 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

660 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

661 
__isoc99_fwsˇnf
)

663 
	`__REDIRECT
 (
wsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

664 
__isoc99_wsˇnf
)

666 
	`__REDIRECT_NTH
 (
swsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

667 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

668 ...), 
__isoc99_swsˇnf
)

671 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

672 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

673 
	`__isoc99_wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

674 
	$__isoc99_swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

675 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

676 
__THROW
;

677 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

678 
	#wsˇnf
 
__isoc99_wsˇnf


	)

679 
	#swsˇnf
 
__isoc99_swsˇnf


	)

683 
__END_NAMESPACE_STD


686 #ifde‡
__USE_ISOC99


687 
__BEGIN_NAMESPACE_C99


692 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

693 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

694 
__gnuc_va_li°
 
__¨g
)

700 
	`vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

701 
__gnuc_va_li°
 
__¨g
)

704 
	$vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

705 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

706 
__gnuc_va_li°
 
__¨g
)

707 
__THROW
 ;

709 #i‡!
deföed
 
__USE_GNU
 \

710 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

711 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

712 #ifde‡
__REDIRECT


713 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

714 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

715 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

717 
	`__REDIRECT
 (
vwsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

718 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

720 
	`__REDIRECT_NTH
 (
vswsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

721 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

722 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

725 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

726 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

727 
__gnuc_va_li°
 
__¨g
);

728 
	`__isoc99_vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

729 
__gnuc_va_li°
 
__¨g
);

730 
	$__isoc99_vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

731 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

732 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

733 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

734 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

735 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

739 
__END_NAMESPACE_C99


743 
__BEGIN_NAMESPACE_STD


748 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

749 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

755 
wöt_t
 
	`gëwch¨
 ();

762 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

763 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

769 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

777 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

778 
__FILE
 *
__ª°ri˘
 
__°ªam
);

784 
	`Âutws
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

785 
__FILE
 *
__ª°ri˘
 
__°ªam
);

792 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

793 
__END_NAMESPACE_STD


796 #ifde‡
__USE_GNU


804 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

805 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

813 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

821 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

830 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

831 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

840 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

841 
__FILE
 *
__ª°ri˘
 
__°ªam
);

849 
	`Âutws_u∆ocked
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

850 
__FILE
 *
__ª°ri˘
 
__°ªam
);

854 
__BEGIN_NAMESPACE_C99


858 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

859 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

860 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

861 
__END_NAMESPACE_C99


863 #ifde‡
__USE_GNU


864 
	~<xloˇÀ.h
>

868 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

869 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

870 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

871 
__loˇÀ_t
 
__loc
Ë
__THROW
;

880 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


881 
	#__√ed_iswxxx


	)

882 
	~<w˘y≥.h
>

886 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


887 
	~<bôs/wch¨2.h
>

890 #ifde‡
__LDBL_COMPAT


891 
	~<bôs/wch¨-ldbl.h
>

894 
__END_DECLS


902 #unde‡
__√ed_mb°©e_t


903 #unde‡
__√ed_wöt_t


	@/usr/include/wctype.h

23 #i‚de‡
_WCTYPE_H


25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 #i‚de‡
__√ed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__√ed_wöt_t


	)

33 
	~<wch¨.h
>

37 #i‚de‡
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #unde‡
__√ed_iswxxx


46 #i‚de‡
__iswxxx_deföed


47 
	#__iswxxx_deföed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	tw˘y≥_t
;

53 
	g__END_NAMESPACE_C99


55 #i‚de‡
_ISwbô


60 
	~<ídün.h
>

61 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


62 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

64 
	#_ISwbô
(
bô
) \

65 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

73 
	m__ISwuµî
 = 0,

74 
	m__ISwlowî
 = 1,

75 
	m__ISwÆpha
 = 2,

76 
	m__ISwdigô
 = 3,

77 
	m__ISwxdigô
 = 4,

78 
	m__ISw•a˚
 = 5,

79 
	m__ISw¥öt
 = 6,

80 
	m__ISwgøph
 = 7,

81 
	m__ISwbœnk
 = 8,

82 
	m__ISw˙ål
 = 9,

83 
	m__ISwpun˘
 = 10,

84 
	m__ISwÆnum
 = 11,

86 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

87 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

88 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

89 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

90 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

91 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

92 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

93 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

94 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

95 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

96 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

97 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

117 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

120 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

124 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

128 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

133 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

136 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

141 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

146 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

151 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

156 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

161 #ifde‡
__USE_ISOC99


162 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

171 
w˘y≥_t
 
	$w˘y≥
 (c⁄° *
__¥›îty
Ë
__THROW
;

175 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 c⁄° 
	t__öt32_t
 *
	tw˘øns_t
;

187 
__END_NAMESPACE_C99


188 #ifde‡
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

197 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifde‡
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
w˘øns_t
 
	$w˘øns
 (c⁄° *
__¥›îty
Ë
__THROW
;

221 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifde‡
__USE_XOPEN2K8


226 
	~<xloˇÀ.h
>

230 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

236 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

239 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

243 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

247 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

252 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

255 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

260 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

265 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

270 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

275 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

280 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

284 
w˘y≥_t
 
	$w˘y≥_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

285 
__THROW
;

289 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

290 
__THROW
;

298 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

301 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

305 
w˘øns_t
 
	$w˘øns_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

306 
__THROW
;

309 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

310 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

314 
__END_DECLS


	@
1
.
1
/usr/include
97
2301
boot/i386/boot1.asm
boot/i386/bootloader.asm
kernel/arch/Main.c
kernel/arch/do_syscall.c
kernel/arch/i386/crset.asm
kernel/arch/i386/intr-stubs.S
kernel/arch/i386/io.asm
kernel/arch/i386/mem.asm
kernel/arch/i386/switch.S
kernel/arch/interrupt.c
kernel/arch/syscall.c
kernel/bitmap.c
kernel/build/Main.s
kernel/device/ata.c
kernel/device/block.c
kernel/device/console.c
kernel/device/device.c
kernel/device/kbd.c
kernel/device/partition.c
kernel/device/pit.c
kernel/filesys/fs.c
kernel/filesys/procfs.c
kernel/filesys/ssufs.c
kernel/filesys/vnode.c
kernel/include/bitmap.h
kernel/include/ctype.h
kernel/include/debug.h
kernel/include/device/ata.h
kernel/include/device/block.h
kernel/include/device/console.h
kernel/include/device/device.h
kernel/include/device/io.h
kernel/include/device/io2.h
kernel/include/device/kbd.h
kernel/include/device/partition.h
kernel/include/device/pit.h
kernel/include/do_syscall.h
kernel/include/filesys/fs.h
kernel/include/filesys/procfs.h
kernel/include/filesys/ssufs.h
kernel/include/filesys/vnode.h
kernel/include/interrupt.h
kernel/include/intr-stubs.h
kernel/include/inttypes.h
kernel/include/limits.h
kernel/include/list.h
kernel/include/loader.h
kernel/include/mem/malloc.h
kernel/include/mem/mm.h
kernel/include/mem/paging.h
kernel/include/mem/palloc.h
kernel/include/packed.h
kernel/include/proc/proc.h
kernel/include/proc/sched.h
kernel/include/proc/switch.h
kernel/include/round.h
kernel/include/ssulib.h
kernel/include/stdarg.h
kernel/include/stdbool.h
kernel/include/stddef.h
kernel/include/stdint.h
kernel/include/stdio.h
kernel/include/stdlib.h
kernel/include/string.h
kernel/include/synch.h
kernel/include/syscall.h
kernel/include/type.h
kernel/include/vaddr.h
kernel/list.c
kernel/mem/malloc.c
kernel/mem/mm.c
kernel/mem/paging.c
kernel/mem/palloc.c
kernel/proc/proc.c
kernel/proc/sched.c
kernel/ssulib.c
kernel/stdio.c
kernel/string.c
kernel/synch.c
kernel/vsprintk.c
/usr/include/ctype.h
/usr/include/inttypes.h
/usr/include/limits.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/string.h
/usr/include/syscall.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/stdc-predef.h
/usr/include/gconv.h
/usr/include/wchar.h
/usr/include/wctype.h
